'use strict';var n;function aa(){};function ba(a,b){return(a||0===a?a+"":"").padEnd(b," ")}function ca(a,b){return(a||0===a?a+"":"").padStart(b,"0")}function q(a,b,c,d){return new Proxy({},{get:function(e,f){e=new a(b.buffer,c,d);f=e[f];return"function"===typeof f?f.bind(e):f},set:function(e,f,h){(new a(b.buffer,c,d))[f]=h;return!0}})}function ea(a,b){return"0x"+ca((a?a.toString(16):"").toUpperCase(),b||1)}var ha;
if("undefined"!==typeof crypto&&crypto.getRandomValues){const a=new Int32Array(1);ha=function(){crypto.getRandomValues(a);return a[0]}}else if("undefined"!==typeof require){const a=require("crypto");ha=function(){return a.fm(4).readInt32LE(0)}}else"undefined"!==typeof process&&import("node:crypto").then(a=>{ha=function(){return a.randomBytes(4).readInt32LE(0)}});var ma;
if("function"===typeof Math.clz32)ma=function(a){return 31-Math.clz32(a)};else{for(var na=new Int8Array(256),oa=0,qa=-2;256>oa;oa++)oa&oa-1||qa++,na[oa]=qa;ma=function(a){a>>>=0;var b=a>>>16;if(b){var c=b>>>8;return c?24+na[c]:16+na[b]}return(c=a>>>8)?8+na[c]:na[a]}}function ra(a){return 1>=a?1:1<<1+ma(a-1)}
function ua(a){var b=new Uint8Array(a),c,d;this.length=0;this.push=function(e){this.length!==a&&this.length++;b[d]=e;d=d+1&a-1};this.shift=function(){if(this.length){var e=b[c];c=c+1&a-1;this.length--;return e}return-1};this.clear=function(){this.length=d=c=0};this.clear()}function va(){this.size=65536;this.data=new Float32Array(65536);this.length=this.end=this.start=0}
va.prototype.push=function(a){this.length===this.size?this.start=this.start+1&this.size-1:this.length++;this.data[this.end]=a;this.end=this.end+1&this.size-1};va.prototype.shift=function(){if(this.length){var a=this.data[this.start];this.start=this.start+1&this.size-1;this.length--;return a}};
function wa(a,b){var c=new Float32Array(b);b>a.length&&(b=a.length);var d=a.start+b,e=a.data.subarray(a.start,d);c.set(e);d>=a.size&&(d-=a.size,c.set(a.data.subarray(0,d),e.length));a.start=d;a.length-=b;return c}va.prototype.clear=function(){this.length=this.end=this.start=0};function xa(a,b){Array.isArray(a)||(a=[a]);ya(new Blob(a),b)}
function ya(a,b){var c=document.createElement("a");c.download=b;c.href=window.URL.createObjectURL(a);c.dataset.downloadurl=["application/octet-stream",c.download,c.href].join(":");document.createEvent?(a=document.createEvent("MouseEvent"),a.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),c.dispatchEvent(a)):c.click();window.URL.revokeObjectURL(c.href)}function za(a){"number"===typeof a?this.view=new Uint8Array(a+7>>3):a instanceof ArrayBuffer&&(this.view=new Uint8Array(a))}
za.prototype.set=function(a,b){const c=a>>3;a=1<<(a&7);this.view[c]=b?this.view[c]|a:this.view[c]&~a};za.prototype.get=function(a){return this.view[a>>3]>>(a&7)&1};za.prototype.ac=function(){return this.view.buffer};var Aa,Ba;
if("undefined"===typeof XMLHttpRequest||"undefined"!==typeof process&&process.yl&&process.yl.node){let a;Aa=async function(b,c){a||(a=await import("node:fs/promises"));if(c.Ae){b=await a.open(b,"r");const d=Buffer.allocUnsafe(c.Ae.length);try{await b.read({buffer:d,position:c.Ae.start})}finally{await b.close()}c.done&&c.done(new Uint8Array(d))}else b=await a.readFile(b,{encoding:c.Qe?"utf-8":null}),b=c.Qe?JSON.parse(b):(new Uint8Array(b)).buffer,c.done(b)};Ba=async function(b){a||(a=await import("node:fs/promises"));
return(await a.stat(b)).size}}else Aa=async function(a,b,c){function d(){const k=c||0;setTimeout(()=>{Aa(a,b,k+1)},1E3*([1,1,2,3,5,8,13,21][k]||34))}var e=new XMLHttpRequest;e.open(b.method||"get",a,!0);e.responseType=b.Qe?"json":"arraybuffer";if(b.headers)for(var f=Object.keys(b.headers),h=0;h<f.length;h++){var g=f[h];e.setRequestHeader(g,b.headers[g])}b.Ae&&(f=b.Ae.start,e.setRequestHeader("Range","bytes="+f+"-"+(f+b.Ae.length-1)),e.setRequestHeader("X-Accept-Encoding","identity"),e.onreadystatechange=
function(){200===e.status&&(console.error("Server sent full file in response to ranged request, aborting",{filename:a}),e.abort())});e.onload=function(){if(4===e.readyState)if(200!==e.status&&206!==e.status)console.error("Loading the image "+a+" failed (status %d)",e.status),500<=e.status&&600>e.status&&d();else if(e.response){if(b.Ae){const k=e.getResponseHeader("Content-Encoding");k&&"identity"!==k&&console.error("Server sent Content-Encoding in response to ranged request",{filename:a,Tl:k})}b.done&&
b.done(e.response,e)}};e.onerror=function(k){console.error("Loading the image "+a+" failed",k);d()};b.progress&&(e.onprogress=function(k){b.progress(k)});e.send(null)},Ba=async function(a){return new Promise((b,c)=>{Aa(a,{done:(d,e)=>{d=e.getResponseHeader("Content-Range")||"";(e=d.match(/\/(\d+)\s*$/))?b(+e[1]):c(Error("`Range: bytes=...` header not supported (Got `"+d+"`)"))},headers:{Range:"bytes=0-0","X-Accept-Encoding":"identity"}})})};function Da(a){this.buffer=a;this.byteLength=a.byteLength;this.onload=void 0}n=Da.prototype;n.load=function(){this.onload&&this.onload({buffer:this.buffer})};n.get=function(a,b,c){c(new Uint8Array(this.buffer,a,b))};n.set=function(a,b,c){(new Uint8Array(this.buffer,a,b.byteLength)).set(b);c()};n.ac=function(a){a(this.buffer)};n.ia=function(){const a=[];a[0]=this.byteLength;a[1]=new Uint8Array(this.buffer);return a};n.I=function(a){this.byteLength=a[0];this.buffer=a[1].slice().buffer};
function Ea(a,b,c){this.filename=a;this.byteLength=b;this.g=new Map;this.h=new Set;this.K=c;this.l=!!c;this.onload=void 0}n=Ea.prototype;n.load=async function(){void 0===this.byteLength&&(this.byteLength=await Ba(this.filename));this.onload&&this.onload(Object.create(null))};n.Bg=function(a,b){var c=b/256;a/=256;for(var d=0;d<c;d++)if(!this.g.get(a+d))return;if(1===c)return this.g.get(a);b=new Uint8Array(b);for(d=0;d<c;d++)b.set(this.g.get(a+d),256*d);return b};
n.get=function(a,b,c){var d=this.Bg(a,b);if(d)c(d);else{var e=a,f=b;this.K&&(e=a-a%this.K,f=Math.ceil((a-e+b)/this.K)*this.K);Aa(this.filename,{done:function(h){h=new Uint8Array(h);this.Cg(e,f,h);e===a&&f===b?c(h):c(h.subarray(a-e,a-e+b))}.bind(this),Ae:{start:e,length:f}})}};n.set=function(a,b,c){a/=256;for(var d=b.length/256,e=0;e<d;e++){var f=this.g.get(a+e);void 0===f?this.g.set(a+e,b.slice(256*e,256*(e+1))):f.set(b.subarray(256*e,256*(e+1)));this.h.add(a+e)}c()};
n.Cg=function(a,b,c){a/=256;b/=256;for(var d=0;d<b;d++){const e=this.g.get(a+d);e?c.set(e,256*d):this.l&&this.g.set(a+d,c.slice(256*d,256*(d+1)))}};n.ac=function(a){a()};n.ia=function(){const a=[],b=[];for(const [c,d]of this.g)this.h.has(c)&&b.push([c,d]);a[0]=b;return a};n.I=function(a){a=a[0];this.g.clear();this.h.clear();for(const [b,c]of a)this.g.set(b,c),this.h.add(b)};
function Fa(a,b,c,d){const e=a.match(/\.[^\.]+(\.zst)?$/);this.j=e?e[0]:"";this.i=a.substring(0,a.length-this.j.length);this.s=this.j.endsWith(".zst");this.i.endsWith("/")||(this.i+="-");this.g=new Map;this.h=new Set;this.byteLength=b;this.K=c;this.o=d;this.l=!!c;this.onload=void 0}n=Fa.prototype;n.load=function(){this.onload&&this.onload(Object.create(null))};
n.get=function(a,b,c){var d=this.oh(a,b);if(d)c(d);else if(this.K){const f=Math.floor(a/this.K),h=a-f*this.K,g=Math.ceil((h+b)/this.K),k=new Uint8Array(g*this.K);let l=0;for(let m=0;m<g;m++){var e=(f+m)*this.K;d=this.i+e+"-"+(e+this.K)+this.j;(e=this.oh(e,this.K))?(k.set(e,m*this.K),l++,l===g&&c(k.subarray(h,h+b))):Aa(d,{done:async function(p){p=new Uint8Array(p);this.s&&(p=await this.o(this.K,p),p=new Uint8Array(p));k.set(p,m*this.K);this.ph((f+m)*this.K,this.K|0,p);l++;l===g&&c(k.subarray(h,h+b))}.bind(this)})}}else Aa(this.i+
a+"-"+(a+b)+this.j,{done:function(f){f=new Uint8Array(f);this.ph(a,b,f);c(f)}.bind(this)})};n.oh=Ea.prototype.Bg;n.set=Ea.prototype.set;n.ph=Ea.prototype.Cg;n.ia=Ea.prototype.ia;n.I=Ea.prototype.I;function Ka(a){this.file=a;this.byteLength=a.size;1073741824<a.size&&console.warn("SyncFileBuffer: Allocating buffer of "+(a.size>>20)+" MB ...");this.buffer=new ArrayBuffer(a.size);this.onload=void 0}n=Ka.prototype;n.load=function(){La(this,0)};
function La(a,b){var c=new FileReader;c.onload=function(d){d=new Uint8Array(d.target.result);(new Uint8Array(this.buffer,b)).set(d);La(this,b+4194304)}.bind(a);b<a.byteLength?c.readAsArrayBuffer(a.file.slice(b,Math.min(b+4194304,a.byteLength))):(a.file=void 0,a.onload&&a.onload({buffer:a.buffer}))}n.get=Da.prototype.get;n.set=Da.prototype.set;n.ac=Da.prototype.ac;n.ia=Da.prototype.ia;n.I=Da.prototype.I;
function Ma(a){this.file=a;this.byteLength=a.size;this.g=new Map;this.h=new Set;this.onload=void 0}n=Ma.prototype;n.load=function(){this.onload&&this.onload(Object.create(null))};n.get=function(a,b,c){var d=this.Mi(a,b);d?c(d):(d=new FileReader,d.onload=function(e){e=new Uint8Array(e.target.result);this.Ni(a,b,e);c(e)}.bind(this),d.readAsArrayBuffer(this.file.slice(a,a+b)))};n.Mi=Ea.prototype.Bg;n.set=Ea.prototype.set;n.Ni=Ea.prototype.Cg;n.ia=Ea.prototype.ia;n.I=Ea.prototype.I;n.ac=function(a){a()};
n.Kh=function(a){for(var b=[],c=Array.from(this.g.keys()).sort(function(g,k){return g-k}),d=0,e=0;e<c.length;e++){var f=c[e],h=this.g.get(f);f*=256;f!==d&&(b.push(this.file.slice(d,f)),d=f);b.push(h);d+=h.length}d!==this.file.size&&b.push(this.file.slice(d));return new File(b,a)};
function Na(a,b){if(a.buffer instanceof ArrayBuffer)return new Da(a.buffer);if("undefined"!==typeof File&&a.buffer instanceof File)return b=a.async,void 0===b&&(b=268435456<=a.buffer.size),b?new Ma(a.buffer):new Ka(a.buffer);if(a.url)return a.ea?new Fa(a.url,a.size,a.K,b):new Ea(a.url,a.size,a.K)};function Oa(a){this.u=a;this.o=new Uint8Array(8);this.s=new Uint8Array(8);this.g=new Uint16Array(8);this.j=new Uint16Array(8);this.h=new Uint16Array(8);this.l=new Uint16Array(8);this.Jc=new Uint8Array(8);this.C=new Uint8Array(8);this.yg=[];this.i=0;a=a.B;t(a,0,this,this.yd.bind(this,0));t(a,2,this,this.yd.bind(this,1));t(a,4,this,this.yd.bind(this,2));t(a,6,this,this.yd.bind(this,3));t(a,1,this,this.Ad.bind(this,0));t(a,3,this,this.Ad.bind(this,1));t(a,5,this,this.Ad.bind(this,2));t(a,7,this,this.Ad.bind(this,
3));w(a,0,this,this.xd.bind(this,0));w(a,2,this,this.xd.bind(this,1));w(a,4,this,this.xd.bind(this,2));w(a,6,this,this.xd.bind(this,3));w(a,1,this,this.zd.bind(this,0));w(a,3,this,this.zd.bind(this,1));w(a,5,this,this.zd.bind(this,2));w(a,7,this,this.zd.bind(this,3));t(a,192,this,this.yd.bind(this,4));t(a,196,this,this.yd.bind(this,5));t(a,200,this,this.yd.bind(this,6));t(a,204,this,this.yd.bind(this,7));t(a,194,this,this.Ad.bind(this,4));t(a,198,this,this.Ad.bind(this,5));t(a,202,this,this.Ad.bind(this,
6));t(a,206,this,this.Ad.bind(this,7));w(a,192,this,this.xd.bind(this,4));w(a,196,this,this.xd.bind(this,5));w(a,200,this,this.xd.bind(this,6));w(a,204,this,this.xd.bind(this,7));w(a,194,this,this.zd.bind(this,4));w(a,198,this,this.zd.bind(this,5));w(a,202,this,this.zd.bind(this,6));w(a,206,this,this.zd.bind(this,7));t(a,135,this,this.Cd.bind(this,0));t(a,131,this,this.Cd.bind(this,1));t(a,129,this,this.Cd.bind(this,2));t(a,130,this,this.Cd.bind(this,3));t(a,143,this,this.Cd.bind(this,4));t(a,139,
this,this.Cd.bind(this,5));t(a,137,this,this.Cd.bind(this,6));t(a,138,this,this.Cd.bind(this,7));w(a,135,this,this.Bd.bind(this,0));w(a,131,this,this.Bd.bind(this,1));w(a,129,this,this.Bd.bind(this,2));w(a,130,this,this.Bd.bind(this,3));w(a,143,this,this.Bd.bind(this,4));w(a,139,this,this.Bd.bind(this,5));w(a,137,this,this.Bd.bind(this,6));w(a,138,this,this.Bd.bind(this,7));t(a,1159,this,this.xe.bind(this,0));t(a,1155,this,this.xe.bind(this,1));t(a,1153,this,this.xe.bind(this,2));t(a,1154,this,this.xe.bind(this,
3));t(a,1163,this,this.xe.bind(this,5));t(a,1161,this,this.xe.bind(this,6));t(a,1162,this,this.xe.bind(this,7));w(a,1159,this,this.we.bind(this,0));w(a,1155,this,this.we.bind(this,1));w(a,1153,this,this.we.bind(this,2));w(a,1154,this,this.we.bind(this,3));w(a,1163,this,this.we.bind(this,5));w(a,1161,this,this.we.bind(this,6));w(a,1162,this,this.we.bind(this,7));t(a,10,this,this.ri.bind(this,0));t(a,212,this,this.ri.bind(this,4));t(a,15,this,this.pi.bind(this,0));t(a,222,this,this.pi.bind(this,4));
w(a,15,this,this.oi.bind(this,0));w(a,222,this,this.oi.bind(this,4));t(a,11,this,this.ni.bind(this,0));t(a,214,this,this.ni.bind(this,4));t(a,12,this,this.mi);t(a,216,this,this.mi)}n=Oa.prototype;n.ia=function(){return[this.o,this.s,this.g,this.j,this.h,this.l,this.Jc,this.C,this.i]};n.I=function(a){this.o=a[0];this.s=a[1];this.g=a[2];this.j=a[3];this.h=a[4];this.l=a[5];this.Jc=a[6];this.C=a[7];this.i=a[8]};n.Ad=function(a,b){this.h[a]=Pa(this,this.h[a],b,!1);this.l[a]=Pa(this,this.l[a],b,!0)};
n.zd=function(a){return Qa(this,this.h[a])};n.yd=function(a,b){this.g[a]=Pa(this,this.g[a],b,!1);this.j[a]=Pa(this,this.j[a],b,!0)};n.xd=function(a){return Qa(this,this.g[a])};n.xe=function(a,b){this.s[a]=b};n.we=function(a){return this.s[a]};n.Cd=function(a,b){this.o[a]=b};n.Bd=function(a){return this.o[a]};n.ri=function(a,b){Ra(this,(b&3)+a,b&4?1:0)};n.pi=function(a,b){for(var c=0;4>c;c++)Ra(this,a+c,b&1<<c)};
n.oi=function(a){var b=0|this.Jc[a+0];b|=this.Jc[a+1]<<1;b|=this.Jc[a+2]<<2;return b|=this.Jc[a+3]<<3};n.ni=function(a,b){this.C[(b&3)+a]=b};n.mi=function(){this.i=0};function Ra(a,b,c){if(a.Jc[b]!==c&&(a.Jc[b]=c,!c))for(c=0;c<a.yg.length;c++)a.yg[c].dg.call(a.yg[c].fh,b)}function Va(a,b,c,d){var e=a.h[2]+1,f=Wa(a,2);if(c+e>b.byteLength)d(!0);else{var h=a.u;a.g[2]+=e;b.get(c,e,function(g){Xa(h,g,f);d(!1)})}}
n.rf=function(a,b,c,d,e){var f=this.h[d]+1&65535,h=5<=d?2:1,g=f*h,k=Wa(this,d),l=!1,m=!1,p=this.C[d]&16;c<g?(f=Math.floor(c/h),g=f*h,l=!0):c>g&&(m=!0);b+g>a.byteLength?e(!0):(this.g[d]+=f,this.h[d]-=f,!l&&p&&(this.g[d]=this.j[d],this.h[d]=this.l[d]),a.set(b,this.u.nb.subarray(k,k+g),()=>{m&&p?this.rf(a,b+g,c-g,d,e):e(!1)}))};function Wa(a,b){var c=a.g[b];5<=b&&(c<<=1);c=c&65535|a.o[b]<<16;return c|=a.s[b]<<24}function Pa(a,b,c,d){d||(a.i^=1);return a.i?b&-256|c:b&-65281|c<<8}
function Qa(a,b){a.i^=1;return a.i?b&255:b>>8&255};function Ya(a){this.ports=[];this.u=a;for(var b=0;65536>b;b++)this.ports[b]=Za(this);var c=a.F[0];for(b=0;b<<17<c;b++)a.g[b]=a.j[b]=void 0,a.ga[b]=a.i[b]=void 0;$a(this,c,4294967296-c,function(){return 255},function(){},function(){return-1},function(){})}function Za(a){return{Be:a.zj,hb:a.xj,Hf:a.yj,Ag:a.Ig,Rf:a.Ig,Ba:a.Ig,Aa:void 0}}n=Ya.prototype;n.zj=function(){return 255};n.xj=function(){return 65535};n.yj=function(){return-1};n.Ig=function(){};
function w(a,b,c,d,e,f){d&&(a.ports[b].Be=d);e&&(a.ports[b].hb=e);f&&(a.ports[b].Hf=f);a.ports[b].Aa=c}function t(a,b,c,d,e,f){d&&(a.ports[b].Ag=d);e&&(a.ports[b].Rf=e);f&&(a.ports[b].Ba=f);a.ports[b].Aa=c}
n.Ce=function(a,b,c,d,e,f){function h(){return c.call(this)|d.call(this)<<8}function g(){return e.call(this)|f.call(this)<<8}function k(){return c.call(this)|d.call(this)<<8|e.call(this)<<16|f.call(this)<<24}e&&f?(w(this,a,b,c,h,k),w(this,a+1,b,d),w(this,a+2,b,e,g),w(this,a+3,b,f)):(w(this,a,b,c,h),w(this,a+1,b,d))};
n.hd=function(a,b,c,d,e,f){function h(l){c.call(this,l&255);d.call(this,l>>8&255)}function g(l){e.call(this,l&255);f.call(this,l>>8&255)}function k(l){c.call(this,l&255);d.call(this,l>>8&255);e.call(this,l>>16&255);f.call(this,l>>>24)}e&&f?(t(this,a,b,c,h,k),t(this,a+1,b,d),t(this,a+2,b,e,g),t(this,a+3,b,f)):(t(this,a,b,c,h),t(this,a+1,b,d))};n.Mj=function(a){var b=this.u.g[a>>>17];return b(a)|b(a+1)<<8|b(a+2)<<16|b(a+3)<<24};
n.Nj=function(a,b){var c=this.u.j[a>>>17];c(a,b&255);c(a+1,b>>8&255);c(a+2,b>>16&255);c(a+3,b>>>24)};function $a(a,b,c,d,e,f,h){f||(f=a.Mj.bind(a));h||(h=a.Nj.bind(a));for(b>>>=17;0<c;b++)a.u.g[b]=d,a.u.j[b]=e,a.u.ga[b]=f,a.u.i[b]=h,c-=131072}function bb(a,b){a=a.ports[b];return a.Hf.call(a.Aa,b)};function cb(){this.Af={};this.g=void 0}cb.prototype.register=function(a,b,c){var d=this.Af[a];void 0===d&&(d=this.Af[a]=[]);d.push({dg:b,fh:c})};cb.prototype.unregister=function(a,b){var c=this.Af[a];void 0!==c&&(this.Af[a]=c.filter(function(d){return d.dg!==b}))};cb.prototype.send=function(a,b){if(this.g&&(a=this.g.Af[a],void 0!==a))for(var c=0;c<a.length;c++){var d=a[c];d.dg.call(d.fh,b)}};function db(){var a=new cb,b=new cb;a.g=b;b.g=a;return[a,b]};var eb=new Uint8Array(256),fb=[],gb=[],hb=[],ib=new Uint8Array(256),jb=[];
function kb(a,b){this.u=a;this.v=b;this.Va=new ua(64);this.qa=new ua(64);this.i=this.o=this.Xb=this.L=0;this.U=new Uint8Array(256);lb(this);this.Te=!1;this.Nf=0;this.$b=this.Zb=this.je=this.Nc=!1;this.mc=[new va,new va];this.Gb=a.A.Gb;this.Hb=this.Mc=this.j=this.pc=this.l=this.D=0;this.qc=1;this.ie=5;this.oc=!1;this.g=new ArrayBuffer(65536);this.ba=new Int8Array(this.g);this.C=new Uint8Array(this.g);this.$=new Int16Array(this.g);this.ga=new Uint16Array(this.g);this.Ga=new Da(this.g);this.rc=this.s=
!1;this.xb=22050;b.send("dac-tell-sampling-rate",this.xb);this.h=1;this.R=170;this.N=0;this.be=new Uint8Array(256);this.G=new ua(64);this.X=this.V=this.gb=0;this.Cj=!1;this.la=5;this.me=new Uint8Array(16);a.B.Ce(544,this,this.bi,this.di,this.Uj,this.Wj);a.B.Ce(904,this,this.bi,this.di);a.B.Ce(548,this,this.Yj,this.$j);w(a.B,550,this,this.bk);w(a.B,551,this,this.dk);w(a.B,552,this,this.fk);w(a.B,553,this,this.hk);w(a.B,554,this,this.jk);w(a.B,555,this,this.lk);w(a.B,556,this,this.nk);w(a.B,557,this,
this.qk);a.B.Ce(558,this,this.sk,this.uk);a.B.hd(544,this,this.ci,this.ei,this.Vj,this.Xj);a.B.hd(904,this,this.ci,this.ei);a.B.hd(548,this,this.Zj,this.ak);t(a.B,550,this,this.ck);t(a.B,551,this,this.ek);a.B.hd(552,this,this.gk,this.ik);t(a.B,554,this,this.kk);t(a.B,555,this,this.mk);t(a.B,556,this,this.pk);t(a.B,557,this,this.rk);t(a.B,558,this,this.tk);t(a.B,559,this,this.vk);a.B.Ce(816,this,this.Yk,this.$k);a.B.hd(816,this,this.Zk,this.al);this.Gb.yg.push({dg:this.wa,fh:this});b.register("dac-request-data",
function(){!this.pc||this.rc?mb(this):nb(this)},this);b.register("speaker-has-initialized",function(){lb(this)},this);b.send("speaker-confirm-initialized");ob(this)}function ob(a){a.Va.clear();a.qa.clear();a.Xb=0;a.o=0;a.Te=!1;a.Nf=0;a.Nc=!1;a.je=!1;a.Zb=!1;a.$b=!1;a.mc[0].clear();a.mc[1].clear();a.D=0;a.l=0;a.pc=0;a.j=0;a.Mc=0;a.Hb=0;a.oc=!1;a.C.fill(0);a.s=!1;a.rc=!1;a.R=170;a.N=0;a.xb=22050;a.h=1;pb(a,1);a.me.fill(0);a.be.fill(0);a.be[5]=1;a.be[9]=248}n=kb.prototype;
n.ia=function(){var a=[];a[2]=this.L;a[3]=this.Xb;a[4]=this.o;a[5]=this.i;a[6]=this.U;a[7]=this.Te;a[8]=this.Nf;a[9]=this.Nc;a[10]=this.je;a[11]=this.Zb;a[12]=this.$b;a[15]=this.D;a[16]=this.l;a[17]=this.pc;a[18]=this.j;a[19]=this.Mc;a[20]=this.Hb;a[21]=this.qc;a[22]=this.ie;a[23]=this.oc;a[24]=this.C;a[25]=this.s;a[26]=this.rc;a[27]=this.xb;a[28]=this.h;a[29]=this.R;a[30]=this.N;a[31]=this.be;a[33]=this.kb;a[34]=this.la;a[35]=this.me;return a};
n.I=function(a){this.L=a[2];this.Xb=a[3];this.o=a[4];this.i=a[5];this.U=a[6];qb(this);this.Te=a[7];this.Nf=a[8];this.Nc=a[9];this.je=a[10];this.Zb=a[11];this.$b=a[12];this.D=a[15];this.l=a[16];this.pc=a[17];this.j=a[18];this.Mc=a[19];this.Hb=a[20];this.qc=a[21];this.ie=a[22];this.oc=a[23];this.C=a[24];this.s=a[25];this.rc=a[26];this.xb=a[27];this.h=a[28];this.R=a[29];this.N=a[30];this.be=a[31];this.kb=a[33];this.la=a[34];this.me=a[35];this.g=this.C.buffer;this.ba=new Int8Array(this.g);this.$=new Int16Array(this.g);
this.ga=new Uint16Array(this.g);this.Ga=new Da(this.g);this.rc?this.v.send("dac-disable"):this.v.send("dac-enable")};n.bi=function(){return 255};n.di=function(){return 255};n.Uj=function(){return 255};n.Wj=function(){return 255};n.Yj=function(){return this.i};n.$j=function(){var a=this.i,b=gb[a];return b?b.call(this):this.U[a]};n.bk=function(){return 255};n.dk=function(){return 255};n.fk=function(){return 255};n.hk=function(){return 255};n.jk=function(){this.qa.length&&(this.L=this.qa.shift());return this.L};
n.lk=function(){return 255};n.nk=function(){return 127};n.qk=function(){return 255};n.sk=function(){this.me[1]&&pb(this,1);return(this.qa.length&&!this.Nc)<<7|127};n.uk=function(){pb(this,2);return 0};n.ci=function(){this.V=0};n.ei=function(a){var b=jb[this.V];b||(b=this.Z);b.call(this,a,0,this.V)};n.Vj=function(){this.X=0};n.Xj=function(a){var b=jb[this.X];b||(b=this.Z);b.call(this,a,1,this.X)};n.Zj=function(a){this.i=a};n.ak=function(a){rb(this,this.i,a)};
n.ck=function(a){this.Nc?this.Nc=!1:a&&ob(this);this.qa.clear();this.qa.push(170)};n.ek=function(){};n.gk=function(){};n.ik=function(){};n.kk=function(){};n.mk=function(){};n.pk=function(a){0===this.Xb?(this.Xb=a,this.Va.clear(),this.o=eb[a]):this.Va.push(a);this.Va.length>=this.o&&(a=fb[this.Xb],a||(a=this.Ah),a.call(this),this.o=this.Xb=0,this.Va.clear())};n.rk=function(){};n.tk=function(){};n.vk=function(){};n.Yk=function(){this.G.length&&(this.gb=this.G.shift());return this.gb};n.Zk=function(){};
n.$k=function(){return 0|128*!this.G.length};n.al=function(a){255===a&&(this.G.clear(),this.G.push(254))};n.Ah=function(){};function D(a,b,c){c||(c=kb.prototype.Ah);for(var d=0;d<a.length;d++)eb[a[d]]=b,fb[a[d]]=c}function sb(a){for(var b=[],c=0;16>c;c++)b.push(a+c);return b}D([14],2,function(){this.be[this.Va.shift()]=this.Va.shift()});D([15],1,function(){this.qa.clear();this.qa.push(this.be[this.Va.shift()])});
D([16],1,function(){var a=this.Va.shift();a=tb(a/127.5+-1);this.mc[0].push(a);this.mc[1].push(a);this.v.send("dac-enable")});D([20,21],2,function(){this.Mc=1;this.Hb=this.qc;this.Nc=this.Zb=this.$b=this.oc=!1;ub(this);vb(this)});D([22],2);D([23],2);D([28],0,function(){this.Mc=1;this.Hb=this.qc;this.oc=!0;this.Nc=this.Zb=this.$b=!1;vb(this)});D([31],0);D([32],0,function(){this.qa.clear();this.qa.push(127)});D([36],2);D([44],0);D([48],0);D([49],0);D([52],0);D([53],0);D([54],0);D([55],0);D([56],0);
D([64],1,function(){wb(this,1E6/(256-this.Va.shift())/(this.je?2:1))});D([65,66],2,function(){wb(this,this.Va.shift()<<8|this.Va.shift())});D([72],2,function(){ub(this)});D([116],2);D([117],2);D([118],2);D([119],2);D([125],0);D([127],0);D([128],2);D([144],0,function(){this.Mc=1;this.Hb=this.qc;this.oc=!0;this.$b=!1;this.Nc=!0;this.Zb=!1;vb(this)});D([145],0);D([152],0);D([153],0);D([160],0);D([168],0);
D(sb(176),3,function(){if(!(this.Xb&8)){var a=this.Va.shift();this.Mc=2;this.Hb=this.ie;this.oc=!!(this.Xb&4);this.$b=!!(a&16);this.je=!!(a&32);this.Zb=!0;ub(this);vb(this)}});D(sb(192),3,function(){if(!(this.Xb&8)){var a=this.Va.shift();this.Mc=1;this.Hb=this.qc;this.oc=!!(this.Xb&4);this.$b=!!(a&16);this.je=!!(a&32);this.Zb=!1;ub(this);vb(this)}});D([208],0,function(){this.rc=!0;this.v.send("dac-disable")});D([209],0,function(){this.Te=!0});D([211],0,function(){this.Te=!1});
D([212],0,function(){this.rc=!1;this.v.send("dac-enable")});D([213],0,function(){this.rc=!0;this.v.send("dac-disable")});D([214],0,function(){this.rc=!1;this.v.send("dac-enable")});D([216],0,function(){this.qa.clear();this.qa.push(255*this.Te)});D([217,218],0,function(){this.oc=!1});D([224],1,function(){this.qa.clear();this.qa.push(~this.Va.shift())});D([225],0,function(){this.qa.clear();this.qa.push(4);this.qa.push(5)});D([226],1);
D([227],0,function(){this.qa.clear();for(var a=0;44>a;a++)this.qa.push("COPYRIGHT (C) CREATIVE TECHNOLOGY LTD, 1992.".charCodeAt(a));this.qa.push(0)});D([228],1,function(){this.Nf=this.Va.shift()});D([232],0,function(){this.qa.clear();this.qa.push(this.Nf)});D([242,243],0,function(){this.Ua()});var xb=new Uint8Array(256);xb[14]=255;xb[15]=7;xb[55]=56;D([249],1,function(){var a=this.Va.shift();this.qa.clear();this.qa.push(xb[a])});function rb(a,b,c){(b=hb[b])&&b.call(a,c)}kb.prototype.fb=function(){return this.U[this.i]};
kb.prototype.jb=function(a){this.U[this.i]=a};function lb(a){a.U[4]=204;a.U[34]=204;a.U[38]=204;a.U[40]=0;a.U[46]=0;a.U[10]=0;a.U[48]=192;a.U[49]=192;a.U[50]=192;a.U[51]=192;a.U[52]=192;a.U[53]=192;a.U[54]=0;a.U[55]=0;a.U[56]=0;a.U[57]=0;a.U[59]=0;a.U[60]=31;a.U[61]=21;a.U[62]=11;a.U[63]=0;a.U[64]=0;a.U[65]=0;a.U[66]=0;a.U[67]=0;a.U[68]=128;a.U[69]=128;a.U[70]=128;a.U[71]=128;qb(a)}function qb(a){for(var b=1;b<a.U.length;b++)ib[b]||rb(a,b,a.U[b])}function yb(a,b){b||(b=kb.prototype.fb);gb[a]=b}
function zb(a,b){b||(b=kb.prototype.jb);hb[a]=b}function Ab(a,b,c){ib[a]=1;gb[a]=function(){return this.U[b]&240|this.U[c]>>>4};hb[a]=function(d){this.U[a]=d;var e=d<<4&240|this.U[c]&15;rb(this,b,d&240|this.U[b]&15);rb(this,c,e)}}function Bb(a,b,c){gb[a]=kb.prototype.fb;hb[a]=function(d){this.U[a]=d;this.v.send("mixer-volume",[b,c,(d>>>2)-62])}}yb(0,function(){lb(this);return 0});zb(0);Ab(4,50,51);Ab(34,48,49);Ab(38,52,53);Ab(40,54,55);Ab(46,56,57);Bb(48,0,0);Bb(49,0,1);Bb(50,2,0);Bb(51,2,1);yb(59);
zb(59,function(a){this.U[59]=a;this.v.send("mixer-volume",[1,2,6*(a>>>6)-18])});yb(65);zb(65,function(a){this.U[65]=a;this.v.send("mixer-gain-left",6*(a>>>6))});yb(66);zb(66,function(a){this.U[66]=a;this.v.send("mixer-gain-right",6*(a>>>6))});yb(68);zb(68,function(a){this.U[68]=a;a>>>=3;this.v.send("mixer-treble-left",a-(16>a?14:16))});yb(69);zb(69,function(a){this.U[69]=a;a>>>=3;this.v.send("mixer-treble-right",a-(16>a?14:16))});yb(70);
zb(70,function(a){this.U[70]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});yb(71);zb(71,function(a){this.U[71]=a;a>>>=3;this.v.send("mixer-bass-right",a-(16>a?14:16))});yb(128,function(){switch(this.la){case 2:return 1;case 5:return 2;case 7:return 4;case 10:return 8;default:return 0}});zb(128,function(a){a&1&&(this.la=2);a&2&&(this.la=5);a&4&&(this.la=7);a&8&&(this.la=10)});
yb(129,function(){var a=0;switch(this.qc){case 0:a|=1;break;case 1:a|=2;break;case 3:a|=8}switch(this.ie){case 5:a|=32;break;case 6:a|=64;break;case 7:a|=128}return a});zb(129,function(a){a&1&&(this.qc=0);a&2&&(this.qc=1);a&8&&(this.qc=3);a&32&&(this.ie=5);a&64&&(this.ie=6);a&128&&(this.ie=7)});yb(130,function(){for(var a=32,b=0;16>b;b++)a|=b*this.me[b];return a});kb.prototype.Z=function(){};function Cb(a,b){b||(b=kb.prototype.Z);for(var c=0;c<a.length;c++)jb[a[c]]=b}
function Db(a,b){for(var c=[];a<=b;a++)c.push(a);return c}const Eb=new Uint8Array(32);Eb[0]=0;Eb[1]=1;Eb[2]=2;Eb[3]=3;Eb[4]=4;Eb[5]=5;Eb[8]=6;Eb[9]=7;Eb[10]=8;Eb[11]=9;Eb[12]=10;Eb[13]=11;Eb[16]=12;Eb[17]=13;Eb[18]=14;Eb[19]=15;Eb[20]=16;Eb[21]=17;Cb([1],function(a,b){this.Cj[b]=a&1});Cb([2]);Cb([3]);Cb([4],function(){});Cb([5],function(){});Cb([8],function(){});Cb(Db(32,53),function(){});Cb(Db(64,85),function(){});Cb(Db(96,117),function(){});Cb(Db(128,149),function(){});Cb(Db(160,168),function(){});
Cb(Db(176,184),function(){});Cb([189],function(){});Cb(Db(192,200),function(){});Cb(Db(224,245),function(){});function wb(a,b){a.xb=b;a.v.send("dac-tell-sampling-rate",b)}function ub(a){a.D=1+(a.Va.shift()<<0)+(a.Va.shift()<<8)}function vb(a){a.h=1;a.Zb&&(a.h*=2);a.l=a.D*a.h;a.j=1024*a.h;a.j=Math.min(Math.max(a.l>>2&-4,32),a.j);a.s=!0;a.Gb.Jc[a.Hb]||a.wa(a.Hb)}kb.prototype.wa=function(a){a===this.Hb&&this.s&&(this.s=!1,this.pc=this.l,this.rc=!1,this.v.send("dac-enable"))};
function nb(a){var b=Math.min(a.pc,a.j),c=Math.floor(b/a.h);a.Gb.rf(a.Ga,0,b,a.Hb,d=>{if(!d){d=a.Zb?32767.5:127.5;var e=a.$b?0:-1,f=a.je?1:2,h;a.Zb?h=a.$b?a.$:a.ga:h=a.$b?a.ba:a.C;for(var g=0,k=0;k<c;k++)for(var l=tb(h[k]/d+e),m=0;m<f;m++)a.mc[g].push(l),g^=1;mb(a);a.pc-=b;a.pc||(a.Ua(a.Mc),a.oc&&(a.pc=a.l))}})}function mb(a){if(a.mc[0].length){var b=wa(a.mc[0],a.mc[0].length),c=wa(a.mc[1],a.mc[1].length);a.v.send("dac-send-data",[b,c],[b.buffer,c.buffer])}}
kb.prototype.Ua=function(a){this.me[a]=1;this.u.ab(this.la)};function pb(a,b){a.me[b]=0;Fb(a.u,a.la)}function tb(a){return-1*(-1>a)+1*(1<a)+(-1<=a&&1>=a)*a};function Gb(a){this.message=a}Gb.prototype=Error();const Hb={Uint8Array,Int8Array,Uint16Array,Int16Array,Uint32Array,Int32Array,Float32Array,Float64Array};
function Ib(a,b){if("object"!==typeof a||null===a)return a;if(Array.isArray(a))return a.map(e=>Ib(e,b));a.constructor===Object&&console.log(a);if(a.BYTES_PER_ELEMENT){var c=new Uint8Array(a.buffer,a.byteOffset,a.length*a.BYTES_PER_ELEMENT);return{__state_type__:a.constructor.name.replace("bound ",""),buffer_id:b.push(c)-1}}a=a.ia();c=[];for(var d=0;d<a.length;d++)c[d]=Ib(a[d],b);return c}
function Jb(a,b){if("object"!==typeof a||null===a)return a;if(Array.isArray(a)){for(let c=0;c<a.length;c++)a[c]=Jb(a[c],b);return a}return new Hb[a.__state_type__](b[a.buffer_id])}
function Kb(a,b){function c(r,u){const A=r.length;if(16>A)throw new Gb("Invalid length: "+A);r=new Int32Array(r.buffer,r.byteOffset,4);if(-2039052682!==r[0])throw new Gb("Invalid header: "+ea(r[0]>>>0));if(6!==r[1])throw new Gb("Version mismatch: dump="+r[1]+" we=6");if(u&&r[2]!==A)throw new Gb("Length doesn't match header: real="+A+" header="+r[2]);return r[3]}function d(r){r=(new TextDecoder).decode(r);return JSON.parse(r)}b=new Uint8Array(b);if(4247762216===(new Uint32Array(b.buffer,0,1))[0]){var e=
a.Hi(b.length);(new Uint8Array(a.Ma.buffer,a.Ki(e),b.length)).set(b);var f=a.gf(e,16),h=new Uint8Array(a.Ma.buffer,f,16),g=c(h,!1);a.hf(f,16);f=a.gf(e,g);h=new Uint8Array(a.Ma.buffer,f,g);h=d(h);a.hf(f,g);f=h.state;var k=h.buffer_infos;h=[];g=16+g;for(var l of k){k=(g+3&-4)-g;if(1048576<l.length){var m=a.gf(e,k);a.hf(m,k);m=new Uint8Array(l.length);h.push(m.buffer);for(var p=0;p<l.length;){const r=Math.min(l.length-p,1048576),u=a.gf(e,r);m.set(new Uint8Array(a.Ma.buffer,u,r),p);a.hf(u,r);p+=r}}else m=
a.gf(e,k+l.length),p=m+k,h.push(a.Ma.buffer.slice(p,p+l.length)),a.hf(m,k+l.length);g+=k+l.length}f=Jb(f,h);a.I(f);a.Ji(e)}else{l=c(b,!0);if(0>l||l+12>=b.length)throw new Gb("Invalid info block length: "+l);f=d(b.subarray(16,16+l));e=f.state;f=f.buffer_infos;let r=16+l;r=r+3&-4;l=f.map(u=>{const A=r+u.offset;return b.buffer.slice(A,A+u.length)});e=Jb(e,l);a.I(e)}};function Lb(a,b,c,d,e){let f="";var h=[],g=b?"compiled":c?"jit exit":d?"unguarded register":e?"wasm size":"executed";for(let m=0;256>m;m++)for(let p=0;8>p;p++)for(const r of[!1,!0]){var k=a.Na.exports.get_opstats_buffer(b,c,d,e,m,!1,r,p);h.push({mg:m,count:k,Ph:r,Fh:p});k=a.Na.exports.get_opstats_buffer(b,c,d,e,m,!0,r,p);h.push({mg:3840|m,count:k,Ph:r,Fh:p})}a=0;b=new Set([38,46,54,62,100,101,102,103,240,242,243]);for(const {count:m,mg:p}of h)b.has(p)||(a+=m);if(0===a)return"";c=new Uint32Array(256);
b=new Uint32Array(256);for(const {mg:m,count:p}of h)3840===(m&65280)?b[m&255]+=p:c[m&255]+=p;f=f+"------------------\nTotal: "+(a+"\n");const l=1E7<a?1E3:1;d=Math.max.apply(Math,h.map(({count:m})=>Math.round(m/l)));d=String(d).length;f+=`Instruction counts ${g} (in ${l}):\n`;for(e=0;256>e;e++)f+=e.toString(16).padStart(2,"0")+":"+ba(Math.round(c[e]/l),d),f=15===e%16?f+"\n":f+" ";f=f+"\n"+`Instruction counts ${g} (0f, in ${l}):\n`;for(g=0;256>g;g++)f+=(g&255).toString(16).padStart(2,"0")+":"+ba(Math.round(b[g]/
l),d),f=15===g%16?f+"\n":f+" ";f+="\n";h=h.filter(({count:m})=>m).sort(({count:m},{count:p})=>p-m);for(const {mg:m,Ph:p,Fh:r,count:u}of h.slice(0,200))f+=m.toString(16)+"_"+r+(p?"_m":"_r")+":"+(u/a*100).toFixed(2)+" ";return f+"\n"};function Mb(a){this.u=a;this.ee=0;this.fa=new Uint8Array(128);this.D=this.g=Date.now();this.l=this.j=0;this.s=!1;this.C=.9765625;this.o=38;this.h=2;this.Pg=this.i=0;t(a.B,112,this,function(b){this.ee=b&127;this.Pg=b>>7});t(a.B,113,this,this.ej);w(a.B,113,this,this.dj)}n=Mb.prototype;n.ia=function(){var a=[];a[0]=this.ee;a[1]=this.fa;a[2]=this.g;a[3]=this.D;a[4]=this.j;a[5]=this.l;a[6]=this.s;a[7]=this.C;a[8]=this.o;a[9]=this.h;a[10]=this.i;a[11]=this.Pg;return a};
n.I=function(a){this.ee=a[0];this.fa=a[1];this.g=a[2];this.D=a[3];this.j=a[4];this.l=a[5];this.s=a[6];this.C=a[7];this.o=a[8];this.h=a[9];this.i=a[10];this.Pg=a[11]};n.Hc=function(a){a=Date.now();this.g+=a-this.D;this.D=a;this.s&&this.j<a?(this.u.ab(8),this.i|=192,this.j+=this.C*Math.ceil((a-this.j)/this.C)):this.l&&this.l<a&&(this.u.ab(8),this.i|=160,this.l=0);let b=100;this.s&&this.j&&(b=Math.min(b,Math.max(0,this.j-a)));this.l&&(b=Math.min(b,Math.max(0,this.l-a)));return b};
function Nb(a,b){if(a.h&4)a=b;else{a=b;for(var c=b=0,d;a;)d=a%10,c|=d<<4*b,b++,a=(a-d)/10;a=c}return a}function Ob(a,b){var c;a.h&4?c=b:c=(b&15)+10*(b>>4&15);return c}
n.dj=function(){switch(this.ee){case 0:return Nb(this,(new Date(this.g)).getUTCSeconds());case 2:return Nb(this,(new Date(this.g)).getUTCMinutes());case 4:return Nb(this,(new Date(this.g)).getUTCHours());case 6:return Nb(this,(new Date(this.g)).getUTCDay()+1);case 7:return Nb(this,(new Date(this.g)).getUTCDate());case 8:return Nb(this,(new Date(this.g)).getUTCMonth()+1);case 9:return Nb(this,(new Date(this.g)).getUTCFullYear()%100);case 10:return 999<=Pb()%1E3?this.o|128:this.o;case 11:return this.h;
case 12:Fb(this.u,8);var a=this.i;this.i&=-241;return a;case 13:return 0;case 50:case 55:return Nb(this,(new Date(this.g)).getUTCFullYear()/100|0);default:return this.fa[this.ee]}};
n.ej=function(a){switch(this.ee){case 10:this.o=a&127;this.C=1E3/(32768>>(this.o&15)-1);break;case 11:this.h=a;this.h&64&&(this.j=Date.now());if(this.h&32){a=new Date;const b=Ob(this,this.fa[1]),c=Ob(this,this.fa[3]),d=Ob(this,this.fa[5]);this.l=+new Date(Date.UTC(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),d,c,b))}break;case 1:case 3:case 5:this.fa[this.ee]=a}this.s=64===(this.h&64)&&0<(this.o&15)};function Qb(a,b){this.u=a;this.v=b;this.i=new Float64Array(3);this.j=new Uint16Array(3);this.g=new Uint8Array(4);this.h=new Uint8Array(4);this.ge=new Uint8Array(4);this.s=new Uint8Array(4);this.l=new Uint8Array(4);this.o=new Uint16Array(3);this.Yb=new Uint16Array(3);w(a.B,97,this,function(){var c=Pb(),d=66.66666666666667*c&1;c=Rb(this,2,c);return d<<4|c<<5});t(a.B,97,this,function(c){c&1?this.v.send("pcspeaker-enable"):this.v.send("pcspeaker-disable")});w(a.B,64,this,function(){return Sb(this,0)});
w(a.B,65,this,function(){return Sb(this,1)});w(a.B,66,this,function(){return Sb(this,2)});t(a.B,64,this,function(c){Tb(this,0,c)});t(a.B,65,this,function(c){Tb(this,1,c)});t(a.B,66,this,function(c){Tb(this,2,c);this.v.send("pcspeaker-update",[this.ge[2],this.Yb[2]])});t(a.B,67,this,this.C)}Qb.prototype.ia=function(){var a=[];a[0]=this.g;a[1]=this.h;a[2]=this.ge;a[3]=this.s;a[4]=this.l;a[5]=this.o;a[6]=this.Yb;a[7]=this.i;a[8]=this.j;return a};
Qb.prototype.I=function(a){this.g=a[0];this.h=a[1];this.ge=a[2];this.s=a[3];this.l=a[4];this.o=a[5];this.Yb=a[6];this.i=a[7];this.j=a[8]};Qb.prototype.Hc=function(a,b){var c=100;b||(this.h[0]&&Rb(this,0,a)?(this.j[0]=Ub(this,0,a),this.i[0]=a,Fb(this.u,0),this.u.ab(0),0===this.ge[0]&&(this.h[0]=0)):Fb(this.u,0),this.h[0]&&(c=(this.j[0]-Math.floor(1193.1816666*(a-this.i[0])))/1193.1816666));return c};
function Ub(a,b,c){if(!a.h[b])return 0;c=a.j[b]-Math.floor(1193.1816666*(c-a.i[b]));a=a.Yb[b];c>=a?c%=a:0>c&&(c=c%a+a);return c}function Rb(a,b,c){c-=a.i[b];return 0>c?!0:a.j[b]<Math.floor(1193.1816666*c)}function Sb(a,b){var c=a.l[b];if(c)return a.l[b]--,2===c?a.o[b]&255:a.o[b]>>8;c=a.g[b];3===a.ge[b]&&(a.g[b]^=1);a=Ub(a,b,Pb());return c?a&255:a>>8}
function Tb(a,b,c){a.Yb[b]=a.g[b]?a.Yb[b]&-256|c:a.Yb[b]&255|c<<8;3===a.s[b]&&a.g[b]||(a.Yb[b]||(a.Yb[b]=65535),a.j[b]=a.Yb[b],a.h[b]=!0,a.i[b]=Pb());3===a.s[b]&&(a.g[b]^=1)}Qb.prototype.C=function(a){var b=a>>1&7,c=a>>6&3;a=a>>4&3;3!==c&&(0===a?(this.l[c]=2,b=Ub(this,c,Pb()),this.o[c]=b?b-1:0):(6<=b&&(b&=-5),this.g[c]=1===a?0:1,0===c&&Fb(this.u,0),this.ge[c]=b,this.s[c]=a,2===c&&this.v.send("pcspeaker-update",[this.ge[2],this.Yb[2]])))};function Vb(a){if("undefined"!==typeof window)if(window.AudioContext||window.webkitAudioContext){var b=window.AudioWorklet?Wb:Xb;this.v=a;this.aa=window.AudioContext?new AudioContext:new webkitAudioContext;this.jg=new Yb(a,this.aa);this.h=new Zb(a,this.aa,this.jg);this.g=new b(a,this.aa,this.jg);this.h.start();a.register("emulator-stopped",function(){this.aa.suspend()},this);a.register("emulator-started",function(){this.aa.resume()},this);a.register("speaker-confirm-initialized",function(){a.send("speaker-has-initialized")},
this);a.send("speaker-has-initialized")}else console.warn("Web browser doesn't support Web Audio API")}Vb.prototype.sa=function(){this.aa&&this.aa.close();this.aa=null;this.g&&this.g.Cc&&this.g.Cc.port.close();this.g=null};
function Yb(a,b){function c(d){return function(e){d.gain.setValueAtTime(e,this.aa.currentTime)}}this.aa=b;this.sources=new Map;this.Jh=this.Ih=this.G=this.D=this.s=1;this.i=this.aa.createBiquadFilter();this.j=this.aa.createBiquadFilter();this.i.type="highshelf";this.j.type="highshelf";this.i.frequency.setValueAtTime(2E3,this.aa.currentTime);this.j.frequency.setValueAtTime(2E3,this.aa.currentTime);this.g=this.aa.createBiquadFilter();this.h=this.aa.createBiquadFilter();this.g.type="lowshelf";this.h.type=
"lowshelf";this.g.frequency.setValueAtTime(200,this.aa.currentTime);this.h.frequency.setValueAtTime(200,this.aa.currentTime);this.l=this.aa.createGain();this.o=this.aa.createGain();this.C=this.aa.createChannelMerger(2);this.L=this.i;this.N=this.j;this.i.connect(this.g);this.g.connect(this.l);this.l.connect(this.C,0,0);this.j.connect(this.h);this.h.connect(this.o);this.o.connect(this.C,0,1);this.C.connect(this.aa.destination);a.register("mixer-connect",function(d){var e=d[1];d=this.sources.get(d[0]);
void 0===d||d.connect(e)},this);a.register("mixer-disconnect",function(d){var e=d[1];d=this.sources.get(d[0]);void 0===d||d.disconnect(e)},this);a.register("mixer-volume",function(d){var e=d[0],f=d[1];d=Math.pow(10,d[2]/20);e=0===e?this:this.sources.get(e);void 0===e||e.sg(d,f)},this);a.register("mixer-gain-left",function(d){this.Ih=Math.pow(10,d/20);this.update()},this);a.register("mixer-gain-right",function(d){this.Jh=Math.pow(10,d/20);this.update()},this);a.register("mixer-treble-left",c(this.i),
this);a.register("mixer-treble-right",c(this.j),this);a.register("mixer-bass-left",c(this.g),this);a.register("mixer-bass-right",c(this.h),this)}function $b(a,b,c){b=new ac(a.aa,b,a.L,a.N);a.sources.has(c);a.sources.set(c,b);return b}Yb.prototype.sg=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.D=a;break;case 1:this.G=a;break;case 2:this.s=a;break;default:return}this.update()};
Yb.prototype.update=function(){var a=this.s*this.G*this.Jh;this.l.gain.setValueAtTime(this.s*this.D*this.Ih,this.aa.currentTime);this.o.gain.setValueAtTime(a,this.aa.currentTime)};function ac(a,b,c,d){this.aa=a;this.o=this.l=!0;this.D=this.C=this.j=this.g=1;this.s=a.createChannelSplitter(2);this.h=a.createGain();this.i=a.createGain();b.connect(this.s);this.s.connect(this.h,0);this.h.connect(c);this.s.connect(this.i,1);this.i.connect(d)}
ac.prototype.update=function(){var a=this.o*this.g*this.j*this.D;this.h.gain.setValueAtTime(this.l*this.g*this.j*this.C,this.aa.currentTime);this.i.gain.setValueAtTime(a,this.aa.currentTime)};ac.prototype.connect=function(a){var b=!a||2===a;if(b||0===a)this.l=!0;if(b||1===a)this.o=!0;this.update()};ac.prototype.disconnect=function(a){var b=!a||2===a;if(b||0===a)this.l=!1;if(b||1===a)this.o=!1;this.update()};
ac.prototype.sg=function(a,b){void 0===b&&(b=2);switch(b){case 0:this.C=a;break;case 1:this.D=a;break;case 2:this.j=a;break;default:return}this.update()};
function Zb(a,b,c){this.Ye=b.createOscillator();this.Ye.type="square";this.Ye.frequency.setValueAtTime(440,b.currentTime);this.g=$b(c,this.Ye,1);this.g.disconnect();a.register("pcspeaker-enable",function(){var d=c.sources.get(1);void 0===d||d.connect(void 0)},this);a.register("pcspeaker-disable",function(){var d=c.sources.get(1);void 0===d||d.disconnect(void 0)},this);a.register("pcspeaker-update",function(d){var e=d[1],f=0;3===d[0]&&(f=Math.min(1193181.6665999999/e,this.Ye.frequency.maxValue),f=
Math.max(f,0));this.Ye.frequency.setValueAtTime(f,b.currentTime)},this)}Zb.prototype.start=function(){this.Ye.start()};
function Wb(a,b,c){this.v=a;this.aa=b;this.enabled=!1;this.xb=48E3;b=function(){function e(g){if(0===g)return 1;g*=Math.PI;return Math.sin(g)/g}function f(){var g=Reflect.construct(AudioWorkletProcessor,[],f);g.D=3;g.l=Array(1024);g.s=0;g.L=0;g.o=0;g.G=g.l.length;g.C=0;g.N=h;g.g=h;g.R=1;g.j=0;g.i=0;g.h=0;g.port.onmessage=k=>{switch(k.data.type){case "queue":g.ga(k.data.value);break;case "sampling-rate":g.R=k.data.value/sampleRate}};return g}var h=[new Float32Array(256),new Float32Array(256)];Reflect.setPrototypeOf(f.prototype,
AudioWorkletProcessor.prototype);Reflect.setPrototypeOf(f,AudioWorkletProcessor);f.prototype.process=f.prototype.process=function(g,k){for(g=0;g<k[0][0].length;g++){for(var l=0,m=0,p=this.h+this.D,r=this.h-this.D+1;r<=p;r++){var u=this.j+r;l+=this.V(u,0)*this.X(this.i-r);m+=this.V(u,1)*this.X(this.i-r)}if(isNaN(l)||isNaN(m))l=m=0;k[0][0][g]=l;k[0][1][g]=m;this.i+=this.R;this.h=Math.floor(this.i)}k=this.h;k+=this.D+2;this.i-=this.h;this.j+=this.h;this.h=0;this.$(k);return!0};f.prototype.X=function(g){return e(g)*
e(g/this.D)};f.prototype.V=function(g,k){return 0>g?(g+=this.N[0].length,this.N[k][g]):this.g[k][g]};f.prototype.$=function(g){var k=this.g[0].length;k-this.j<g&&(this.ba(),this.j-=k)};f.prototype.ba=function(){this.N=this.g;this.g=this.Z();var g=this.g[0].length;if(256>g){for(var k=this.s,l=0;256>g&&l<this.o;)g+=this.l[k][0].length,k=k+1&this.G-1,l++;g=Math.max(g,256);g=[new Float32Array(g),new Float32Array(g)];g[0].set(this.g[0]);g[1].set(this.g[1]);k=this.g[0].length;for(var m=0;m<l;m++){var p=
this.Z();g[0].set(p[0],k);g[1].set(p[1],k);k+=p[0].length}this.g=g}this.tb()};f.prototype.tb=function(){1024>this.C/this.R&&this.port.postMessage({type:"pump"})};f.prototype.ga=function(g){this.o<this.G&&(this.l[this.L]=g,this.L=this.L+1&this.G-1,this.o++,this.C+=g[0].length,this.tb())};f.prototype.Z=function(){if(!this.o)return h;var g=this.l[this.s];this.l[this.s]=null;this.s=this.s+1&this.G-1;this.o--;this.C-=g[0].length;return g};registerProcessor("dac-processor",f)}.toString();var d=URL.createObjectURL(new Blob([b.substring(b.indexOf("{")+
1,b.lastIndexOf("}"))],{type:"application/javascript"}));this.Cc=null;this.g=this.aa.createGain();this.aa.audioWorklet.addModule(d).then(()=>{URL.revokeObjectURL(d);this.Cc=new AudioWorkletNode(this.aa,"dac-processor",{numberOfInputs:0,numberOfOutputs:1,outputChannelCount:[2],parameterData:{},processorOptions:{}});this.Cc.port.postMessage({type:"sampling-rate",value:this.xb});this.Cc.port.onmessage=e=>{switch(e.data.type){case "pump":this.tb()}};this.Cc.connect(this.g)});this.h=$b(c,this.g,2);this.h.g=
3;a.register("dac-send-data",function(e){this.Wg(e)},this);a.register("dac-enable",function(){this.enabled=!0},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(e){this.xb=e;this.Cc&&this.Cc.port.postMessage({type:"sampling-rate",value:e})},this)}Wb.prototype.Wg=function(a){this.Cc&&this.Cc.port.postMessage({type:"queue",value:a},[a[0].buffer,a[1].buffer])};Wb.prototype.tb=function(){this.enabled&&this.v.send("dac-request-data")};
function Xb(a,b,c){this.v=a;this.aa=b;this.enabled=!1;this.xb=22050;this.g=0;this.Gf=1;this.lg=this.aa.createBiquadFilter();this.lg.type="lowpass";this.i=this.lg;this.h=$b(c,this.i,2);this.h.g=3;a.register("dac-send-data",function(d){this.Wg(d)},this);a.register("dac-enable",function(){this.enabled=!0;this.tb()},this);a.register("dac-disable",function(){this.enabled=!1},this);a.register("dac-tell-sampling-rate",function(d){this.xb=d;this.Gf=Math.ceil(8E3/d);this.lg.frequency.setValueAtTime(d/2,this.aa.currentTime)},
this)}
Xb.prototype.Wg=function(a){var b=a[0].length,c=b/this.xb;if(1<this.Gf){var d=this.aa.createBuffer(2,b*this.Gf,this.xb*this.Gf);for(var e=d.getChannelData(0),f=d.getChannelData(1),h=0,g=0;g<b;g++)for(var k=0;k<this.Gf;k++,h++)e[h]=a[0][g],f[h]=a[1][g]}else d=this.aa.createBuffer(2,b,this.xb),d.copyToChannel?(d.copyToChannel(a[0],0),d.copyToChannel(a[1],1)):(d.getChannelData(0).set(a[0]),d.getChannelData(1).set(a[1]));a=this.aa.createBufferSource();a.buffer=d;a.connect(this.lg);a.addEventListener("ended",this.tb.bind(this));
d=this.aa.currentTime;if(this.g<d)for(this.g=d,d=.2-c,b=0;b<=d;)b+=c,this.g+=c,setTimeout(()=>this.tb(),1E3*b);a.start(this.g);this.g+=c;setTimeout(()=>this.tb(),0)};Xb.prototype.tb=function(){this.enabled&&(.2<this.g-this.aa.currentTime||this.v.send("dac-request-data"))};function bc(a,b){this.v=b;this.g=void 0;this.id=0;this.h=[];this.url=a;this.j=Date.now()-1E4;this.i=!1;this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}n=bc.prototype;n.Fj=function(a){this.v&&this.v.send("net"+this.id+"-receive",new Uint8Array(a.data))};n.Dj=function(){this.i||(this.connect(),setTimeout(this.connect.bind(this),1E4))};n.Gj=function(){for(var a=0;a<this.h.length;a++)this.send(this.h[a]);this.h=[]};n.Ej=function(){};n.sa=function(){this.i=!0;this.g&&this.g.close()};
n.connect=function(){if("undefined"!==typeof WebSocket){if(this.g){var a=this.g.readyState;if(0===a||1===a)return}if(!(this.j+1E4>Date.now())){this.j=Date.now();try{this.g=new WebSocket(this.url)}catch(b){console.error(b);return}this.g.binaryType="arraybuffer";this.g.onopen=this.Gj.bind(this);this.g.onmessage=this.Fj.bind(this);this.g.onclose=this.Dj.bind(this);this.g.onerror=this.Ej.bind(this)}}};
n.send=function(a){this.g&&1===this.g.readyState?this.g.send(a):(this.h.push(a),128<this.h.length&&(this.h=this.h.slice(-64)),this.connect())};const cc=(new Date("1970-01-01T00:00:00Z")).getTime()-(new Date("1900-01-01T00:00:00Z")).getTime(),dc=Math.pow(2,32),ec=[118,56,54];function fc(a){return[0,1,2,3,4,5].map(b=>a[b].toString(16)).map(b=>1===b.length?"0"+b:b).join(":")}function gc(a){return a[0]<<24|a[1]<<16|a[2]<<8|a[3]}function hc(a,b){const c=Math.min(a.length,b.length);if(c){const f=a.buffer;var d=f.length,e=a.g+c;e>d?(e%=d,d-=a.g,b.set(f.subarray(a.g)),b.set(f.subarray(0,e),d)):b.set(f.subarray(a.g,e))}return c}
class ic{constructor(){var a=Math.min(2048,16);this.length=this.head=this.g=0;this.buffer=new Uint8Array(a)}write(a){const b=a.length;var c=this.length+b;let d=this.buffer.length;if(d<c){for(;d<c;)d*=2;c=new Uint8Array(d);hc(this,c);this.g=0;this.head=this.length;this.buffer=c}c=this.buffer;const e=this.head+b;if(e>d){const f=d-this.head;c.set(a.subarray(0,f),this.head);c.set(a.subarray(f))}else c.set(a,this.head);this.head=e%d;this.length+=b}remove(a){a>this.length&&(a=this.length);a&&(this.g=(this.g+
a)%this.buffer.length,this.length-=a);return a}}function jc(){const a=new Uint8Array(1518),b=a.buffer,c=a.byteOffset;return{Ue:a,Aj:new DataView(b),Ch:new DataView(b,c+14,1500),Kg:new DataView(b,c+34,1480),xg:new DataView(b,c+42,1472),Ci:new TextEncoder}}function kc(a,b,c,d){d.Ue.set(b,c.byteOffset+a);return b.length}function lc(a,b,c,d){const e=c.byteOffset+(a&-2);d=d.Ue;for(c=c.byteOffset;c<e;c+=2)b+=d[c]<<8|d[c+1];for(a&1&&(b+=d[e]<<8);b>>>16;)b=(b&65535)+(b>>>16);return~b&65535}
function F(a,b){a.Ue.fill(0);var c=a.Ue,d=c.subarray,e=a.Aj;kc(0,b.Ia.ha,e,a);kc(6,b.Ia.src,e,a);e.setUint16(12,b.Ia.tc);e=14;if(b.Wa){var f=a.Ch;f.setUint16(0,b.Wa.zf);f.setUint16(2,b.Wa.Vg);f.setUint8(4,b.Wa.eh.length);f.setUint8(5,b.Wa.ug.length);f.setUint16(6,b.Wa.Rg);kc(8,b.Wa.eh,f,a);kc(14,b.Wa.ug,f,a);kc(18,b.Wa.Di,f,a);kc(24,b.Wa.Of,f,a);e+=28}else if(b.W){f=a.Ch;var h=20;if(b.Sc){var g=a.Kg;g.setUint8(0,b.Sc.type);g.setUint8(1,b.Sc.code);g.setUint16(2,0);var k=4+kc(4,b.Sc.data,g,a);g.setUint16(2,
lc(k,0,g,a));h+=k}else if(b.$a){g=a.Kg;var l=8;if(b.xa){k=l;var m=a.xg;m.setUint8(0,b.xa.Ze);m.setUint8(1,b.xa.zf);m.setUint8(2,b.xa.Nh);m.setUint8(3,b.xa.Oh);m.setUint32(4,b.xa.nh);m.setUint16(8,b.xa.xi);m.setUint16(10,b.xa.flags);m.setUint32(12,b.xa.uh);m.setUint32(16,b.xa.Gi);m.setUint32(20,b.xa.Ai);m.setUint32(24,b.xa.Lh);kc(28,b.xa.Fg,m,a);m.setUint32(236,1669485411);l=240;for(var p of b.xa.options)l+=kc(l,p,m,a);k+=l}else if(b.mb){p=l;l=a.xg;l.setUint16(0,b.mb.id);l.setUint16(2,b.mb.flags);
l.setUint16(4,b.mb.Dd.length);l.setUint16(6,b.mb.kf.length);let A=12;for(var r=0;r<b.mb.Dd.length;++r){var u=b.mb.Dd[r];for(m of u.name){const B=a.Ci.encodeInto(m,a.Ue.subarray(l.byteOffset+(A+1))).written;l.setUint8(A,B);A+=1+B}l.setUint16(A,u.type);A+=2;l.setUint16(A,u.de);A+=2}for(r=0;r<b.mb.kf.length;++r){m=b.mb.kf[r];for(k of m.name)u=a.Ci.encodeInto(k,a.Ue.subarray(l.byteOffset+(A+1))).written,l.setUint8(A,u),A+=1+u;l.setUint16(A,m.type);A+=2;l.setUint16(A,m.de);A+=2;l.setUint32(A,m.wg);A+=
4;l.setUint16(A,m.data.length);A+=2;A+=kc(A,m.data,l,a)}k=p+A}else b.na?(k=l,m=a.xg,m.setUint8(0,b.na.flags),m.setUint8(1,b.na.Bi),m.setUint8(2,b.na.ai),m.setUint8(3,b.na.precision),m.setUint32(4,b.na.jl),m.setUint32(8,b.na.kl),m.setUint32(12,b.na.gl),m.setUint32(16,b.na.il),m.setUint32(20,b.na.hl),m.setUint32(24,b.na.Uh),m.setUint32(28,b.na.Th),m.setUint32(32,b.na.vi),m.setUint32(36,b.na.ui),m.setUint32(40,b.na.hh),m.setUint32(44,b.na.gh),k+=48):k=l+kc(0,b.$a.data,a.xg,a);l=k;g.setUint16(0,b.$a.ra);
g.setUint16(2,b.$a.pa);g.setUint16(4,l);g.setUint16(6,0);g.setUint16(6,lc(l,(b.W.src[0]<<8|b.W.src[1])+(b.W.src[2]<<8|b.W.src[3])+(b.W.ha[0]<<8|b.W.ha[1])+(b.W.ha[2]<<8|b.W.ha[3])+17+l,g,a));h+=l}else b.P&&(g=a.Kg,k=0,m=b.P,m.We&&(k|=1),m.Gd&&(k|=2),m.De&&(k|=4),m.si&&(k|=8),m.Ca&&(k|=16),m.sl&&(k|=32),m.vj&&(k|=64),m.hj&&(k|=128),g.setUint16(0,m.ra),g.setUint16(2,m.pa),g.setUint32(4,m.ib),g.setUint32(8,m.Wb),g.setUint8(12,80),g.setUint8(13,k),g.setUint16(14,m.yb),g.setUint16(16,0),g.setUint16(18,
m.tl||0),k=20,b.bf&&(k+=kc(20,b.bf,g,a)),g.setUint16(16,lc(k,(b.W.src[0]<<8|b.W.src[1])+(b.W.src[2]<<8|b.W.src[3])+(b.W.ha[0]<<8|b.W.ha[1])+(b.W.ha[2]<<8|b.W.ha[3])+6+k,g,a)),h+=k);f.setUint8(0,69);f.setUint8(1,b.W.rl||0);f.setUint16(2,h);f.setUint16(4,b.W.id||0);f.setUint8(6,64);f.setUint8(8,b.W.wg||32);f.setUint8(9,b.W.ed);f.setUint16(10,0);kc(12,b.W.src,f,a);kc(16,b.W.ha,f,a);f.setUint16(10,lc(20,0,f,a));e+=h}return d.call(c,0,e)}
function oc(a,b){fetch(`https://${b.ag||"cloudflare-dns.com"}/dns-query`,{method:"POST",headers:[["content-type","application/dns-message"]],body:a.$a.data}).then(async c=>{c={Ia:{tc:2048,src:b.ub,ha:a.Ia.src},W:{ed:17,src:b.ob,ha:a.W.src},$a:{ra:53,pa:a.$a.ra,data:new Uint8Array(await c.arrayBuffer())}};b.Fa(F(b.Ka,c))})}
function pc(a,b){let c={};c.Ia={tc:2048,src:b.ub,ha:a.Ia.src};c.W={ed:17,src:b.ob,ha:b.Je};c.$a={ra:67,pa:68};c.xa={zf:1,Nh:6,Oh:0,nh:a.xa.nh,xi:0,flags:0,uh:0,Gi:gc(b.Je),Ai:gc(b.ob),Lh:gc(b.ob),Fg:a.xa.Fg};let d=[],e=a.xa.options.find(function(f){return 53===f[0]});e&&3===e[2]&&(a.xa.Ze=3);1===a.xa.Ze&&(c.xa.Ze=2,d.push(new Uint8Array([53,1,2])));3===a.xa.Ze&&(c.xa.Ze=2,d.push(new Uint8Array([53,1,5])),d.push(new Uint8Array([51,4,8,0,0,0])));a=[b.ob[0],b.ob[1],b.ob[2],b.ob[3]];d.push(new Uint8Array([1,
4,255,255,255,0]));b.pe&&(d.push(new Uint8Array([3,4].concat(a))),d.push(new Uint8Array([6,4].concat(a))));d.push(new Uint8Array([54,4].concat(a)));d.push(new Uint8Array([60,3].concat(ec)));d.push(new Uint8Array([255,0]));c.xa.options=d;b.Fa(F(b.Ka,c))}
function qc(a,b){let c={};var d=(new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint16(12),e={tc:d,ha:a.subarray(0,6),Hl:fc(a.subarray(0,6)),src:a.subarray(6,12),im:fc(a.subarray(6,12))};c.Ia=e;a=a.subarray(14,a.length);if(2048===d){var f=new DataView(a.buffer,a.byteOffset,a.byteLength);e=a[0]>>4&15;var h=a[0]&15,g=f.getUint8(1),k=f.getUint16(2);let l=f.getUint8(8);d=f.getUint8(9);f=f.getUint16(10);c.W={version:e,Yl:h,rl:g,Yc:k,wg:l,ed:d,$l:f,src:a.subarray(12,16),ha:a.subarray(16,20)};e=a.subarray(4*
h,k);if(1===d)a=new DataView(e.buffer,e.byteOffset,e.byteLength),a={type:a.getUint8(0),code:a.getUint8(1),th:a.getUint16(2),data:e.subarray(4)},c.Sc=a;else if(6===d)d=new DataView(e.buffer,e.byteOffset,e.byteLength),a={ra:d.getUint16(0),pa:d.getUint16(2),ib:d.getUint32(4),Wb:d.getUint32(8),uj:d.getUint8(12)>>4,yb:d.getUint16(14),th:d.getUint16(16),tl:d.getUint16(18)},d=d.getUint8(13),a.We=!!(d&1),a.Gd=!!(d&2),a.De=!!(d&4),a.si=!!(d&8),a.Ca=!!(d&16),a.sl=!!(d&32),a.vj=!!(d&64),a.hj=!!(d&128),c.P=a,
c.bf=e.subarray(4*a.uj);else if(17===d){a=new DataView(e.buffer,e.byteOffset,e.byteLength);a={ra:a.getUint16(0),pa:a.getUint16(2),Yc:a.getUint16(4),th:a.getUint16(6),data:e.subarray(8),lj:(new TextDecoder).decode(e.subarray(8))};if(67===a.pa||67===a.ra){e=e.subarray(8);d=new DataView(e.buffer,e.byteOffset,e.byteLength);d={Ze:d.getUint8(0),zf:d.getUint8(1),Nh:d.getUint8(2),Oh:d.getUint8(3),nh:d.getUint32(4),xi:d.getUint16(8),flags:d.getUint16(10),uh:d.getUint32(12),Gi:d.getUint32(16),Ai:d.getUint32(20),
Lh:d.getUint32(24),Fg:e.subarray(28,44),Qh:d.getUint32(236),options:[]};e=e.subarray(240);for(h=0;h<e.length;++h)g=h,0!==e[h]&&(++h,k=e[h],h+=k,d.options.push(e.subarray(g,g+k+2)));c.xa=d;c.Il=d.options}else 53===a.pa||53===a.ra?rc(e.subarray(8),c):123===a.pa&&(d=e.subarray(8),d=new DataView(d.buffer,d.byteOffset,d.byteLength),c.na={flags:d.getUint8(0),Bi:d.getUint8(1),ai:d.getUint8(2),precision:d.getUint8(3),jl:d.getUint32(4),kl:d.getUint32(8),gl:d.getUint32(12),il:d.getUint32(16),hl:d.getUint32(20),
Uh:d.getUint32(24),Th:d.getUint32(28),vi:d.getUint32(32),ui:d.getUint32(36),hh:d.getUint32(40),gh:d.getUint32(44)});c.$a=a}}else 2054===d&&(d=new DataView(a.buffer,a.byteOffset,a.byteLength),a={zf:d.getUint16(0),Vg:d.getUint16(2),Rg:d.getUint16(6),eh:a.subarray(8,14),ug:a.subarray(14,18),Di:a.subarray(18,24),Of:a.subarray(24,28)},c.Wa=a);if(c.W)if(c.P){if(a=`${c.W.src.join(".")}:${c.P.ra}:${c.W.ha.join(".")}:${c.P.pa}`,!c.P.Gd||!b.Sh(c,a))if(b.Gc[a])b.Gc[a].process(c);else{a=c.P.Wb;if(c.P.We||c.P.Gd)a+=
1;d={};d.Ia={tc:2048,src:b.ub,ha:c.Ia.src};d.W={ed:6,src:c.W.ha,ha:c.W.src};d.P={ra:c.P.pa,pa:c.P.ra,ib:a,Wb:c.P.ib+(c.P.Gd?1:0),yb:c.P.yb,De:!0,Ca:c.P.Gd};b.Fa(F(b.Ka,d))}}else if(c.$a)if(c.mb)if("static"===b.$f){a={};a.Ia={tc:2048,src:b.ub,ha:c.Ia.src};a.W={ed:17,src:b.ob,ha:c.W.src};a.$a={ra:53,pa:c.$a.ra};d=[];for(e=0;e<c.mb.Dd.length;++e)switch(h=c.mb.Dd[e],h.type){case 1:d.push({name:h.name,type:h.type,de:h.de,wg:600,data:[192,168,87,1]})}a.mb={id:c.mb.id,flags:33152,Dd:c.mb.Dd,kf:d};b.Fa(F(b.Ka,
a))}else oc(c,b);else c.xa?pc(c,b):c.na?(a=Date.now()+cc,d=a%1E3/1E3*dc,e={},e.Ia={tc:2048,src:b.ub,ha:c.Ia.src},e.W={ed:17,src:c.W.ha,ha:c.W.src},e.$a={ra:123,pa:c.$a.ra},e.na=Object.assign({},c.na),e.na.flags=36,e.na.ai=10,e.na.Uh=c.na.hh,e.na.Th=c.na.gh,e.na.vi=a/1E3,e.na.ui=d,e.na.hh=a/1E3,e.na.gh=d,e.na.Bi=2,b.Fa(F(b.Ka,e))):8===c.$a.pa&&(a={},a.Ia={tc:2048,src:b.ub,ha:c.Ia.src},a.W={ed:17,src:c.W.ha,ha:c.W.src},a.$a={ra:c.$a.pa,pa:c.$a.ra,data:(new TextEncoder).encode(c.$a.lj)},b.Fa(F(b.Ka,
a)));else c.Sc&&8===c.Sc.type&&(a={},a.Ia={tc:2048,src:b.ub,ha:c.Ia.src},a.W={ed:1,src:c.W.ha,ha:c.W.src},a.Sc={type:0,code:c.Sc.code,data:c.Sc.data},b.Fa(F(b.Ka,a)));else c.Wa&&1===c.Wa.Rg&&2048===c.Wa.Vg&&(a=gc(c.Wa.Of)&4294967040,d=gc(b.ob)&4294967040,!b.pe&&a!==d||a===d&&99<c.Wa.Of[3]||(a={},a.Ia={tc:2054,src:b.ub,ha:c.Ia.src},a.Wa={zf:1,Vg:2048,Rg:2,eh:b.ub,ug:c.Wa.Of,Di:c.Ia.src,Of:c.Wa.ug},b.Fa(F(b.Ka,a))))}
function rc(a,b){function c(){let l=[],m;do m=d.getUint8(g),l.push((new TextDecoder).decode(a.subarray(g+1,g+1+m))),g+=m+1;while(0<m);return l}let d=new DataView(a.buffer,a.byteOffset,a.byteLength),e={id:d.getUint16(0),flags:d.getUint16(2),Dd:[],kf:[]};var f=d.getUint16(4);let h=d.getUint16(6);d.getUint16(8);d.getUint16(10);let g=12;for(var k=0;k<f;k++)e.Dd.push({name:c(),type:d.getInt16(g),de:d.getInt16(g+2)}),g+=4;for(f=0;f<h;f++){k={name:c(),type:d.getInt16(g),de:d.getUint16(g+2),wg:d.getUint32(g+
4)};g+=8;let l=d.getUint16(g);g+=2;k.data=a.subarray(g,g+l);g+=l;e.kf.push(k)}b.mb=e}function sc(){this.state="closed";this.da=null;this.Ee=new ic;this.G=new Uint8Array(1460);this.i=this.gg=!1;this.l=void 0;this.j={}}function tc(a,b){a.j.data=b}function uc(a,b,...c){a.j[b]&&a.j[b].apply(a,c)}function vc(a){let b={};b.Ia={tc:2048,src:a.s,ha:a.o};b.W={ed:6,src:a.D,ha:a.C};b.P={ra:a.ra,pa:a.pa,yb:a.yb,Wb:a.Ca,ib:a.ib,Ca:!0};return b}
function wc(a,b,c){b={ra:b.P.pa,pa:b.P.ra,yb:b.P.yb,Wb:a.Ca,ib:a.ib};if(c)for(const d in c)b[d]=c[d];a=vc(a);a.P=b;return a}n=sc.prototype;n.connect=function(){this.ib=1338;this.Ca=1;this.yb=64240;this.state="syn-sent";let a=vc(this);a.W.id=2345;a.P={ra:this.ra,pa:this.pa,ib:1337,Wb:0,yb:0,Gd:!0};this.da.Fa(F(this.da.Ka,a))};
n.accept=function(a){this.ib=1338;this.Ca=a.P.ib+1;this.s=this.da.ub;this.D=a.W.ha;this.ra=a.P.pa;this.o=a.Ia.src;this.pa=a.P.ra;this.C=a.W.src;this.yb=a.P.yb;let b=vc(this);b.P={ra:this.ra,pa:this.pa,ib:1337,Wb:this.Ca,yb:a.P.yb,Gd:!0,Ca:!0};this.state="established";this.da.Fa(F(this.da.Ka,b))};
n.process=function(a){if("closed"===this.state)a=wc(this,a,{De:!0}),this.da.Fa(F(this.da.Ka,a));else if(a.P.De)"syn-probe"===this.state?uc(this,"probe",!1):this.Df(),xc(this);else if(a.P.Gd)"syn-sent"===this.state&&a.P.Ca?(this.Ca=a.P.ib+1,this.g=a.P.Wb,this.da.Fa(F(this.da.Ka,vc(this))),this.state="established",uc(this,"connect")):"syn-probe"===this.state&&a.P.Ca&&(uc(this,"probe",!0),a=wc(this,a,{De:!0}),this.da.Fa(F(this.da.Ka,a)),xc(this));else{if(a.P.Ca)if("syn-received"===this.state)this.state=
"established";else if("fin-wait-1"===this.state)a.P.We||(this.state="fin-wait-2");else if("closing"===this.state||"last-ack"===this.state){xc(this);return}if(void 0===this.g)this.g=a.P.Wb;else{var b=a.P.Wb-this.g;if(0<b){if(this.g=a.P.Wb,this.Ee.remove(b),this.ib+=b,this.pending=!1,this.i&&!this.Ee.length){this.i=!1;this.state=this.l;a=vc(this);a.P.We=!0;this.da.Fa(F(this.da.Ka,a));return}}else if(0>b){a=wc(this,a,{De:!0});this.da.Fa(F(this.da.Ka,a));this.Df();xc(this);return}}a.P.We?(++this.Ca,b=
wc(this,a,{}),"established"===this.state?(b.P.Ca=!0,this.state="close-wait",this.Rh()):"fin-wait-1"===this.state?(a.P.Ca?xc(this):this.state="closing",b.P.Ca=!0):"fin-wait-2"===this.state?(xc(this),b.P.Ca=!0):(xc(this),this.Df(),b.P.De=!0),this.da.Fa(F(this.da.Ka,b))):this.Ca!==a.P.ib?(a=wc(this,a,{Ca:!0}),this.da.Fa(F(this.da.Ka,a))):a.P.Ca&&0<a.bf.length&&(this.Ca+=a.bf.length,this.da.Fa(F(this.da.Ka,vc(this))),uc(this,"data",a.bf));this.tb()}};n.write=function(a){this.gg||this.Ee.write(a);this.tb()};
n.close=function(){if(!this.gg){this.gg=!0;if("established"===this.state||"syn-received"===this.state)var a="fin-wait-1";else if("close-wait"===this.state)a="last-ack";else{xc(this);return}this.Ee.length||this.pending?(this.i=!0,this.l=a):(this.state=a,a=vc(this),a.P.We=!0,this.da.Fa(F(this.da.Ka,a)))}this.tb()};n.Rh=function(){uc(this,"shutdown")};n.Df=function(){uc(this,"close")};function xc(a){a.da.Gc[a.h]&&(a.state="closed",delete a.da.Gc[a.h])}
n.tb=function(){if(this.Ee.length&&!this.pending){const a=this.G,b=hc(this.Ee,a),c=vc(this);c.P.si=!0;c.bf=a.subarray(0,b);this.da.Fa(F(this.da.Ka,c));this.pending=!0}};function yc(a,b){b=b||{};this.v=a;this.id=b.id||0;this.ub=new Uint8Array((b.ub||"52:54:0:1:2:3").split(":").map(function(c){return parseInt(c,16)}));this.ob=new Uint8Array((b.ob||"192.168.86.1").split(".").map(function(c){return parseInt(c,10)}));this.Je=new Uint8Array((b.Je||"192.168.86.100").split(".").map(function(c){return parseInt(c,10)}));this.pe=void 0===b.pe||!!b.pe;this.zg=new Uint8Array(6);this.$f=b.$f||"static";this.ag=b.ag;this.Gc={};this.Ka=jc();this.qh=(...c)=>fetch(...c);this.Kc=b.Kc;
this.v.register("net"+this.id+"-mac",function(c){this.zg=new Uint8Array(c.split(":").map(function(d){return parseInt(d,16)}))},this);this.v.register("net"+this.id+"-send",function(c){this.send(c)},this)}n=yc.prototype;n.sa=function(){};n.Sh=function(a,b){if(80===a.P.pa){let c=new sc;c.state="syn-received";c.da=this;tc(c,zc);c.h=b;c.accept(a);this.Gc[b]=c;return!0}return!1};
n.connect=function(a){var b=this.Je.join(".");const c=this.ob.join("."),d=16383*Math.random()|0;let e,f,h=0;do e=49152+(d+h)%16383,f=`${b}:${a}:${c}:${e}`;while(16383>++h&&this.Gc[f]);if(this.Gc[f])throw Error("pool of dynamic TCP port numbers exhausted, connection aborted");b=new sc;b.h=f;b.s=this.ub;b.D=this.ob;b.ra=e;b.o=this.zg;b.pa=a;b.C=this.Je;b.da=this;this.Gc[f]=b;b.connect();return b};
async function zc(a){this.read=this.read||"";if((this.read+=(new TextDecoder).decode(a))&&-1!==this.read.indexOf("\r\n\r\n")){a=this.read.indexOf("\r\n\r\n");var b=this.read.substring(0,a).split(/\r\n/);a=this.read.substring(a+4);this.read="";let c=b[0].split(" "),d;d=/^https?:/.test(c[1])?new URL(c[1]):new URL("http://host"+c[1]);"undefined"!==typeof window&&"http:"===d.protocol&&"https:"===window.location.protocol&&(d.protocol="https:");let e=new Headers;for(let g=1;g<b.length;++g){const k=Ac(b[g]);
if(!k){console.warn('The request contains an invalid header: "%s"',b[g]);Bc(this,400,"Bad Request",`Invalid header in request: ${b[g]}`);return}"host"===k.key.toLowerCase()?d.host=k.value:e.append(k.key,k.value)}if(!this.da.Kc&&/^\d+\.external$/.test(d.hostname))if(b=parseInt(d.hostname.split(".")[0],10),!isNaN(b)&&0<b&&65536>b)d.protocol="http:",d.hostname="localhost",d.port=b.toString(10);else{console.warn('Unknown port for localhost: "%s"',d.href);Bc(this,400,"Bad Request",`Unknown port for localhost: ${d.href}`);
return}this.name=d.href;b={method:c[0],headers:e};-1!==["put","post"].indexOf(b.method.toLowerCase())&&(b.body=a);const f=this.da.Kc?this.da.Kc+encodeURIComponent(d.href):d.href;new TextEncoder;let h=!1;this.da.qh(f,b).then(g=>{let k=new Headers(g.headers);k.delete("content-encoding");k.delete("keep-alive");k.delete("content-length");k.delete("transfer-encoding");k.set("x-was-fetch-redirected",`${!!g.redirected}`);k.set("x-fetch-resp-url",g.url);k.set("connection","close");this.write(Cc(g.status,
g.statusText,k));h=!0;if(g.body&&g.body.getReader){const l=g.body.getReader(),m=({value:p,done:r})=>{p&&this.write(p);if(r)this.close();else return l.read().then(m)};l.read().then(m)}else g.arrayBuffer().then(l=>{this.write(new Uint8Array(l));this.close()})}).catch(g=>{console.warn("Fetch Failed: "+f+"\n"+g);h||Bc(this,502,"Fetch Error",`Fetch ${f} failed:\n\n${g.stack||g.message}`);this.close()})}}
n.qh=async function(a,b){this.Kc&&(a=this.Kc+encodeURIComponent(a));try{const c=await fetch(a,b),d=await c.arrayBuffer();return[c,d]}catch(c){return console.warn("Fetch Failed: "+a+"\n"+c),[{status:502,statusText:"Fetch Error",headers:new Headers({"Content-Type":"text/plain"})},(new TextEncoder).encode(`Fetch ${a} failed:\n\n${c.stack}`).buffer]}};
function Cc(a,b,c){a=[`HTTP/1.1 ${a} ${b}`];for(const [d,e]of c.entries())a.push(`${d}: ${e}`);return(new TextEncoder).encode(a.join("\r\n")+"\r\n\r\n")}function Bc(a,b,c,d){const e=new Headers({"content-type":"text/plain","content-length":d.length.toString(10),connection:"close"});b=[Cc(b,c,e),(new TextEncoder).encode(d)];if(!a.gg)for(const f of b)a.Ee.write(f);a.tb();a.close()}
function Ac(a){var b=a.match(/^([^:]*):(.*)$/);if(b&&(a=b[1],b=b[2].trim(),0!==a.length&&0!==b.length&&/^[\w-]+$/.test(a)&&/^[\x20-\x7E]+$/.test(b)))return{key:a,value:b}}n.send=function(a){qc(a,this)};n.Fa=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};function Dc(a,b,c){Ec(this,a);this.j=1;this.g={0:{mf:0}};this.i=[];c=c||{};this.v=b;this.id=c.id||0;this.ub=new Uint8Array((c.ub||"52:54:0:1:2:3").split(":").map(function(d){return parseInt(d,16)}));this.ob=new Uint8Array((c.ob||"192.168.86.1").split(".").map(function(d){return parseInt(d,10)}));this.Je=new Uint8Array((c.Je||"192.168.86.100").split(".").map(function(d){return parseInt(d,10)}));this.pe=void 0===c.pe||!!c.pe;this.zg=new Uint8Array(6);this.$f=c.$f||"doh";this.ag=c.ag;this.Gc={};this.Ka=
jc();this.v.register("net"+this.id+"-mac",function(d){this.zg=new Uint8Array(d.split(":").map(function(e){return parseInt(e,16)}))},this);this.v.register("net"+this.id+"-send",function(d){this.send(d)},this)}
function Ec(a,b){a.h=new WebSocket(b.replace("wisp://","ws://").replace("wisps://","wss://"));a.h.binaryType="arraybuffer";a.h.onmessage=c=>{c=new Uint8Array(c.data);const d=new DataView(c.buffer),e=d.getUint32(1,!0);switch(c[0]){case 2:if(a.g[e])a.g[e].Hg(c.slice(5));else throw Error("Got a DATA packet but stream not registered. ID: "+e);break;case 3:a.g[e]&&(a.g[e].mf=d.getUint32(5,!0));if(a.g[e].vh){for(const f of a.i)Fc(a,f.data,f.type,e);a.g[e].vh=!1}break;case 4:a.g[e]&&a.g[e].Gg(d.getUint8(5)),
delete a.g[e]}};a.h.onclose=()=>{setTimeout(()=>{Ec(a,b)},1E4)}}function Fc(a,b,c,d){a.g[d]&&(0<a.g[d].mf?("DATA"===c&&a.g[d].mf--,a.h.send(b)):(a.g[d].vh=!0,a.i.push({data:b,type:c})))}
function Gc(a,b){let c,d;switch(b.type){case "CONNECT":const e=(new TextEncoder).encode(b.hostname);c=new Uint8Array(8+e.length);d=new DataView(c.buffer);d.setUint8(0,1);d.setUint32(1,b.fc,!0);d.setUint8(5,1);d.setUint16(6,b.port,!0);c.set(e,8);a.g[b.fc]={Hg:b.Hg,Gg:b.Gg,mf:a.g[0].mf};break;case "DATA":c=new Uint8Array(5+b.data.length);d=new DataView(c.buffer);d.setUint8(0,2);d.setUint32(1,b.fc,!0);c.set(b.data,5);break;case "CLOSE":c=new Uint8Array(6),d=new DataView(c.buffer),d.setUint8(0,4),d.setUint32(1,
b.fc,!0),d.setUint8(5,b.reason)}Fc(a,c,b.type,b.fc)}Dc.prototype.sa=function(){this.h&&(this.h.onmessage=null,this.h.onclose=null,this.h.close(),this.h=null)};
Dc.prototype.Sh=function(a,b){let c=new sc;c.state="syn-received";c.da=this;c.h=b;c.fc=this.j++;this.Gc[b]=c;tc(c,d=>{0!==d.length&&Gc(this,{type:"DATA",fc:c.fc,data:d})});c.Df=()=>{Gc(this,{type:"CLOSE",fc:c.fc,reason:2})};c.Rh=c.Df;Gc(this,{type:"CONNECT",fc:c.fc,hostname:a.W.ha.join("."),port:a.P.pa,Hg:d=>{c.write(d)},Gg:()=>{c.close()}});c.accept(a);return!0};Dc.prototype.send=function(a){qc(a,this)};Dc.prototype.Fa=function(a){this.v.send("net"+this.id+"-receive",new Uint8Array(a))};const Hc="undefined"!==typeof window&&0<=window.navigator.platform.toString().toLowerCase().search("win");
function Ic(a){function b(x){!x.altKey&&k[56]&&h(56,!1);return e(x,!1)}function c(x){!x.altKey&&k[56]&&h(56,!1);return e(x,!0)}function d(){for(var x=Object.keys(k),E,J=0;J<x.length;J++)E=+x[J],k[E]&&h(E,!1);k={}}function e(x,E){if(r.v&&(x.shiftKey&&x.ctrlKey&&(73===x.keyCode||74===x.keyCode||75===x.keyCode)||!r.cg?0:x.target?x.target.classList.contains("phone_keyboard")||"INPUT"!==x.target.nodeName&&"TEXTAREA"!==x.target.nodeName:1)){x.preventDefault&&x.preventDefault();if(Hc&&(l&&(clearTimeout(p),
x.getModifierState&&x.getModifierState("AltGraph")&&m===E&&"ControlLeft"===l.code&&"AltRight"===x.code||f(l,m),l=null),"ControlLeft"===x.code))return l=x,m=E,p=setTimeout(()=>{f(l,m);l=null},10),!1;f(x,E);return!1}}function f(x,E){a:{if(void 0!==x.code){var J=v[x.code];if(void 0!==J)break a}J=u[x.keyCode]}J?h(J,E,x.repeat):console.log("Missing char in map: keyCode="+(x.keyCode||-1).toString(16)+" code="+x.code)}function h(x,E,J){if(E)k[x]&&!J&&h(x,!1);else if(!k[x])return;(k[x]=E)||(x|=128);255<x?
(g(x>>8),g(x&255)):g(x)}function g(x){r.v.send("keyboard-code",x)}var k={},l=null,m=!1,p=0,r=this;this.cg=!0;const u=new Uint16Array([0,0,0,0,0,0,0,0,14,15,0,0,0,28,0,0,42,29,56,0,58,0,0,0,0,0,0,1,0,0,0,0,57,57417,57425,57423,57415,57419,57416,57421,80,0,0,0,0,82,83,0,11,2,3,4,5,6,7,8,9,10,0,39,0,13,0,0,0,30,48,46,32,18,33,34,35,23,36,37,38,50,49,24,25,16,19,31,20,22,47,17,45,21,44,57435,57436,57437,0,0,82,79,80,81,75,76,77,71,72,73,0,0,0,0,0,0,59,60,61,62,63,64,65,66,67,68,87,88,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,69,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,12,0,0,0,0,0,0,0,0,0,0,0,0,39,13,51,12,52,53,41,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,26,43,27,40,0,57435,57400,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),A={8:8,10:13,32:32,39:222,44:188,45:189,46:190,47:191,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,59:186,61:187,91:219,92:220,93:221,96:192,97:65,98:66,99:67,100:68,101:69,102:70,103:71,104:72,105:73,106:74,107:75,108:76,109:77,110:78,111:79,112:80,
113:81,114:82,115:83,116:84,117:85,118:86,119:87,120:88,121:89,122:90},B={33:49,34:222,35:51,36:52,37:53,38:55,40:57,41:48,42:56,43:187,58:186,60:188,62:190,63:191,64:50,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,94:54,95:189,123:219,124:220,125:221,126:192};var v={Escape:1,Digit1:2,Digit2:3,Digit3:4,Digit4:5,Digit5:6,Digit6:7,Digit7:8,Digit8:9,Digit9:10,Digit0:11,Minus:12,Equal:13,Backspace:14,
Tab:15,KeyQ:16,KeyW:17,KeyE:18,KeyR:19,KeyT:20,KeyY:21,KeyU:22,KeyI:23,KeyO:24,KeyP:25,BracketLeft:26,BracketRight:27,Enter:28,ControlLeft:29,KeyA:30,KeyS:31,KeyD:32,KeyF:33,KeyG:34,KeyH:35,KeyJ:36,KeyK:37,KeyL:38,Semicolon:39,Quote:40,Backquote:41,ShiftLeft:42,Backslash:43,KeyZ:44,KeyX:45,KeyC:46,KeyV:47,KeyB:48,KeyN:49,KeyM:50,Comma:51,Period:52,Slash:53,IntlRo:53,ShiftRight:54,NumpadMultiply:55,AltLeft:56,Space:57,CapsLock:58,F1:59,F2:60,F3:61,F4:62,F5:63,F6:64,F7:65,F8:66,F9:67,F10:68,NumLock:69,
ScrollLock:70,Numpad7:71,Numpad8:72,Numpad9:73,NumpadSubtract:74,Numpad4:75,Numpad5:76,Numpad6:77,NumpadAdd:78,Numpad1:79,Numpad2:80,Numpad3:81,Numpad0:82,NumpadDecimal:83,IntlBackslash:86,F11:87,F12:88,NumpadEnter:57372,ControlRight:57373,NumpadDivide:57397,AltRight:57400,Home:57415,ArrowUp:57416,PageUp:57417,ArrowLeft:57419,ArrowRight:57421,End:57423,ArrowDown:57424,PageDown:57425,Insert:57426,Delete:57427,OSLeft:57435,OSRight:57436,ContextMenu:57437};this.v=a;this.sa=function(){"undefined"!==typeof window&&
(window.removeEventListener("keyup",b,!1),window.removeEventListener("keydown",c,!1),window.removeEventListener("blur",d,!1))};this.Jb=function(){"undefined"!==typeof window&&(this.sa(),window.addEventListener("keyup",b,!1),window.addEventListener("keydown",c,!1),window.addEventListener("blur",d,!1))};this.Jb();this.g=function(x){x={keyCode:x};e(x,!0);e(x,!1)};this.ql=function(x){var E=x.charCodeAt(0);E in A?this.g(A[E]):E in B?(g(42),this.g(B[E]),g(170)):console.log("ascii -> keyCode not found: ",
E,x)}};function Jc(a,b){function c(v){if(!B.enabled||!B.cg)return!1;var x=b||document.body,E;if(!(E=document.pointerLockElement))a:{for(v=v.target;v.parentNode;){if(v===x){E=!0;break a}v=v.parentNode}E=!1}return E}function d(v){c(v)&&(v=v.changedTouches)&&v.length&&(v=v[v.length-1],u=v.clientX,A=v.clientY)}function e(){if(m||r||p)B.v.send("mouse-click",[!1,!1,!1]),m=r=p=!1}function f(v){if(B.v&&c(v)&&B.td){var x=0,E=0,J=v.changedTouches;J?J.length&&(J=J[J.length-1],x=J.clientX-u,E=J.clientY-A,u=J.clientX,
A=J.clientY,v.preventDefault()):"number"===typeof v.movementX?(x=v.movementX,E=v.movementY):"number"===typeof v.webkitMovementX?(x=v.webkitMovementX,E=v.webkitMovementY):"number"===typeof v.mozMovementX?(x=v.mozMovementX,E=v.mozMovementY):(x=v.clientX-u,E=v.clientY-A,u=v.clientX,A=v.clientY);B.v.send("mouse-delta",[.15*x,-(.15*E)]);b&&B.v.send("mouse-absolute",[v.pageX-b.offsetLeft,v.pageY-b.offsetTop,b.offsetWidth,b.offsetHeight])}}function h(v){c(v)&&k(v,!0)}function g(v){c(v)&&k(v,!1)}function k(v,
x){B.v&&(1===v.which?m=x:2===v.which?r=x:3===v.which&&(p=x),B.v.send("mouse-click",[m,r,p]),v.preventDefault())}function l(v){if(c(v)){var x=v.wheelDelta||-v.detail;0>x?x=-1:0<x&&(x=1);B.v.send("mouse-wheel",[x,0]);v.preventDefault()}}var m=!1,p=!1,r=!1,u=0,A=0,B=this;this.enabled=!1;this.cg=!0;this.v=a;this.v.register("mouse-enable",function(v){this.enabled=v},this);this.td=!1;this.v.register("emulator-stopped",function(){this.td=!1},this);this.v.register("emulator-started",function(){this.td=!0},
this);this.sa=function(){"undefined"!==typeof window&&(window.removeEventListener("touchstart",d,!1),window.removeEventListener("touchend",e,!1),window.removeEventListener("touchmove",f,!1),window.removeEventListener("mousemove",f,!1),window.removeEventListener("mousedown",h,!1),window.removeEventListener("mouseup",g,!1),window.removeEventListener("wheel",l,{passive:!1}))};this.Jb=function(){"undefined"!==typeof window&&(this.sa(),window.addEventListener("touchstart",d,!1),window.addEventListener("touchend",
e,!1),window.addEventListener("touchmove",f,!1),window.addEventListener("mousemove",f,!1),window.addEventListener("mousedown",h,!1),window.addEventListener("mouseup",g,!1),window.addEventListener("wheel",l,{passive:!1}))};this.Jb()};function Kc(a,b){function c(C){C=C.toString(16);return"#"+"0".repeat(6-C.length)+C}function d(C){var y=256*L,G=8*H,I=sa?sa.canvas:null;I&&I.width===y&&I.height===G||(I?(I.width=y,I.height=G):(I=new OffscreenCanvas(y,G),sa=I.getContext("2d")),z=sa.createImageData(y,G));const Q=z.data;let O=0,S;G=Ga?function(W){S=S||W;Q[O+3]=W;Q[O+7]=W;O+=8}:function(W){S=S||W;Q[O+3]=W;O+=4};I=32-H;const ia=y*(H-1)*4;y=4*(L-y*H);const fa=1020*L;for(let W=0,Ha=0;2048>W;++W,Ha+=I,O+=y){const Ia=W%256;W&&!Ia&&(O+=ia);
S=!1;for(let Sa=0;Sa<H;++Sa,++Ha,O+=fa){const Ta=C[Ha];for(let Ca=128;0<Ca;Ca>>=1)G(Ta&Ca?255:0);ja&&G(Ua&&192<=Ia&&223>=Ia&&Ta&1?255:0)}K[W]=S?1:0}sa.putImageData(z,0,0)}function e(C,y,G,I){if(y&&G){C.style.width="";C.style.height="";I&&(C.style.transform="");var Q=C.getBoundingClientRect();I?C.style.transform=(1===y?"":" scaleX("+y+")")+(1===G?"":" scaleY("+G+")"):(0===y%1&&0===G%1?(h.style.imageRendering="crisp-edges",h.style.imageRendering="pixelated",h.style["-ms-interpolation-mode"]="nearest-neighbor"):
(h.style.imageRendering="",h.style["-ms-interpolation-mode"]=""),I=window.devicePixelRatio||1,0!==I%1&&(y/=I,G/=I));1!==y&&(C.style.width=Q.width*y+"px");1!==G&&(C.style.height=Q.height*G+"px")}}const f=a.Xf;this.$g=b;console.assert(f,"options.container must be provided");this.o=1;this.s=2;var h=f.getElementsByTagName("canvas")[0],g=h.getContext("2d",{alpha:!1}),k=f.getElementsByTagName("div")[0],l=document.createElement("div"),m,p,r=void 0!==a.scale?a.scale:1,u=void 0!==a.scale?a.scale:1,A=1,B,v,
x,E,J,Z,da,sa,z,K=new Int8Array(2048),H,L,ja,Ga,Ua,ab=0,ka=0,la,ta=0,pa,Ja,mc,Zc=[],nc=0,$c=!1;this.Jb=function(){const C=new Uint16Array([32,9786,9787,9829,9830,9827,9824,8226,9688,9675,9689,9794,9792,9834,9835,9788,9658,9668,8597,8252,182,167,9644,8616,8593,8595,8594,8592,8735,8596,9650,9660]),y=new Uint16Array([8962,199,252,233,226,228,224,229,231,234,235,232,239,238,236,196,197,201,230,198,244,246,242,251,249,255,214,220,162,163,165,8359,402,225,237,243,250,241,209,170,186,191,8976,172,189,188,
161,171,187,9617,9618,9619,9474,9508,9569,9570,9558,9557,9571,9553,9559,9565,9564,9563,9488,9492,9524,9516,9500,9472,9532,9566,9567,9562,9556,9577,9574,9568,9552,9580,9575,9576,9572,9573,9561,9560,9554,9555,9579,9578,9496,9484,9608,9604,9612,9616,9600,945,223,915,960,931,963,181,964,934,920,937,948,8734,966,949,8745,8801,177,8805,8804,8992,8993,247,8776,176,8729,183,8730,8319,178,9632,160]);for(var G=0,I;256>G;G++)I=126<G?y[G-127]:32>G?C[G]:G,Zc.push(String.fromCharCode(I));l.classList.add("cursor");
l.style.position="absolute";l.style.backgroundColor="#ccc";l.style.width="7px";l.style.display="inline-block";this.g(!1);this.i(80,25);2===v&&this.h(720,400);this.dh(r,u);this.Hc()};this.Lj=function(){const C=new Image;if(1===v||2===v)C.src=h.toDataURL("image/png");else{const y=[9,16],G=document.createElement("canvas");G.width=E*y[0];G.height=J*y[1];const I=G.getContext("2d");I.imageSmoothingEnabled=!1;I.font=window.getComputedStyle(k).font;I.textBaseline="top";for(let Q=0;Q<J;Q++)for(let O=0;O<E;O++){const S=
4*(Q*E+O),ia=x[S],fa=x[S+3];I.fillStyle=c(x[S+2]);I.fillRect(O*y[0],Q*y[1],y[0],y[1]);I.fillStyle=c(fa);I.fillText(Zc[ia],O*y[0],Q*y[1])}"none"!==l.style.display&&m<J&&p<E&&(I.fillStyle=l.style.backgroundColor,I.fillRect(p*y[0],m*y[1]+parseInt(l.style.marginTop,10),parseInt(l.style.width,10),parseInt(l.style.height,10)));C.src=G.toDataURL("image/png")}return C};this.j=function(C,y,G,I,Q,O){y=4*(C*E+y);x[y]=G;x[y+1]=I;x[y+2]=Q;x[y+3]=O;B[C]=1};this.Hc=function(){nc=requestAnimationFrame(()=>this.$())};
this.$=function(){$c||(0===v?this.ba():1===v?this.X():this.Z());this.Hc()};this.ba=function(){for(var C=0;C<J;C++)B[C]&&(this.V(C),B[C]=0)};this.X=function(){this.$g()};this.Z=function(){if(Z){var C=performance.now();if(266<C-ta){la=!la;mc&&(B[m]=1);var y=4*E;for(let ia=0,fa=0;ia<J;++ia)if(B[ia])fa+=y;else for(var G=0;G<E;++G,fa+=4)if(x[fa+1]&1){B[ia]=1;fa+=y-4*G;break}ta=C}C=sa.canvas;y=da.canvas;G=4*E;const Q=E*L,O=H;let S=0;for(let ia=0,fa=0,W=0;ia<J;++ia,fa+=H){if(!B[ia]){W+=G;continue}++S;da.clearRect(0,
O,Q,H);let Ha,Ia,Sa,Ta;for(let Ca=0;Ca<Q;Ca+=L,W+=4){const Be=x[W];var I=x[W+1];const Ce=x[W+2],De=x[W+3],Ee=I&2?ka:ab;I=(!(I&1)||la)&&K[(Ee<<8)+Be];Sa!==Ce&&(void 0!==Sa&&(Z.fillStyle=c(Sa),Z.fillRect(Ta,fa,Ca-Ta,H)),Sa=Ce,Ta=Ca);Ha!==De&&(void 0!==Ha&&(da.fillStyle=c(Ha),da.fillRect(Ia,0,Ca-Ia,H)),Ha=De,Ia=Ca);I&&da.drawImage(C,Be*L,Ee*H,L,H,Ca,O,L,H)}da.fillStyle=c(Ha);da.fillRect(Ia,0,Q-Ia,H);da.globalCompositeOperation="destination-in";da.drawImage(y,0,O,Q,H,0,0,Q,H);da.globalCompositeOperation=
"source-over";Z.fillStyle=c(Sa);Z.fillRect(Ta,fa,Q-Ta,H);Z.drawImage(y,0,0,Q,H,0,fa,Q,H)}S&&(la&&mc&&B[m]&&(Z.fillStyle=c(x[4*(m*E+p)+3]),Z.fillRect(p*L,m*H+pa,L,Ja-pa+1)),B.fill(0));S&&g.drawImage(Z.canvas,0,0)}};this.sa=function(){nc&&(cancelAnimationFrame(nc),nc=0)};this.pause=function(){$c=!0;l.classList.remove("blinking-cursor")};this.continue=function(){$c=!1;l.classList.add("blinking-cursor")};this.g=function(C){v=C?1:a.vl?2:0;0===v?(k.style.display="block",h.style.display="none"):(k.style.display=
"none",h.style.display="block",2===v&&B&&B.fill(1))};this.C=function(C,y,G,I,Q,O){const S=G?16:y?9:8;if(H!==C||L!==S||ja!==y||Ga!==G||Ua!==I||O)O=L!==S||H!==C,H=C,L=S,ja=y,Ga=G,Ua=I,2===v&&(d(Q),B.fill(1),O&&this.R())};this.D=function(C,y){if(ab!==C||ka!==y)ab=C,ka=y,B.fill(1)};this.N=function(){g.fillStyle="#000";g.fillRect(0,0,h.width,h.height)};this.R=function(){if(sa){var C=L*E,y=H*J,G=2*H;Z&&Z.canvas.width===C&&Z.canvas.height===y&&da.canvas.height===G||(Z?(Z.canvas.width=C,Z.canvas.height=y,
da.canvas.width=C,da.canvas.height=G):(Z=(new OffscreenCanvas(C,y)).getContext("2d",{alpha:!1}),da=(new OffscreenCanvas(C,G)).getContext("2d")),this.h(C,y),B.fill(1))}};this.i=function(C,y){if(C!==E||y!==J)if(B=new Int8Array(y),x=new Int32Array(C*y*4),E=C,J=y,0===v){for(;k.childNodes.length>y;)k.removeChild(k.firstChild);for(;k.childNodes.length<y;)k.appendChild(document.createElement("div"));for(C=0;C<y;C++)this.V(C);e(k,r,u,!0)}else 2===v&&this.R()};this.h=function(C,y){h.style.display="block";
h.width=C;h.height=y;g.imageSmoothingEnabled=!1;A=640>=C&&2*C<window.innerWidth*window.devicePixelRatio&&2*y<window.innerHeight*window.devicePixelRatio?2:1;e(h,r*A,u*A,!1)};this.dh=function(C,y){r=C;u=y;e(k,r,u,!0);e(h,r*A,u*A,!1)};this.L=function(C,y,G){if(C!==pa||y!==Ja||G!==mc)0===v?G?(l.style.display="inline",l.style.height=y-C+"px",l.style.marginTop=C+"px"):l.style.display="none":2===v&&m<J&&(B[m]=1),pa=C,Ja=y,mc=G};this.G=function(C,y){if(C!==m||y!==p)C<J&&(B[C]=1),m<J&&(B[m]=1),m=C,p=y};this.V=
function(C){var y=4*C*E,G;var I=k.childNodes[C];var Q=document.createElement("div");for(var O=0;O<E;){var S=document.createElement("span");var ia=x[y+1]&1;var fa=x[y+2];var W=x[y+3];ia&&S.classList.add("blink");S.style.backgroundColor=c(fa);S.style.color=c(W);for(G="";O<E&&(x[y+1]&1)===ia&&x[y+2]===fa&&x[y+3]===W;)if(G+=Zc[x[y]],O++,y+=4,C===m)if(O===p)break;else if(O===p+1){l.style.backgroundColor=S.style.color;Q.appendChild(l);break}S.textContent=G;Q.appendChild(S)}I.parentNode.replaceChild(Q,I)};
this.l=function(C){for(const y of C)g.putImageData(y.yc,y.ah-y.Vf,y.bh-y.Wf,y.Vf,y.Wf,y.Eg,y.Dg)};this.Jb()};function Lc(){var a,b=0,c=0;this.j=function(d,e,f){a[d*b+e]=f};this.sa=function(){};this.pause=function(){};this.continue=function(){};this.g=function(){};this.C=function(){};this.D=function(){};this.N=function(){};this.i=function(d,e){if(d!==b||e!==c)a=new Uint8Array(d*e),b=d,c=e};this.h=function(){};this.dh=function(){};this.L=function(){};this.G=function(){};this.l=function(){};this.i(80,25)};function Mc(a,b){function c(g){h.v&&h.enabled&&(h.h(g.which),g.preventDefault())}function d(g){var k=g.which;8===k?(h.h(127),g.preventDefault()):9===k&&(h.h(9),g.preventDefault())}function e(g){if(h.enabled){for(var k=g.clipboardData.getData("text/plain"),l=0;l<k.length;l++)h.h(k.charCodeAt(l));g.preventDefault()}}function f(g){g.target!==a&&a.blur()}var h=this;this.enabled=!0;this.v=b;this.text="";this.j=!1;this.i=0;this.v.register("serial0-output-byte",function(g){this.pl(String.fromCharCode(g))},
this);this.sa=function(){a.removeEventListener("keypress",c,!1);a.removeEventListener("keydown",d,!1);a.removeEventListener("paste",e,!1);window.removeEventListener("mousedown",f,!1)};this.Jb=function(){this.sa();a.style.display="block";a.addEventListener("keypress",c,!1);a.addEventListener("keydown",d,!1);a.addEventListener("paste",e,!1);window.addEventListener("mousedown",f,!1)};this.Jb();this.pl=function(g){"\b"===g?(this.text=this.text.slice(0,-1),this.update()):"\r"!==g&&(this.text+=g,"\n"===
g&&(this.j=!0),this.update())};this.update=function(){var g=Date.now(),k=g-this.i;16>k?void 0===this.g&&(this.g=setTimeout(()=>{this.g=void 0;this.i=Date.now();this.l()},16-k)):(void 0!==this.g&&(clearTimeout(this.g),this.g=void 0),this.i=g,this.l())};this.l=function(){a.value=this.text;this.j&&(this.j=!1,a.scrollTop=1E9)};this.h=function(g){h.v&&h.v.send("serial0-input",g)}}
function Nc(a,b){this.element=a;if(window.Terminal){var c=this.g=new window.Terminal({logLevel:"off"});c.write("This is the serial console. Whatever you type or paste here will be sent to COM1");var d=c.onData(function(e){for(let f=0;f<e.length;f++)b.send("serial0-input",e.charCodeAt(f))});b.register("serial0-output-byte",function(e){c.write(Uint8Array.of(e))},this);this.sa=function(){d.dispose();c.dispose()}}}Nc.prototype.show=function(){this.g&&this.g.open(this.element)};function Oc(a,b){b=b.id||0;this.v=a;this.h=`net${b}-send`;this.o=`net${b}-receive`;this.g=new BroadcastChannel(`v86-inbrowser-${b}`);this.j=!0;this.l=c=>{this.g.postMessage(c)};this.v.register(this.h,this.l,this);this.i=c=>{this.v.send(this.o,c.data)};this.g.addEventListener("message",this.i)}Oc.prototype.sa=function(){this.j&&(this.v.unregister(this.h,this.l),this.g.removeEventListener("message",this.i),this.g.close(),this.j=!1)};function Pc(){this.h=new Map}Pc.prototype.read=async function(a,b,c){return(a=this.h.get(a))?a.subarray(b,b+c):null};Pc.prototype.cache=async function(a,b){this.h.set(a,b)};Pc.prototype.g=function(a){this.h.delete(a)};function Qc(a,b){b.endsWith("/")||(b+="/");this.h=a;this.Uf=b}function Rc(a,b){return new Promise(c=>{Aa(a.Uf+b,{done:async d=>{d=new Uint8Array(d);await a.cache(b,d);c(d)}})})}
Qc.prototype.read=async function(a,b,c){const d=await this.h.read(a,b,c);return d?d:(await Rc(this,a)).subarray(b,b+c)};Qc.prototype.cache=async function(a,b){return await this.h.cache(a,b)};Qc.prototype.g=function(a){this.h.g(a)};const Sc=new TextDecoder,Tc=new TextEncoder;
function M(a,b,c,d){for(var e,f=0,h=0;h<a.length;h++)switch(e=b[h],a[h]){case "w":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;f+=4;break;case "d":c[d++]=e&255;c[d++]=e>>8&255;c[d++]=e>>16&255;c[d++]=e>>24&255;c[d++]=0;c[d++]=0;c[d++]=0;c[d++]=0;f+=8;break;case "h":c[d++]=e&255;c[d++]=e>>8;f+=2;break;case "b":c[d++]=e;f+=1;break;case "s":var g=d,k=0;c[d++]=0;c[d++]=0;f+=2;e=Tc.encode(e);f+=e.byteLength;k+=e.byteLength;c.set(e,d);d+=e.byteLength;c[g+0]=k&255;c[g+1]=k>>8&255;break;
case "Q":M(["b","w","d"],[e.type,e.version,e.path],c,d),d+=13,f+=13}return f}
function N(a,b,c){let d=c.offset;for(var e=[],f=0;f<a.length;f++)switch(a[f]){case "w":var h=b[d++];h+=b[d++]<<8;h+=b[d++]<<16;h+=b[d++]<<24>>>0;e.push(h);break;case "d":h=b[d++];h+=b[d++]<<8;h+=b[d++]<<16;h+=b[d++]<<24>>>0;d+=4;e.push(h);break;case "h":h=b[d++];e.push(h+(b[d++]<<8));break;case "b":e.push(b[d++]);break;case "s":h=b[d++];h+=b[d++]<<8;var g=b.slice(d,d+h);d+=h;e.push(Sc.decode(g));break;case "Q":c.offset=d,h=N(["b","w","d"],b,c),d=c.offset,e.push({type:h[0],version:h[1],path:h[2]})}c.offset=
d;return e};const Uc=new TextEncoder;function Vc(a){this.g=[];this.C=[];this.j=a;this.s={Lg:0};this.h={};this.l=274877906944;this.o=0;this.i=[];Wc(this,"",-1)}Vc.prototype.ia=function(){let a=[];a[0]=this.g;a[1]=this.s.Lg;a[2]=[];for(const [b,c]of Object.entries(this.h))0===(this.g[b].mode&16384)&&a[2].push([b,c]);a[3]=this.l;a[4]=this.o;return a=a.concat(this.i)};
Vc.prototype.I=function(a){this.g=a[0].map(b=>{const c=new Xc(0);c.I(b);return c});this.s.Lg=a[1];this.h={};for(let [b,c]of a[2])c.buffer.byteLength!==c.byteLength&&(c=c.slice()),this.h[b]=c;this.l=a[3];this.o=a[4];this.i=a.slice(5)};function Yc(a,b,c){var d=a.g[b];0===d.status||2===d.status?c():5===d.status?Yc(P(a,d),d.g,c):a.C.push({id:b,Al:c})}
function ad(a,b,c){var d=bd(a);const e=b[0];d.size=b[1];d.$c=b[2];d.Se=d.$c;d.ce=d.$c;d.mode=b[3];d.uid=b[4];d.bb=b[5];var f=d.mode&61440;if(16384===f)for(cd(a,d,c,e),c=a.g.length-1,b=b[6],d=0;d<b.length;d++)ad(a,b[d],c);else 32768===f?(d.status=2,d.Fe=b[6],cd(a,d,c,e)):40960===f&&(d.Mf=b[6],cd(a,d,c,e))}function dd(a,b,c,d){const e=a.g[c],f=a.g[b];ed(a,b);f.ta.has(d);f.ta.set(d,c);e.rb++;ed(a,c)&&(e.ta.has(".."),e.ta.has(".")||e.rb++,e.ta.set(".",c),e.ta.set("..",b),f.rb++)}
function fd(a,b,c){const d=gd(a,b,c),e=a.g[d],f=a.g[b];ed(a,b);f.ta.delete(c)&&(e.rb--,ed(a,d)&&(e.ta.get(".."),e.ta.delete(".."),f.rb--))}function cd(a,b,c,d){-1!==c?(a.g.push(b),b.Oc=a.g.length-1,dd(a,c,b.Oc,d)):0===a.g.length&&(a.g.push(b),b.ta.set(".",0),b.ta.set("..",0),b.rb=2)}
function Xc(a){this.ta=new Map;this.ig=this.hg=this.$c=this.ce=this.Se=this.Oc=this.bb=this.uid=this.size=this.status=0;this.Mf="";this.mode=493;this.Ta={type:0,version:0,path:a};this.rb=0;this.Fe="";this.h=[];this.g=this.i=-1}
Xc.prototype.ia=function(){const a=[];a[0]=this.mode;a[1]=16384===(this.mode&61440)?[...this.ta]:32768===(this.mode&61440)?this.Fe:40960===(this.mode&61440)?this.Mf:49152===(this.mode&61440)?[this.ig,this.hg]:null;a[2]=this.h;a[3]=this.status;a[4]=this.size;a[5]=this.uid;a[6]=this.bb;a[7]=this.Oc;a[8]=this.Se;a[9]=this.ce;a[10]=this.$c;a[11]=this.Ta.version;a[12]=this.Ta.path;a[13]=this.rb;return a};
Xc.prototype.I=function(a){this.mode=a[0];if(16384===(this.mode&61440)){this.ta=new Map;for(const [b,c]of a[1])this.ta.set(b,c)}else 32768===(this.mode&61440)?this.Fe=a[1]:40960===(this.mode&61440)?this.Mf=a[1]:49152===(this.mode&61440)&&([this.ig,this.hg]=a[1]);this.h=[];for(const b of a[2]){const c=new hd;c.I(b);this.h.push(c)}this.status=a[3];this.size=a[4];this.uid=a[5];this.bb=a[6];this.Oc=a[7];this.Se=a[8];this.ce=a[9];this.$c=a[10];this.Ta.type=(this.mode&61440)>>8;this.Ta.version=a[11];this.Ta.path=
a[12];this.rb=a[13]};function id(a,b){Object.assign(b,a,{Oc:b.Oc,ta:b.ta,rb:b.rb})}function bd(a){const b=Math.round(Date.now()/1E3);a=new Xc(++a.s.Lg);a.ce=a.Se=a.$c=b;return a}function Wc(a,b,c){var d=a.g[c];if(0<=c&&5===d.status)return c=d.g,b=Wc(P(a,d),b,c),jd(a,d.i,b);d=bd(a);d.mode=16895;0<=c&&(d.uid=a.g[c].uid,d.bb=a.g[c].bb,d.mode=a.g[c].mode&511|16384);d.Ta.type=64;cd(a,d,c,b);return a.g.length-1}
function kd(a,b,c){var d=a.g[c];if(5===d.status)return c=d.g,b=kd(P(a,d),b,c),jd(a,d.i,b);d=bd(a);d.uid=a.g[c].uid;d.bb=a.g[c].bb;d.Ta.type=128;d.mode=a.g[c].mode&438|32768;cd(a,d,c,b);return a.g.length-1}function ld(a,b,c,d,e){var f=a.g[c];if(5===f.status)return c=f.g,b=ld(P(a,f),b,c,d,e),jd(a,f.i,b);f=bd(a);f.hg=d;f.ig=e;f.uid=a.g[c].uid;f.bb=a.g[c].bb;f.Ta.type=192;f.mode=a.g[c].mode&438;cd(a,f,c,b);return a.g.length-1}
function md(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,b=md(P(a,e),b,c,d),jd(a,e.i,b);e=bd(a);e.uid=a.g[c].uid;e.bb=a.g[c].bb;e.Ta.type=160;e.Mf=d;e.mode=40960;cd(a,e,c,b);return a.g.length-1}async function nd(a,b,c,d){var e=a.g[c];if(5===e.status)return c=e.g,d=await nd(P(a,e),b,c,d),jd(a,e.i,d);e=kd(a,b,c);b=a.g[e];c=new Uint8Array(d.length);c.set(d);await od(a,e,c);b.size=d.length;return e}
function pd(a,b,c){var d=a.g[b];if(5===d.status)return pd(P(a,d),d.g,c);16384===(d.mode&61440)&&qd(a,b);return!0}async function rd(a,b){var c=a.g[b];if(5===c.status)return await rd(P(a,c),c.g);2===c.status&&a.j.g(c.Fe);4===c.status&&(c.status=-1,await sd(a,b))}
async function td(a,b,c,d,e){if(b===d&&c===e)return 0;var f=gd(a,b,c);if(-1===f)return-2;var h=b;ed(a,h);for(var g="";0!==h;)g="/"+ud(a,h)+g,h=vd(a,h);if(-1!==gd(a,d,e)&&(h=wd(a,d,e),0>h))return h;g=a.g[f];var k=a.g[b];h=a.g[d];if(5===k.status||5===h.status)if(5===k.status&&k.i===h.i){if(a=await td(P(a,k),k.g,c,h.g,e),0>a)return a}else{if(0===R(a,f).Oc||!ed(a,f)&&1<R(a,f).rb)return-1;k=gd(a,b,c);var l=a.g[k],m=new Xc(-1);ed(a,k);Object.assign(m,l);const p=a.g.length;a.g.push(m);m.Oc=p;5===l.status&&
a.i[l.i].g.set(l.g,p);if(5!==l.status||0===l.g)fd(a,b,c),dd(a,b,p,c);if(ed(a,k)&&5!==l.status)for(const [r,u]of m.ta)"."!==r&&".."!==r&&ed(a,u)&&a.g[u].ta.set("..",p);a.h[p]=a.h[k];delete a.h[k];l.ta=new Map;l.rb=0;k=p;l=R(a,f);m=await xd(a,k,0,l.size);5===h.status?(d=P(a,h),e=ed(a,k)?Wc(d,e,h.g):kd(d,e,h.g),d=R(d,e),id(l,d),yd(a,f,h.i,e)):(g.status=-1,a.i[g.i].g.delete(g.g),id(l,g),dd(a,d,f,e));await zd(a,f,l.size);m&&m.length&&await Ad(a,f,0,m.length,m);if(ed(a,f))for(const r of Bd(a,k))if(e=await td(a,
k,r,f,r),0>e)return e;await sd(a,k);a=wd(a,b,c);if(0>a)return a}else fd(a,b,c),dd(a,d,f,e),g.Ta.version++;return 0}async function Ad(a,b,c,d,e){var f=a.g[b];if(5===f.status)b=f.g,await Ad(P(a,f),b,c,d,e);else{var h=await a.ac(b);!h||h.length<c+d?(await zd(a,b,Math.floor(3*(c+d)/2)),f.size=c+d,h=await a.ac(b)):f.size<c+d&&(f.size=c+d);e&&h.set(e.subarray(0,d),c);await od(a,b,h)}}async function xd(a,b,c,d){const e=a.g[b];return 5===e.status?(b=e.g,await xd(P(a,e),b,c,d)):await Cd(a,b,c,d)}
function gd(a,b,c){b=a.g[b];if(5===b.status){const d=b.g;c=gd(P(a,b),d,c);return-1===c?-1:Dd(a,b.i,c)}a=b.ta.get(c);return void 0===a?-1:a}function Ed(a){let b=a.g.length;for(const {h:c,g:d}of a.i)b+=Ed(c),b-=d.size;return b}function Fd(a){let b=1048576;for(const {h:c}of a.i)b+=Fd(c);return b}function Gd(a){let b=a.o;for(const {h:c}of a.i)b+=Gd(c);return b}function Hd(a){let b=a.l;for(const {h:c}of a.i)b+=Hd(c);return a.l}
function ud(a,b){const c=a.g[vd(a,b)];if(5===c.status)return ud(P(a,c),a.g[b].g);if(!c)return"";for(const [d,e]of c.ta)if(e===b)return d;return""}function Id(a,b,c,d){if(ed(a,c))return-1;const e=a.g[b],f=a.g[c];if(5===e.status)return 5!==f.status||f.i!==e.i?-1:Id(P(a,e),e.g,f.g,d);if(5===f.status)return-1;dd(a,b,c,d);return 0}
function wd(a,b,c){if("."===c||".."===c)return-1;var d=gd(a,b,c);const e=a.g[d];var f=a.g[b];if(5===f.status)return b=f.g,wd(P(a,f),b,c);if(f=ed(a,d)){a:if(d=a.g[d],5===d.status)var h=ed(P(a,d),d.g);else{for(h of d.ta.keys())if("."!==h&&".."!==h){h=!1;break a}h=!0}f=!h}if(f)return-39;fd(a,b,c);0===e.rb&&(e.status=4);return 0}async function sd(a,b){const c=a.g[b];5===c.status?await sd(P(a,c),c.g):(c.size=0,delete a.h[b])}
Vc.prototype.ac=async function(a){const b=this.g[a];return this.h[a]?this.h[a]:2===b.status?await this.j.read(b.Fe,0,b.size):null};async function Cd(a,b,c,d){const e=a.g[b];return a.h[b]?a.h[b].subarray(c,c+d):2===e.status?await a.j.read(e.Fe,c,d):null}async function od(a,b,c){a.h[b]=c;2===a.g[b].status&&(a.g[b].status=0,a.j.g(a.g[b].Fe))}function R(a,b){b=a.g[b];return 5===b.status?R(P(a,b),b.g):b}
async function zd(a,b,c){var d=R(a,b),e=await Cd(a,b,0,d.size);if(c!==d.size){var f=new Uint8Array(c);d.size=c;e&&f.set(e.subarray(0,Math.min(e.length,d.size)),0);await od(a,b,f)}}
function Jd(a,b){b=b.replace("//","/");b=b.split("/");0<b.length&&0===b[b.length-1].length&&b.pop();0<b.length&&0===b[0].length&&b.shift();const c=b.length;var d=-1,e=0;let f=null;for(var h=0;h<c;h++)if(d=e,e=gd(a,d,b[h]),!f&&5===a.g[d].status&&(f="/"+b.slice(h).join("/")),-1===e)return h<c-1?{id:-1,Sg:-1,name:b[h],Gh:f}:{id:-1,Sg:d,name:b[h],Gh:f};return{id:e,Sg:d,name:b[h],Gh:f}}
function qd(a,b){var c=a.g[b];if(5===c.status)qd(P(a,c),c.g);else{var d=0;for(const e of c.ta.keys())d+=24+Uc.encode(e).length;b=a.h[b]=new Uint8Array(d);c.size=d;d=0;for(const [e,f]of c.ta)c=R(a,f),d+=M(["Q","d","b","s"],[c.Ta,d+13+8+1+2+Uc.encode(e).length,c.mode>>12,e],b,d)}}function Kd(a,b,c){a=a.h[b];if(c>=a.length)return a.length;for(b=0;;){const d=N(["Q","d"],a,{offset:b})[1];if(d>c)break;b=d}return b}function ed(a,b){b=a.g[b];return 5===b.status?ed(P(a,b),b.g):16384===(b.mode&61440)}
function Bd(a,b){ed(a,b);b=a.g[b];if(5===b.status)return Bd(P(a,b),b.g);a=[];for(const c of b.ta.keys())"."!==c&&".."!==c&&a.push(c);return a}function vd(a,b){ed(a,b);b=a.g[b];if(5!==b.status||0===b.g)return b.ta.get("..");const c=vd(P(a,b),b.g);return Dd(a,b.i,c)}function yd(a,b,c,d){const e=a.g[b];5===e.status&&a.i[e.i].g.delete(e.g);e.status=5;e.i=c;e.g=d;a.i[c].g.set(d,b)}function jd(a,b,c){const d=bd(a),e=a.g.length;a.g.push(d);d.Oc=e;yd(a,e,b,c);return e}
function Dd(a,b,c){const d=a.i[b].g.get(c);return void 0===d?jd(a,b,c):d}function P(a,b){return a.i[b.i].h}function hd(){this.type=2;this.start=0;this.length=Infinity;this.h=-1;this.g=""}hd.prototype.ia=function(){const a=[];a[0]=this.type;a[1]=this.start;a[2]=Infinity===this.length?0:this.length;a[3]=this.h;a[4]=this.g;return a};hd.prototype.I=function(a){this.type=a[0];this.start=a[1];this.length=0===a[2]?Infinity:a[2];this.h=a[3];this.g=a[4]};
function Ld(a){const b=new hd;b.I(a.ia());return b}function Md(a,b){return b.h===a.h&&b.g===a.g&&b.type===a.type}function Nd(a,b){return Md(a,b)&&b.start+b.length===a.start}function Od(a,b,c,d,e){const f=new hd;f.type=a;f.start=b;f.length=c;f.h=d;f.g=e;return f}
function Pd(a,b,c){b=a.g[b];if(5===b.status){var d=b.g;return Pd(P(a,b),d,c)}for(d of b.h)if(!(c.h===d.h&&c.g===d.g||2===c.type||2===d.type||1!==c.type&&1!==d.type||c.start+c.length<=d.start||d.start+d.length<=c.start))return Ld(d);return null}
function Qd(a,b,c,d){const e=a.g[b];if(5===e.status)return b=e.g,Qd(P(a,e),b,c,d);c=Ld(c);if(2!==c.type&&Pd(a,b,c))return 1;for(a=0;a<e.h.length;a++){d=e.h[a];if(d.start+d.length<=c.start)continue;if(c.start+c.length<=d.start)break;if(d.h!==c.h||d.g!==c.g)continue;b=c.start+c.length;const f=c.start-d.start,h=d.start+d.length-b;if(0<f&&0<h&&d.type===c.type)return 0;0<f&&(d.length=f);if(0>=f&&0<h)d.start=b,d.length=h;else if(0<h){for(;a<e.h.length&&e.h[a].start<b;)a++;e.h.splice(a,0,Od(d.type,b,h,d.h,
d.g))}else 0>=f&&(e.h.splice(a,1),a--)}if(2!==c.type){a=c;d=!1;for(b=0;b<e.h.length&&!(Nd(a,e.h[b])&&(e.h[b].length+=c.length,a=e.h[b],d=!0),c.start<=e.h[b].start);b++);d||(e.h.splice(b,0,a),b++);for(;b<e.h.length;b++)if(Md(e.h[b],a)){Nd(e.h[b],a)&&(a.length+=e.h[b].length,e.h.splice(b,1));break}}return 0}function Rd(a,b){b=Jd(a,b);if(-1!==b.id)return a=R(a,b.id),Array.from(a.ta.keys()).filter(c=>"."!==c&&".."!==c)}
Vc.prototype.If=function(a){a=Jd(this,a);if(-1===a.id)return Promise.resolve(null);const b=R(this,a.id);return xd(this,a.id,0,b.size)};function Sd(a){this.Yf=!1;this.C=function(){};var b=db();this.v=b[0];this.ke=b[1];var c,d;const e=new WebAssembly.Table({element:"anyfunc",initial:1924});b={cpu_exception_hook:()=>this.C(),run_hardware_timers:function(h,g){var k=c;const l=k.A.og.Hc(g,!1),m=k.A.Ed.Hc(g,!1);let p=100,r=100;h&&(p=k.A.va.Hc(g),r=k.A.Pe.Hc(g));return Math.min(l,m,p,r)},cpu_event_halt:()=>{this.ke.send("cpu-event-halt")},abort:function(){},microtick:Pb,get_rand_int:function(){return ha()},apic_acknowledge_irq:function(){var h=
c.A.Pe;var g=Td(h.i);-1===g||Td(h.cb)>=g||(g&240)<=(h.s&240)?h=-1:(Ud(h.i,g),Vd(h.cb,g),Wd(h),h=g);return h},stop_idling:function(){return c.Ri()},io_port_read8:function(h){var g=c.B.ports[h];return g.Be.call(g.Aa,h)},io_port_read16:function(h){var g=c.B.ports[h];return g.hb.call(g.Aa,h)},io_port_read32:function(h){return bb(c.B,h)},io_port_write8:function(h,g){h=c.B.ports[h];h.Ag.call(h.Aa,g)},io_port_write16:function(h,g){h=c.B.ports[h];h.Rf.call(h.Aa,g)},io_port_write32:function(h,g){h=c.B.ports[h];
h.Ba.call(h.Aa,g)},mmap_read8:function(h){return c.g[h>>>17](h)},mmap_read16:function(h){var g=c.g[h>>>17];return g(h)|g(h+1|0)<<8},mmap_read32:function(h){return c.ga[h>>>17](h)},mmap_write8:function(h,g){c.j[h>>>17](h,g)},mmap_write16:function(h,g){var k=c.j[h>>>17];k(h,g&255);k(h+1|0,g>>8)},mmap_write32:function(h,g){c.i[h>>>17](h,g)},mmap_write64:function(h,g,k){var l=c.i[h>>>17];l(h,g);l(h+4,k)},mmap_write128:function(h,g,k,l,m){var p=c.i[h>>>17];p(h,g);p(h+4,k);p(h+8,l);p(h+12,m)},log_from_wasm:function(h,
g){[...(new Uint8Array(d.buffer,h>>>0,g>>>0))]},console_log_from_wasm:function(h,g){h=String.fromCharCode(...(new Uint8Array(d.buffer,h>>>0,g>>>0)));console.error(h)},dbg_trace_from_wasm:function(){},codegen_finalize:(h,g,k,l,m)=>{Xd(c,h,g,k,l,m)},jit_clear_func:h=>{c.Na.mh.set(h+1024,null)},jit_clear_all_funcs:()=>{const h=c.Na.mh;for(let g=0;900>g;g++)h.set(1024+g,null)},__indirect_function_table:e};let f=a.km;f||(f=h=>new Promise(g=>{let k="v86.wasm",l="v86-fallback.wasm";a.Fi?(k=a.Fi,l=k.replace("v86.wasm",
"v86-fallback.wasm")):"undefined"===typeof window&&"string"===typeof __dirname?(k=__dirname+"/"+k,l=__dirname+"/"+l):(k="build/"+k,l="build/"+l);Aa(k,{done:async m=>{try{const {instance:p}=await WebAssembly.instantiate(m,h);this.s=m;g(p.exports)}catch(p){Aa(l,{done:async r=>{const {instance:u}=await WebAssembly.instantiate(r,h);this.s=r;g(u.exports)}})}},progress:m=>{this.ke.send("download-progress",{wf:0,vf:1,xf:k,lengthComputable:m.lengthComputable,total:m.total,loaded:m.loaded})}})}));f({env:b}).then(h=>
{d=h.memory;h.rust_init();h=this.Ra=new Yd(this.ke,{exports:h,mh:e});c=h.u;Zd(this,h,a)});this.h=null;this.D=0}
async function Zd(a,b,c){function d(r,u){switch(r){case "hda":f.J=this.qb.J=u;break;case "hdb":f.Qc=this.qb.Qc=u;break;case "cdrom":f.S=this.qb.S=u;break;case "fda":f.T=this.qb.T=u;break;case "fdb":f.Ve=this.qb.Ve=u;break;case "multiboot":f.Ob=this.qb.Ob=u.buffer;break;case "bzimage":f.vb=this.qb.vb=u.buffer;break;case "initrd":f.Kb=this.qb.Kb=u.buffer;break;case "bios":f.pb=u.buffer;break;case "vga_bios":f.Kd=u.buffer;break;case "initial_state":f.zc=u.buffer;break;case "fs9p_json":f.Hh=u}}async function e(){if(f.vc&&
f.Hh&&!f.zc){var r=f.vc,u=f.Hh;if(3!==u.version)throw"The filesystem JSON format has changed. Please update your fs2json (https://github.com/copy/fs2json) and recreate the filesystem JSON.";var A=u.fsroot;r.o=u.size;for(u=0;u<A.length;u++)ad(r,A[u],0);if(c.lf){const {$i:B,Ij:v}=$d(f.vc),[x,E]=await Promise.all([f.vc.If(v),f.vc.If(B)]);d.call(this,"initrd",new Da(x.buffer));d.call(this,"bzimage",new Da(E.buffer))}}this.ec&&this.ec.show&&this.ec.show();this.Ra.Jb(f);f.zc&&(b.qg(f.zc),f.zc=void 0);c.Wi&&
this.Ra.Jf();this.ke.send("emulator-loaded")}a.v.register("emulator-stopped",function(){this.Yf=!1;this.dc.pause()},a);a.v.register("emulator-started",function(){this.Yf=!0;this.dc.continue()},a);var f={};a.qb={T:void 0,Ve:void 0,J:void 0,Qc:void 0,S:void 0};var h=c.Eb?c.Eb:c.T?801:c.J?786:291;f.va=c.va;f.qf=c.qf;f.Kj=!0;f.F=c.F||67108864;f.ma=c.ma||8388608;f.Eb=h;f.Dh=c.Dh||!1;f.T=void 0;f.Ve=void 0;f.cf=c.cf;f.df=c.df;f.ef=c.ef;f.Fb=c.Fb;f.ze=c.ze;f.Nb=c.Nb;f.od=c.od;f.ff=c.ff;f.Ld=c.Ld;f.Ie=c.Ie;
f.wi=c.wi;if(h=c.cm||c.bd&&c.bd.Ec)"fetch"===h?a.i=new yc(a.v,c.bd):"inbrowser"===h?a.i=new Oc(a.v,c.bd):h.startsWith("wisp://")||h.startsWith("wisps://")?a.i=new Dc(h,a.v,c.bd):a.i=new bc(h,a.v);f.bd=c.bd||{type:"ne2k"};h=c.screen||{};c.ll&&(h.Xf=c.ll);c.Jl||(a.o=new Ic(a.v));c.Kl||(a.j=new Jc(a.v,h.Xf));h.Xf?a.dc=new Kc(h,()=>a.Ra.u.A.Jd&&a.Ra.u.A.Jd.$g()):a.dc=new Lc;f.screen=a.dc;f.wi=h;c.ml&&(a.ec=new Mc(c.ml,a.v));c.nl&&(a.ec=new Nc(c.nl,a.v));c.nj||(a.g=new Vb(a.v));var g=[];h=(r,u)=>{if(u)if(u.get&&
u.set&&u.load)g.push({name:r,Bf:u});else{if("bios"===r||"vga_bios"===r||"initial_state"===r||"multiboot"===r||"bzimage"===r||"initrd"===r)u.async=!1;if("fda"===r||"fdb"===r)u.async=!1;u.url&&!u.async?g.push({name:r,url:u.url,size:u.size}):g.push({name:r,Bf:Na(u,a.Ii.bind(a))})}};c.state&&console.warn("Warning: Unknown option 'state'. Did you mean 'initial_state'?");h("bios",c.pb);h("vga_bios",c.Kd);h("cdrom",c.S);h("hda",c.J);h("hdb",c.Qc);h("fda",c.T);h("fdb",c.Ve);h("initial_state",c.zc);h("multiboot",
c.Ob);h("bzimage",c.vb);h("initrd",c.Kb);if(c.filesystem){h=c.filesystem.Xi;var k=c.filesystem.Uf;let r=new Pc;k&&(r=new Qc(r,k));f.vc=a.vc=new Vc(r);if(h){if("object"===typeof h){var l=h.size;h=h.url}g.push({name:"fs9p_json",url:h,size:l,Qe:!0})}}var m=g.length,p=function(r){if(r===m)setTimeout(e.bind(this),0);else{var u=g[r];u.Bf?(u.Bf.onload=function(){d.call(this,u.name,u.Bf);p(r+1)}.bind(this),u.Bf.load()):Aa(u.url,{done:function(A){if(u.url.endsWith(".zst")&&"initial_state"!==u.name){var B=
u.size,v=new Uint8Array(A);A=this.Ra.u;this.l=A.Hi(v.length);(new Uint8Array(A.Ma.buffer)).set(v,A.Ki(this.l));v=A.gf(this.l,B);const x=A.Ma.buffer.slice(v,v+B);A.hf(v,B);A.Ji(this.l);this.l=null;A=x}d.call(this,u.name,u.Qe?A:new Da(A));p(r+1)}.bind(this),progress:function(A){200===A.target.status?a.ke.send("download-progress",{wf:r,vf:m,xf:u.url,lengthComputable:A.lengthComputable,total:A.total||u.size,loaded:A.loaded}):a.ke.send("download-error",{wf:r,vf:m,xf:u.url,request:A.target})},Qe:u.Qe})}}.bind(a);
p(0)}n=Sd.prototype;
n.Ii=async function(a,b){if(!this.h){const c=URL.createObjectURL(new Blob(["("+function(){let d;globalThis.onmessage=function(e){if(d){var f=e.data.src,h=e.data.mj;e=e.data.id;var g=d.exports,k=g.zstd_create_ctx(f.length);(new Uint8Array(g.memory.buffer)).set(f,g.zstd_get_src_ptr(k));f=g.zstd_read(k,h);var l=g.memory.buffer.slice(f,f+h);g.zstd_read_free(f,h);g.zstd_free_ctx(k);postMessage({result:l,id:e},[l])}else h=Object.fromEntries("cpu_exception_hook run_hardware_timers cpu_event_halt microtick get_rand_int apic_acknowledge_irq stop_idling io_port_read8 io_port_read16 io_port_read32 io_port_write8 io_port_write16 io_port_write32 mmap_read8 mmap_read16 mmap_read32 mmap_write8 mmap_write16 mmap_write32 mmap_write64 mmap_write128 codegen_finalize jit_clear_func jit_clear_all_funcs".split(" ").map(m=>[m,
()=>console.error("zstd worker unexpectedly called "+m)])),h.__indirect_function_table=new WebAssembly.Table({element:"anyfunc",initial:1024}),h.abort=()=>{throw Error("zstd worker aborted");},h.log_from_wasm=h.console_log_from_wasm=(m,p)=>{console.log(String.fromCharCode(...(new Uint8Array(d.exports.memory.buffer,m,p))))},h.dbg_trace_from_wasm=()=>console.trace(),d=new WebAssembly.Instance(new WebAssembly.Module(e.data),{env:h})}}.toString()+")()"],{type:"text/javascript"}));this.h=new Worker(c);
URL.revokeObjectURL(c);this.h.postMessage(this.s,[this.s])}return new Promise(c=>{const d=this.D++,e=async f=>{f.data.id===d&&(this.h.removeEventListener("message",e),c(f.data.result))};this.h.addEventListener("message",e);this.h.postMessage({src:b,mj:a,id:d},[b.buffer])})};
function $d(a){const b=(Rd(a,"/")||[]).map(e=>"/"+e);a=(Rd(a,"/boot/")||[]).map(e=>"/boot/"+e);let c,d;for(const e of[].concat(b,a)){const f=/old/i.test(e)||/fallback/i.test(e),h=/initrd/i.test(e)||/initramfs/i.test(e);!/vmlinuz/i.test(e)&&!/bzimage/i.test(e)||d&&f||(d=e);!h||c&&f||(c=e)}c&&d||(console.log("Failed to find bzimage or initrd in filesystem. Files:"),console.log(b.join(" ")),console.log(a.join(" ")));return{Ij:c,$i:d}}n.Jf=async function(){this.Ra.Jf()};
n.stop=async function(){this.Yf&&await new Promise(a=>{const b=()=>{this.v.unregister("emulator-stopped",b);a()};ae(this,"emulator-stopped",b);this.Ra.stop()})};n.sa=async function(){await this.stop();this.Ra.sa();this.o&&this.o.sa();this.i&&this.i.sa();this.j&&this.j.sa();this.dc&&this.dc.sa();this.ec&&this.ec.sa();this.g&&this.g.sa()};n.Xg=function(){this.Ra.Xg()};function ae(a,b,c){a.v.register(b,c,a)}n.qg=async function(a){this.Ra.qg(a)};n.Yg=async function(){return this.Ra.Yg()};n.td=function(){return this.Yf};
n.Kf=async function(a){if(a.url&&!a.async)Aa(a.url,{done:b=>{this.Ra.u.A.le.Kf(new Da(b))}});else{const b=Na(a,this.Ii.bind(this));b.onload=()=>{this.Ra.u.A.le.Kf(b)};await b.load()}};n.bg=function(){this.Ra.u.A.le.bg()};function be(a,b){for(var c=0;c<b.length;c++)a.v.send("keyboard-code",b[c])}function ce(a,b){for(var c=0;c<b.length;c++)a.o.ql(b[c])}function de(){var a=document.body,b=a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock;b&&b.call(a)}
n.gj=async function(a,b){var c=this.vc;if(c){var d=a.split("/");d=d[d.length-1];a=Jd(c,a).Sg;if(""!==d&&-1!==a)await nd(c,d,a,b);else return Promise.reject(new ee)}};n.If=async function(a){var b=this.vc;if(b)return(a=await b.If(a))?a:Promise.reject(new ee)};function ee(){this.message="File not found"}ee.prototype=Error.prototype;
"undefined"!==typeof module&&"undefined"!==typeof module.exports?module.exports.V86=Sd:"undefined"!==typeof window?window.V86=Sd:"function"===typeof importScripts&&(self.V86=Sd);function Yd(a,b){this.i=this.h=!1;this.l=!0;this.j=0;this.g=null;this.u=new fe(a,b,()=>{this.l&&ge(this,0)});this.v=a;this.o()}n=Yd.prototype;n.Jf=function(){this.i=!1;this.h||(this.h=!0,this.v.send("emulator-started"));ge(this,0)};function he(a){if(a.i||!a.h)a.i=a.h=!1,a.v.send("emulator-stopped");else{a.l=!1;var b=a.u.Vd();ge(a,b)}}function ge(a,b){const c=++a.j;a.l=!0;a.C(b,c)}n.stop=function(){this.h&&(this.i=!0)};n.sa=function(){this.s()};n.Xg=function(){this.u.Ga();ie(this.u)};
n.Jb=function(a){this.u.Jb(a,this.v);this.v.send("emulator-ready")};
if("undefined"!==typeof process)Yd.prototype.C=function(a,b){1>a?global.setImmediate(c=>{c===this.j&&he(this)},b):setTimeout(c=>{c===this.j&&he(this)},a,b)},Yd.prototype.o=function(){},Yd.prototype.s=function(){};else if("undefined"!==typeof Worker){function a(){let b;globalThis.onmessage=function(c){const d=c.data.t;b=b&&clearTimeout(b);1>d?postMessage(c.data.Ei):b=setTimeout(()=>postMessage(c.data.Ei),d)}}Yd.prototype.o=function(){const b=URL.createObjectURL(new Blob(["("+a.toString()+")()"],{type:"text/javascript"}));
this.g=new Worker(b);this.g.onmessage=c=>{c.data===this.j&&he(this)};URL.revokeObjectURL(b)};Yd.prototype.C=function(b,c){this.g.postMessage({t:b,Ei:c})};Yd.prototype.s=function(){this.g&&this.g.terminate();this.g=null}}else Yd.prototype.C=function(a){setTimeout(()=>{he(this)},a)},Yd.prototype.o=function(){},Yd.prototype.s=function(){};
Yd.prototype.Yg=function(){for(var a=[],b=Ib(this.u,a),c=[],d=0,e=0;e<a.length;e++){var f=a[e].byteLength;c[e]={offset:d,length:f};d+=f;d=d+3&-4}e=JSON.stringify({buffer_infos:c,state:b});e=(new TextEncoder).encode(e);b=16+e.length;b=b+3&-4;f=b+d;d=new ArrayBuffer(f);var h=new Int32Array(d,0,4);(new Uint8Array(d,16,e.length)).set(e);b=new Uint8Array(d,b);h[0]=-2039052682;h[1]=6;h[2]=f;h[3]=e.length;for(e=0;e<a.length;e++)b.set(a[e],c[e].offset);return d};
Yd.prototype.qg=function(a){return Kb(this.u,a)};if("object"===typeof performance&&performance.now)var Pb=performance.now.bind(performance);else if("function"===typeof require){const {performance:a}=require("perf_hooks");Pb=a.now.bind(a)}else"object"===typeof process&&process.hrtime?Pb=function(){var a=process.hrtime();return 1E3*a[0]+a[1]/1E6}:Pb=Date.now;function je(a){this.u=a;this.wa=this.C=0;this.Ga=1;this.g=this.l=0;this.j=Pb();this.R=this.X=this.V=this.Z=this.$=this.h=65536;this.L=this.G=this.s=0;this.i=new Int32Array(8);this.cb=new Int32Array(8);this.o=new Int32Array(8);this.ga=254;this.D=-1;this.ba=this.error=this.N=0;$a(a.B,4276092928,1048576,b=>{var c=b&3;return this.Hf(b&-4)>>8*c&255},()=>{},b=>this.Hf(b),(b,c)=>this.Ba(b,c))}n=je.prototype;
n.Hf=function(a){a=a-4276092928|0;switch(a){case 32:return this.C;case 48:return 327700;case 128:return this.s;case 208:return this.N;case 224:return this.D;case 240:return this.ga;case 256:case 272:case 288:case 304:case 320:case 336:case 352:case 368:return this.cb[a-256>>4];case 384:case 400:case 416:case 432:case 448:case 464:case 480:case 496:return this.o[a-384>>4];case 512:case 528:case 544:case 560:case 576:case 592:case 608:case 624:return this.i[a-512>>4];case 640:return this.ba;case 768:return this.G;
case 784:return this.L;case 800:return this.h;case 816:return this.$;case 832:return this.Z;case 848:return this.V;case 864:return this.X;case 880:return this.R;case 992:return this.wa;case 896:return this.l;case 912:return this.g;default:return 0}};
n.Ba=function(a,b){switch(a-4276092928|0){case 32:this.C=b;break;case 128:this.s=b&255;Wd(this);break;case 176:b=Td(this.cb);if(-1!==b){Ud(this.cb,b);if(this.o[b>>5]>>(b&31)&1){a=this.u.A.sd;for(var c=0;24>c;c++){var d=a.g[c];(d&255)===b&&d&16384&&(a.g[c]&=-16385,ke(a,c))}}Wd(this)}break;case 208:this.N=b&4278190080;break;case 224:this.D=b|16777215;break;case 240:this.ga=b;break;case 640:this.ba=this.error;this.error=0;break;case 768:a=b&255;c=b>>8&7;d=b>>15&1;var e=b>>18&3;this.G=b&-4097;0===e?le(this,
a,c,d):1===e?le(this,a,0,d):2===e&&le(this,a,c,d);break;case 784:this.L=b;break;case 800:this.h=b;break;case 816:this.$=b;break;case 832:this.Z=b;break;case 848:this.V=b;break;case 864:this.X=b;break;case 880:this.R=b;break;case 992:this.wa=b;b=b&3|(b&8)>>1;this.Ga=7===b?0:b+1;break;case 896:this.l=b>>>0,this.g=b>>>0,this.j=Pb()}};
n.Hc=function(a){if(0===this.g)return 100;const b=1E6/(1<<this.Ga);a=(a-this.j)*b>>>0;this.j+=a/b;this.g-=a;0>=this.g&&(a=this.h&393216,131072===a?(this.g%=this.l,0>=this.g&&(this.g+=this.l),0===(this.h&65536)&&le(this,this.h&255,0,!1)):0===a&&(this.g=0,0===(this.h&65536)&&le(this,this.h&255,0,!1)));return Math.max(0,this.g/b)};function le(a,b,c,d){5===c||4===c||a.i[b>>5]>>(b&31)&1||(Vd(a.i,b),d?Vd(a.o,b):Ud(a.o,b),Wd(a))}
function Wd(a){var b=Td(a.i);-1!==b&&(Td(a.cb)>=b||(b&240)<=(a.s&240)||a.u.Qd())}n.ia=function(){var a=[];a[0]=this.C;a[1]=this.wa;a[2]=this.Ga;a[3]=this.l;a[4]=this.g;a[5]=this.j;a[6]=this.h;a[7]=this.Z;a[8]=this.V;a[9]=this.X;a[10]=this.R;a[11]=this.s;a[12]=this.G;a[13]=this.L;a[14]=this.i;a[15]=this.cb;a[16]=this.o;a[17]=this.ga;a[18]=this.D;a[19]=this.N;a[20]=this.error;a[21]=this.ba;a[22]=this.$;return a};
n.I=function(a){this.C=a[0];this.wa=a[1];this.Ga=a[2];this.l=a[3];this.g=a[4];this.j=a[5];this.h=a[6];this.Z=a[7];this.V=a[8];this.X=a[9];this.R=a[10];this.s=a[11];this.G=a[12];this.L=a[13];this.i=a[14];this.cb=a[15];this.o=a[16];this.ga=a[17];this.D=a[18];this.N=a[19];this.error=a[20];this.ba=a[21];this.$=a[22]||65536};function Vd(a,b){a[b>>5]|=1<<(b&31)}function Ud(a,b){a[b>>5]&=~(1<<(b&31))}function Td(a){for(var b=7;0<=b;b--){var c=a[b];if(c)return ma(c>>>0)|b<<5}return-1};function me(a){this.u=a;this.g=new Int32Array(24);this.o=new Int32Array(24);for(var b=0;b<this.g.length;b++)this.g[b]=65536;this.i=this.h=this.l=this.j=0;$a(a.B,4273995776,131072,c=>{c=c-4273995776|0;return 16<=c&&20>c?(c-=16,this.read(this.j)>>8*c&255):0},()=>{},c=>{c=c-4273995776|0;return 0===c?this.j:16===c?this.read(this.j):0},(c,d)=>{c=c-4273995776|0;0===c?this.j=d:16===c&&this.write(this.j,d)})}
function ke(a,b){var c=1<<b;if(0!==(a.h&c)){var d=a.g[b];if(0===(d&65536)){var e=d>>8&7;if(0===(d&32768))a.h&=~c;else if(a.g[b]|=16384,d&16384)return;0!==e&&1!==e||le(a.u.A.Pe,d&255,e,32768===(d&32768));a.g[b]&=-4097}}}me.prototype.read=function(a){if(0===a)return this.l<<24;if(1===a)return 1507345;if(2===a)return this.l<<24;if(16<=a&&64>a){var b=a-16>>1;return a&1?this.o[b]:this.g[b]}return 0};
me.prototype.write=function(a,b){if(0===a)this.l=b>>>24&15;else if(1!==a&&2!==a&&16<=a&&64>a){var c=a-16>>1;a&1?this.o[c]=b&4278190080:(this.g[c]=b&110591|this.g[c]&-110592,ke(this,c))}};me.prototype.ia=function(){var a=[];a[0]=this.g;a[1]=this.o;a[2]=this.j;a[3]=this.l;a[4]=this.h;a[5]=this.i;return a};me.prototype.I=function(a){this.g=a[0];this.o=a[1];this.j=a[2];this.l=a[3];this.h=a[4];this.i=a[5]};function ne(a){this.u=a;var b=a.B;oe(a.A.eb,{Pa:56,O:[134,128,19,113,7,0,128,2,8,0,128,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,9,1,0,0],Pb:[],name:"acpi"});this.g=this.h=0;this.status=1;this.Ef=this.ve=0;this.i=pe(this,Pb());this.xc=new Uint8Array(4);w(b,45056,this,void 0,function(){return this.ve});t(b,45056,this,void 0,function(c){this.ve&=~c});w(b,45058,this,void 0,function(){return this.Ef});t(b,45058,this,void 0,function(c){this.Ef=
c});w(b,45060,this,void 0,function(){return this.status});t(b,45060,this,void 0,function(c){this.status=c});w(b,45064,this,void 0,void 0,function(){return pe(this,Pb())&16777215});w(b,45024,this,function(){return this.xc[0]});w(b,45025,this,function(){return this.xc[1]});w(b,45026,this,function(){return this.xc[2]});w(b,45027,this,function(){return this.xc[3]});t(b,45024,this,function(c){this.xc[0]=c});t(b,45025,this,function(c){this.xc[1]=c});t(b,45026,this,function(c){this.xc[2]=c});t(b,45027,this,
function(c){this.xc[3]=c})}ne.prototype.Hc=function(a){a=pe(this,a);var b=0!==((a^this.i)&8388608);this.Ef&1&&b?(this.ve|=1,this.u.ab(9)):Fb(this.u,9);this.i=a;return 100};function pe(a,b){b=Math.round(3579.545*b);b===a.h?3579.545>a.g&&a.g++:a.h+a.g<=b&&(a.g=0,a.h=b);return a.h+a.g}ne.prototype.ia=function(){var a=[];a[0]=this.status;a[1]=this.ve;a[2]=this.Ef;a[3]=this.xc;return a};ne.prototype.I=function(a){this.status=a[0];this.ve=a[1];this.Ef=a[2];this.xc=a[3]};function qe(a,b,c){this.v=c;this.u=a;this.h=4;this.ud=this.md=0;this.oe=96;this.Tc=this.uf=0;this.Uc=1;this.la=this.rg=this.Xa=this.kg=0;this.input=[];switch(b){case 1016:this.g=0;this.la=4;break;case 760:this.g=1;this.la=3;break;case 1E3:this.g=2;this.la=4;break;case 744:this.la=this.g=3;break;default:this.g=0,this.la=4}this.v.register("serial"+this.g+"-input",function(d){this.input.push(d);this.oe|=1;this.uf&1?re(this,12):re(this,4)},this);this.v.register("serial"+this.g+"-modem-status-input",function(d){se(this,
d)},this);this.v.register("serial"+this.g+"-carrier-detect-input",function(d){se(this,d?this.Xa|136:this.Xa&-137)},this);this.v.register("serial"+this.g+"-ring-indicator-input",function(d){se(this,d?this.Xa|68:this.Xa&-69)},this);this.v.register("serial"+this.g+"-data-set-ready-input",function(d){se(this,d?this.Xa|34:this.Xa&-35)},this);this.v.register("serial"+this.g+"-clear-to-send-input",function(d){se(this,d?this.Xa|17:this.Xa&-18)},this);a=a.B;t(a,b,this,function(d){te(this,d)},function(d){te(this,
d&255);te(this,d>>8)});t(a,b|1,this,function(d){this.ud&128?this.md=this.md&255|d<<8:(0===(this.Tc&2)&&d&2&&re(this,2),this.Tc=d&15,ue(this))});w(a,b,this,function(){if(this.ud&128)return this.md&255;let d=0;0!==this.input.length&&(d=this.input.shift());0===this.input.length&&(this.oe&=-2,ve(this,12),ve(this,4));return d});w(a,b|1,this,function(){return this.ud&128?this.md>>8:this.Tc&15});w(a,b|2,this,function(){var d=this.Uc&15;2===this.Uc&&ve(this,2);this.uf&1&&(d|=192);return d});t(a,b|2,this,
function(d){this.uf=d});w(a,b|3,this,function(){return this.ud});t(a,b|3,this,function(d){this.ud=d});w(a,b|4,this,function(){return this.kg});t(a,b|4,this,function(d){this.kg=d});w(a,b|5,this,function(){return this.oe});t(a,b|5,this,function(){});w(a,b|6,this,function(){return this.Xa&=240});t(a,b|6,this,function(d){se(this,d)});w(a,b|7,this,function(){return this.rg});t(a,b|7,this,function(d){this.rg=d})}
qe.prototype.ia=function(){var a=[];a[0]=this.h;a[1]=this.md;a[2]=this.ud;a[3]=this.oe;a[4]=this.uf;a[5]=this.Tc;a[6]=this.Uc;a[7]=this.kg;a[8]=this.Xa;a[9]=this.rg;a[10]=this.la;return a};qe.prototype.I=function(a){this.h=a[0];this.md=a[1];this.ud=a[2];this.oe=a[3];this.uf=a[4];this.Tc=a[5];this.Uc=a[6];this.kg=a[7];this.Xa=a[8];this.rg=a[9];this.la=a[10]};
function ue(a){a.h&4096&&a.Tc&1?(a.Uc=12,a.u.ab(a.la)):a.h&16&&a.Tc&1?(a.Uc=4,a.u.ab(a.la)):a.h&4&&a.Tc&2?(a.Uc=2,a.u.ab(a.la)):a.h&1&&a.Tc&8?(a.Uc=0,a.u.ab(a.la)):(a.Uc=1,Fb(a.u,a.la))}function re(a,b){a.h|=1<<b;ue(a)}function ve(a,b){a.h&=~(1<<b);ue(a)}function te(a,b){a.ud&128?a.md=a.md&-256|b:(re(a,2),a.v.send("serial"+a.g+"-output-byte",b))}function se(a,b){let c=(a.Xa^b)>>4;c|=a.Xa&15;a.Xa=b;a.Xa|=c};function we(a){this.bc=new Uint8Array(4);this.g=new Uint8Array(4);this.te=new Uint8Array(4);this.ue=new Uint8Array(4);this.se=new Int32Array(this.bc.buffer);new Int32Array(this.g.buffer);this.Wh=new Int32Array(this.te.buffer);this.Yh=new Int32Array(this.ue.buffer);this.nc=[];this.A=[];this.u=a;for(var b=0;256>b;b++)this.nc[b]=void 0,this.A[b]=void 0;this.B=a.B;t(a.B,3324,this,function(c){xe(this,this.se[0],c)},function(c){ye(this,this.se[0],c)},function(c){var d=this.se[0],e=d>>8&65535,f=d&255;d=
this.nc[e];e=this.A[e];if(d)if(16<=f&&40>f)if(e=e.Pb[f-16>>2]){f>>=2;var h=d[f]&1;-1===(c|3|e.size-1)?(c=~(e.size-1)|h,0===h&&(d[f]=c)):0===h&&(d[f]=e.Vh);1===h&&(ze(this,e,d[f]&65534,c&65534),d[f]=c|1)}else d[f>>2]=0;else 48===f?d[f>>2]=e.Xh?-1===(c|2047)?-e.Xh|0:e.Pj|0:0:4!==f&&(d[f>>>2]=c)});t(a.B,3325,this,function(c){xe(this,this.se[0]+1|0,c)});t(a.B,3326,this,function(c){xe(this,this.se[0]+2|0,c)},function(c){ye(this,this.se[0]+2|0,c)});t(a.B,3327,this,function(c){xe(this,this.se[0]+3|0,c)});
a.B.Ce(3324,this,function(){return this.te[0]},function(){return this.te[1]},function(){return this.te[2]},function(){return this.te[3]});a.B.Ce(3320,this,function(){return this.ue[0]},function(){return this.ue[1]},function(){return this.ue[2]},function(){return this.ue[3]});a.B.hd(3320,this,function(c){this.bc[0]=c&252},function(c){2===(this.bc[1]&6)&&6===(c&6)?Ae(a):this.bc[1]=c},function(c){this.bc[2]=c},function(c){this.bc[3]=c;c=this.bc[0]&252;var d=this.nc[this.bc[2]<<8|this.bc[1]];void 0!==
d?(this.Yh[0]=-2147483648,this.Wh[0]=c<d.byteLength?d[c>>2]:0):(this.Wh[0]=-1,this.Yh[0]=0)});oe(this,{Pa:0,O:[134,128,55,18,0,0,0,0,2,0,0,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16,0,0,0,0,0,0],Pb:[],name:"82441FX PMC"});this.i={Pa:8,O:[134,128,0,112,7,0,0,2,0,0,1,6,0,0,128,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Pb:[],name:"82371SB PIIX3 ISA"};
this.j=oe(this,this.i);this.h=new Uint8Array(this.j.buffer)}we.prototype.ia=function(){for(var a=[],b=0;256>b;b++)a[b]=this.nc[b];a[256]=this.bc;a[257]=this.g;a[258]=this.te;a[259]=this.ue;return a};we.prototype.I=function(a){for(var b=0;256>b;b++){var c=this.A[b],d=a[b];if(c&&d){for(var e=0;e<c.Pb.length;e++){var f=d[4+e];if(f&1){var h=c.Pb[e];ze(this,h,h.Vh&65534,f&65534)}}this.nc[b].set(d)}}this.bc.set(a[256]);this.g.set(a[257]);this.te.set(a[258]);this.ue.set(a[259])};
function xe(a,b,c){var d=b&255;(new Uint8Array(a.nc[b>>8&65535].buffer))[d]=c}function ye(a,b,c){var d=b&255;a=new Uint16Array(a.nc[b>>8&65535].buffer);!a||16<=d&&44>d||(a[d>>>1]=c)}function oe(a,b){var c=b.Pa,d=new Int32Array(64);d.set(new Int32Array((new Uint8Array(b.O)).buffer));a.nc[c]=d;a.A[c]=b;c=d.slice(4,10);for(var e=0;e<b.Pb.length;e++){var f=b.Pb[e];if(f){var h=c[e],g=h&1;f.Vh=h;f.entries=[];if(0!==g)for(h&=-2,g=0;g<f.size;g++)f.entries[g]=a.B.ports[h+g]}}return d}
function ze(a,b,c,d){for(var e=b.size,f=a.B.ports,h=0;h<e;h++){4096<=c+h&&(f[c+h]=Za(a.B));var g=b.entries[h];4096<=d+h&&(f[d+h]=g)}}we.prototype.Ua=function(a){this.u.ab(this.h[96+((this.nc[a][15]>>8&255)-1+((a>>3)-1&255)&3)])};function Fe(a,b){Fb(a.u,a.h[96+((a.nc[b][15]>>8&255)+(b>>3&255)-2&3)])};function Ge(a,b,c){a[0]===b[0]&&a[1]===b[1]&&a[2]===b[2]&&a[3]===b[3]&&a[4]===b[4]&&a[5]===b[5]&&(a[0]=c[0],a[1]=c[1],a[2]=c[2],a[3]=c[3],a[4]=c[4],a[5]=c[5]);a[6]===b[0]&&a[7]===b[1]&&a[8]===b[2]&&a[9]===b[3]&&a[10]===b[4]&&a[11]===b[5]&&(a[6]=c[0],a[7]=c[1],a[8]=c[2],a[9]=c[3],a[10]=c[4],a[11]=c[5]);var d=a[12]<<8|a[13];if(2048===d){if(a=a.subarray(14),4===a[0]>>4&&17===a[9]&&(a=a.subarray(20),d=a[2]<<8|a[3],67===(a[0]<<8|a[1])||67===d)){const e=a.subarray(8);if(1669485411===(e[236]<<24|e[237]<<
16|e[238]<<8|e[239]))for(e[28]===b[0]&&e[29]===b[1]&&e[30]===b[2]&&e[31]===b[3]&&e[32]===b[4]&&e[33]===b[5]&&(e[28]=c[0],e[29]=c[1],e[30]=c[2],e[31]=c[3],e[32]=c[4],e[33]=c[5],a[6]=a[7]=0),d=240;d<e.length;){const f=e[d++];if(255===f)break;const h=e[d++];61===f&&1===e[d+0]&&e[d+1]===b[0]&&e[d+2]===b[1]&&e[d+3]===b[2]&&e[d+4]===b[3]&&e[d+5]===b[4]&&e[d+6]===b[5]&&(e[d+1]=c[0],e[d+2]=c[1],e[d+3]=c[2],e[d+4]=c[3],e[d+5]=c[4],e[d+6]=c[5],a[6]=a[7]=0);d+=h}}}else 2054===d&&(a=a.subarray(14),a[8]===b[0]&&
a[9]===b[1]&&a[10]===b[2]&&a[11]===b[3]&&a[12]===b[4]&&a[13]===b[5]&&(a[8]=c[0],a[9]=c[1],a[10]=c[2],a[11]=c[3],a[12]=c[4],a[13]=c[5]))}function He(a){return[a[0].toString(16).padStart(2,"0"),a[1].toString(16).padStart(2,"0"),a[2].toString(16).padStart(2,"0"),a[3].toString(16).padStart(2,"0"),a[4].toString(16).padStart(2,"0"),a[5].toString(16).padStart(2,"0")].join(":")}
function Ie(a,b,c,d){this.u=a;this.eb=a.A.eb;this.id=0;this.ze=c;this.Nb=d;this.v=b;this.v.register("net"+this.id+"-receive",function(e){this.Fa(e)},this);this.port=768+256*this.id;this.name="ne2k";this.O=[236,16,41,128,3,1,0,0,0,0,0,2,0,0,0,0,this.port&255|1,this.port>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,184,254,0,0,0,0,0,0,0,0,0,1,0,0];this.Pa=(0===this.id?5:7+this.id)<<3;this.Pb=[{size:32}];this.fg=this.cb=0;this.lb=1;this.vg=this.Ge=this.cc=this.nf=0;this.memory=
new Uint8Array(32768);this.jh=this.af=0;this.ih=1;this.ka=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",He(this.ka));this.vd=Uint8Array.of(255,255,255,255,255,255,255,255);this.Cf=null;for(b=0;6>b;b++)this.memory[b<<1]=this.memory[b<<1|1]=this.ka[b];this.memory[28]=this.memory[29]=87;this.memory[30]=this.memory[31]=87;this.Ja=0;this.Dc=64;this.sb=128;this.nd=this.kc=76;b=a.B;w(b,this.port|0,this,function(){return this.lb});t(b,
this.port|0,this,function(e){this.lb=e;this.lb&1||(e&24&&0===this.cc&&Je(this,64),e&4&&(e=this.vg<<8,e=this.memory.subarray(e,e+this.Ge),this.Cf&&(e=new Uint8Array(e),Ge(e,this.Cf,this.ka)),this.v.send("net"+this.id+"-send",e),this.v.send("eth-transmit-end",[e.length]),this.lb&=-5,Je(this,2)))});w(b,this.port|13,this,function(){return 1===T(this)?this.vd[5]:0});w(b,this.port|14,this,function(){return 1===T(this)?this.vd[6]:0},function(){return 0});w(b,this.port|15,this,function(){return 1===T(this)?
this.vd[7]:0});w(b,this.port|31,this,function(){Je(this,128);return 0});t(b,this.port|31,this,function(){});w(b,this.port|1,this,function(){var e=T(this);return 0===e?this.Dc:1===e?this.ka[0]:2===e?this.Dc:0});t(b,this.port|1,this,function(e){var f=T(this);0===f?this.Dc=e:1===f&&(this.ka[0]=e)});w(b,this.port|2,this,function(){var e=T(this);return 0===e?this.sb:1===e?this.ka[1]:2===e?this.sb:0});t(b,this.port|2,this,function(e){var f=T(this);0===f?(e>this.memory.length>>8&&(e=this.memory.length>>
8),this.sb=e):1===f&&(this.ka[1]=e)});w(b,this.port|7,this,function(){var e=T(this);return 0===e?this.cb:1===e?this.kc:0});t(b,this.port|7,this,function(e){var f=T(this);0===f?(this.cb&=~e,Ke(this)):1===f&&(this.kc=e)});t(b,this.port|13,this,function(e){0===T(this)&&(this.jh=e)});t(b,this.port|14,this,function(e){0===T(this)&&(this.nf=e)});w(b,this.port|10,this,function(){var e=T(this);return 0===e?80:1===e?this.vd[2]:0});t(b,this.port|10,this,function(e){0===T(this)&&(this.cc=this.cc&65280|e&255)});
w(b,this.port|11,this,function(){var e=T(this);return 0===e?67:1===e?this.vd[3]:0});t(b,this.port|11,this,function(e){0===T(this)&&(this.cc=this.cc&255|e<<8&65280)});w(b,this.port|8,this,function(){var e=T(this);return 0===e?this.Ja&255:1===e?this.vd[0]:0});t(b,this.port|8,this,function(e){0===T(this)&&(this.Ja=this.Ja&65280|e&255)});w(b,this.port|9,this,function(){var e=T(this);return 0===e?this.Ja>>8&255:1===e?this.vd[1]:0});t(b,this.port|9,this,function(e){0===T(this)&&(this.Ja=this.Ja&255|e<<
8&65280)});t(b,this.port|15,this,function(e){0===T(this)&&(this.fg=e,Ke(this))});w(b,this.port|3,this,function(){var e=T(this);return 0===e?this.nd:1===e?this.ka[2]:0});t(b,this.port|3,this,function(e){var f=T(this);0===f?this.nd=e:1===f&&(this.ka[2]=e)});w(b,this.port|4,this,function(){var e=T(this);return 0===e?this.ih:1===e?this.ka[3]:0});t(b,this.port|4,this,function(e){var f=T(this);0===f?this.vg=e:1===f&&(this.ka[3]=e)});w(b,this.port|5,this,function(){var e=T(this);return 0===e?0:1===e?this.ka[4]:
0});t(b,this.port|5,this,function(e){var f=T(this);0===f?this.Ge=this.Ge&-256|e:1===f&&(this.ka[4]=e)});w(b,this.port|6,this,function(){var e=T(this);return 0===e?0:1===e?this.ka[5]:0});t(b,this.port|6,this,function(e){var f=T(this);0===f?this.Ge=this.Ge&255|e<<8:1===f&&(this.ka[5]=e)});w(b,this.port|12,this,function(){var e=T(this);return 0===e?9:1===e?this.vd[4]:0});t(b,this.port|12,this,function(e){0===T(this)&&(this.af=e)});w(b,this.port|16,this,this.jj,this.wh,this.ij);t(b,this.port|16,this,
this.xh,this.xh,this.kj);oe(a.A.eb,this)}n=Ie.prototype;n.ia=function(){var a=[];a[0]=this.cb;a[1]=this.fg;a[2]=this.lb;a[3]=this.nf;a[4]=this.cc;a[5]=this.Ge;a[6]=this.vg;a[7]=this.Ja;a[8]=this.Dc;a[9]=this.kc;a[10]=this.nd;a[11]=this.sb;a[12]=this.af;a[13]=this.jh;a[14]=this.ih;a[15]=this.ka;a[16]=this.memory;return a};
n.I=function(a){this.cb=a[0];this.fg=a[1];this.lb=a[2];this.nf=a[3];this.cc=a[4];this.Ge=a[5];this.vg=a[6];this.Ja=a[7];this.Dc=a[8];this.kc=a[9];this.nd=a[10];this.sb=a[11];this.af=a[12];this.jh=a[13];this.ih=a[14];this.ze?(this.ka=a[15],this.memory=a[16]):this.Nb&&(this.Cf=a[15],this.memory=a[16]);this.v.send("net"+this.id+"-mac",He(this.ka))};function Je(a,b){a.cb|=b;Ke(a)}function Ke(a){a.fg&a.cb?a.eb.Ua(a.Pa):Fe(a.eb,a.Pa)}
function Le(a,b){if(16>=a.Ja||16384<=a.Ja&&32768>a.Ja)a.memory[a.Ja]=b;a.Ja++;a.cc--;a.Ja>=a.sb<<8&&(a.Ja+=a.Dc-a.sb<<8);0===a.cc&&Je(a,64)}n.xh=function(a){Le(this,a);this.nf&1&&Le(this,a>>8)};n.kj=function(a){Le(this,a);Le(this,a>>8);Le(this,a>>16);Le(this,a>>24)};function Me(a){let b=0;32768>a.Ja&&(b=a.memory[a.Ja]);a.Ja++;a.cc--;a.Ja>=a.sb<<8&&(a.Ja+=a.Dc-a.sb<<8);0===a.cc&&Je(a,64);return b}n.jj=function(){return this.wh()&255};n.wh=function(){return this.nf&1?Me(this)|Me(this)<<8:Me(this)};
n.ij=function(){return Me(this)|Me(this)<<8|Me(this)<<16|Me(this)<<24};
n.Fa=function(a){if(!(this.lb&1)&&(this.v.send("eth-receive-end",[a.length]),this.af&16||this.af&4&&255===a[0]&&255===a[1]&&255===a[2]&&255===a[3]&&255===a[4]&&255===a[5]||!(this.af&8&&1===(a[0]&1)||a[0]!==this.ka[0]||a[1]!==this.ka[1]||a[2]!==this.ka[2]||a[3]!==this.ka[3]||a[4]!==this.ka[4]||a[5]!==this.ka[5]))){this.Cf&&(a=new Uint8Array(a),Ge(a,this.ka,this.Cf));var b=this.kc<<8,c=Math.max(60,a.length)+4,d=b+4,e=this.kc+1+(c>>8);if(!((this.nd>this.kc?this.nd-this.kc:this.sb-this.kc+this.nd-this.Dc)<
1+(c>>8)&&0!==this.nd)){if(b+c>this.sb<<8){var f=(this.sb<<8)-d;this.memory.set(a.subarray(0,f),d);this.memory.set(a.subarray(f),this.Dc<<8)}else this.memory.set(a,d),60>a.length&&this.memory.fill(0,d+a.length,d+60);e>=this.sb&&(e+=this.Dc-this.sb);this.memory[b]=1;this.memory[b+1]=e;this.memory[b+2]=c;this.memory[b+3]=c>>8;this.kc=e;Je(this,1)}}};function T(a){return a.lb>>6&3};function Ne(a,b){this.v=b;this.rows=25;this.cols=80;this.ports=4;b=[{La:16,Ya:0},{La:16,Ya:1},{La:16,Ya:2},{La:16,Ya:3}];for(let c=1;c<this.ports;++c)b.push({La:16,Ya:0}),b.push({La:8,Ya:1});this.M=new Oe(a,{name:"virtio-console",Pa:96,he:4163,Lf:3,fe:{Sa:47104,Y:b,features:[0,1,32],Qg:()=>{}},notification:{Sa:47360,tg:!1,eg:[()=>{},c=>{const d=this.M.Y[c],e=3<c?c-3>>1:0;for(;Pe(d);){const f=Qe(d),h=new Uint8Array(f.Mb);Re(f,h);this.v.send("virtio-console"+e+"-output-bytes",h);Se(this,c,f)}},c=>{if(2===
c)for(c=this.M.Y[c];Te(c)>c.size-2;)Qe(c)},c=>{if(3===c)for(var d=this.M.Y[c];Pe(d);){var e=Qe(d),f=new Uint8Array(e.Mb);Re(e,f);var h=N(["w","h","h"],f,{offset:0});f=h[0];h=h[1];Se(this,c,e);switch(h){case 0:for(f=0;f<this.ports;++f)Ue(this,f,1,0);break;case 3:Se(this,c,e);Ue(this,f,4,1);h=f;var g="virtio-"+f;e=Qe(this.M.Y[2]);g=(new TextEncoder).encode(g);const k=new Uint8Array(g.length+9);M(["w","h","h"],[h,7,1],k,0);for(h=0;h<g.length;++h)k[h+8]=g[h];k[8+g.length]=0;this.ld(2,e,k);Ue(this,f,6,
1);break;case 6:Se(this,c,e);0===f&&Ve(this,f);break;default:return}}}]},Lb:{Sa:46848},pf:{Sa:46592,Fc:[{bytes:2,name:"cols",read:()=>this.cols,write:()=>{}},{bytes:2,name:"rows",read:()=>this.rows,write:()=>{}},{bytes:4,name:"max_nr_ports",read:()=>this.ports,write:()=>{}},{bytes:4,name:"emerg_wr",read:()=>0,write:()=>{}}]}});for(let c=0;c<this.ports;++c){const d=0===c?0:2*c+2;this.v.register("virtio-console"+c+"-input-bytes",function(e){var f=this.M.Y[d];Pe(f)&&(f=Qe(f),this.ld(d,f,new Uint8Array(e)))},
this);this.v.register("virtio-console"+c+"-resize",function(e){0===c&&(this.cols=e[0],this.rows=e[1]);We(this.M.Y[2])&&Pe(this.M.Y[2])&&Ve(this,c,e[0],e[1])},this)}}function Ve(a,b,c,d){d=d||a.rows;c=c||a.cols;const e=Qe(a.M.Y[2]),f=new Uint8Array(12);M(["w","h","h","h","h"],[b,5,0,d,c],f,0);a.ld(2,e,f)}Ne.prototype.ia=function(){const a=[];a[0]=this.M;a[1]=this.rows;a[2]=this.cols;a[3]=this.ports;return a};Ne.prototype.I=function(a){this.M.I(a[0]);this.rows=a[1];this.cols=a[2];this.ports=a[3]};
Ne.prototype.reset=function(){this.M.reset()};function Ue(a,b,c,d){const e=Qe(a.M.Y[2]),f=new Uint8Array(8);M(["w","h","h"],[b,c,d],f,0);a.ld(2,e,f)}Ne.prototype.ld=function(a,b,c){Xe(b,c);Ye(this.M.Y[a],b);Ze(this.M.Y[a])};function Se(a,b,c){Xe(c,new Uint8Array(0));Ye(a.M.Y[b],c);Ze(a.M.Y[b])};function $e(a,b){this.u=a;this.v=b;this.reset();this.v.register("keyboard-code",function(c){this.sf&&(this.ua.push(c),this.Ua())},this);this.v.register("mouse-click",function(c){this.yf&&this.He&&(this.qe=c[0]|c[2]<<1|c[1]<<2,this.qd&&af(this,0,0))},this);this.v.register("mouse-delta",function(c){var d=c[1];if(this.yf&&this.He){var e=this.$e*this.Fd/80;this.Ac+=c[0]*e;this.Bc+=d*e;this.qd&&(c=this.Ac|0,d=this.Bc|0,c||d)&&(this.Ac-=c,this.Bc-=d,af(this,c,d))}},this);this.v.register("mouse-wheel",function(c){this.Ic-=
c[0];this.Ic-=2*c[1];this.Ic=Math.min(7,Math.max(-8,this.Ic));af(this,0,0)},this);w(a.B,96,this,this.bl);w(a.B,100,this,this.dl);t(a.B,96,this,this.cl);t(a.B,100,this,this.el)}n=$e.prototype;
n.reset=function(){this.He=this.qd=!1;this.yf=!0;this.qe=this.Bc=this.Ac=0;this.wa=!0;this.V=this.R=this.G=this.N=this.X=this.L=this.sf=!1;this.ua=new ua(1024);this.l=0;this.Fd=100;this.j=this.i=0;this.C=!1;this.Ic=0;this.$e=4;this.s=!1;this.g=new ua(1024);this.D=this.o=!1;this.h=5;this.ga=0;this.$=this.Z=this.ba=!1};
n.ia=function(){var a=[];a[0]=this.qd;a[1]=this.He;a[2]=this.yf;a[3]=this.Ac;a[4]=this.Bc;a[5]=this.qe;a[6]=this.wa;a[7]=this.sf;a[8]=this.L;a[9]=this.X;a[10]=this.N;a[11]=this.G;a[12]=this.R;a[13]=this.V;a[15]=this.l;a[16]=this.Fd;a[17]=this.$e;a[18]=this.s;a[20]=this.h;a[21]=this.ba;a[22]=this.Z;a[23]=this.ga;a[24]=this.$;a[25]=this.j;a[26]=this.i;a[27]=this.C;return a};
n.I=function(a){this.qd=a[0];this.He=a[1];this.yf=a[2];this.Ac=a[3];this.Bc=a[4];this.qe=a[5];this.wa=a[6];this.sf=a[7];this.L=a[8];this.X=a[9];this.N=a[10];this.G=a[11];this.R=a[12];this.V=a[13];this.l=a[15];this.Fd=a[16];this.$e=a[17];this.s=a[18];this.h=a[20];this.ba=a[21];this.Z=a[22];this.ga=a[23];this.$=a[24];this.j=a[25]||0;this.i=a[26]||0;this.C=a[27]||!1;this.D=this.o=!1;this.ua.clear();this.g.clear();this.v.send("mouse-enable",this.He)};
n.Ua=function(){this.o||(this.ua.length?bf(this):this.g.length&&cf(this))};function cf(a){a.o=!0;a.D=!0;a.h&2&&(Fb(a.u,12),a.u.ab(12))}function bf(a){a.o=!0;a.D=!1;a.h&1&&(Fb(a.u,1),a.u.ab(1))}function af(a,b,c){a.g.push((0>c)<<5|(0>b)<<4|8|a.qe);a.g.push(b);a.g.push(c);4===a.j?(a.g.push(0|a.Ic&15),a.Ic=0):3===a.j&&(a.g.push(a.Ic&255),a.Ic=0);a.Ua()}
n.bl=function(){this.o=!1;if(!this.ua.length&&!this.g.length)return this.l;this.D?(Fb(this.u,12),this.l=this.g.shift()):(Fb(this.u,1),this.l=this.ua.shift());(this.ua.length||this.g.length)&&this.Ua();return this.l};n.dl=function(){var a=16;this.o&&(a|=1);this.D&&(a|=32);return a};
n.cl=function(a){if(this.Z)this.h=a,this.Z=!1;else if(this.ba)this.ba=!1,this.g.clear(),this.g.push(a),cf(this);else if(this.X){this.X=!1;this.g.clear();this.g.push(250);this.Fd=a;switch(this.i){case -1:60===a?(this.C=!0,this.i=0):(this.C=!1,this.i=200===a?1:0);break;case 0:200===a&&(this.i=1);break;case 1:this.i=100===a?2:200===a?3:0;break;case 2:80===a&&(this.j=3);this.i=-1;break;case 3:80===a&&(this.j=4),this.i=-1}this.Fd||(this.Fd=100);cf(this)}else if(this.V)this.V=!1,this.g.clear(),this.g.push(250),
this.$e=3<a?4:1<<a,cf(this);else if(this.N)this.N=!1,this.ua.push(250),bf(this);else if(this.G)this.G=!1,this.ua.push(250),bf(this),a||this.ua.push(1);else if(this.R)this.R=!1,this.ua.push(250),bf(this);else if(this.L){if(this.L=!1,this.yf){this.ua.clear();this.g.clear();this.g.push(250);switch(a){case 230:this.s=!1;break;case 231:this.s=!0;break;case 232:this.V=!0;break;case 233:af(this,0,0);break;case 235:af(this,0,0);break;case 242:this.g.push(this.j);this.qe=this.Ac=this.Bc=0;this.Ua();break;
case 243:this.X=!0;break;case 244:this.He=this.qd=!0;this.v.send("mouse-enable",!0);this.qe=this.Ac=this.Bc=0;break;case 245:this.qd=!1;break;case 246:this.qd=!1;this.Fd=100;this.s=!1;this.$e=4;break;case 255:this.g.push(170),this.g.push(0),this.He=!0,this.v.send("mouse-enable",!0),this.qd=!1,this.Fd=100,this.s=!1,this.$e=4,this.C||(this.j=0),this.qe=this.Ac=this.Bc=0}cf(this)}}else if(this.$)this.$=!1,this.ga=a;else{this.g.clear();this.ua.clear();this.ua.push(250);switch(a){case 237:this.N=!0;break;
case 240:this.G=!0;break;case 242:this.ua.push(171);this.ua.push(131);break;case 243:this.R=!0;break;case 244:this.sf=!0;break;case 245:this.sf=!1;break;case 255:this.ua.clear(),this.ua.push(250),this.ua.push(170),this.ua.push(0)}bf(this)}};
n.el=function(a){switch(a){case 32:this.ua.clear();this.g.clear();this.ua.push(this.h);bf(this);break;case 96:this.Z=!0;break;case 209:this.$=!0;break;case 211:this.ba=!0;break;case 212:this.L=!0;break;case 167:this.h|=32;break;case 168:this.h&=-33;break;case 169:this.ua.clear();this.g.clear();this.ua.push(0);bf(this);break;case 170:this.ua.clear();this.g.clear();this.ua.push(85);bf(this);break;case 171:this.ua.clear();this.g.clear();this.ua.push(0);bf(this);break;case 173:this.h|=16;break;case 174:this.h&=
-17;break;case 254:Ae(this.u)}};const df=DataView.prototype,ef={size:1,get:df.getUint8,set:df.setUint8},ff={size:2,get:df.getUint16,set:df.setUint16},U={size:4,get:df.getUint32,set:df.setUint32},hf=gf([{Qh:U},{de:ef},{data:ef},{wl:ef},{dm:ef},{Bl:ef},{em:function(a){return{size:a,get:()=>-1}}(7)},{type:ff},{am:ff},{xl:U},{Bh:U},{Qj:U},{ol:U},{flags:U},{wj:ff},{Zh:ff},{$h:ff},{yi:ff},{zi:ff},{hm:ff}]);console.assert(52===hf.reduce((a,b)=>a+b.size,0));const jf=gf([{type:U},{offset:U},{lh:U},{ng:U},{Eh:U},{Og:U},{flags:U},{align:U}]);
console.assert(32===jf.reduce((a,b)=>a+b.size,0));const kf=gf([{name:U},{type:U},{flags:U},{Cl:U},{offset:U},{size:U},{link:U},{info:U},{El:U},{Ul:U}]);console.assert(40===kf.reduce((a,b)=>a+b.size,0));function gf(a){return a.map(function(b){var c=Object.keys(b);console.assert(1===c.length);c=c[0];b=b[c];console.assert(0<b.size);return{name:c,type:b,size:b.size,get:b.get,set:b.set}})}
function lf(a,b){const c={};let d=0;for(const e of b)b=e.get.call(a,d,!0),console.assert(void 0===c[e.name]),c[e.name]=b,d+=e.size;return[c,d]}function mf(a,b,c){const d=[];let e=0;for(var f=0;f<c;f++){const [h,g]=lf(new DataView(a.buffer,a.byteOffset+e,void 0),b);d.push(h);e+=g}return[d,e]};function nf(a,b){this.B=a.B;this.u=a;this.Gb=a.A.Gb;this.h=0;this.V=new Uint8Array(10);this.X=0;this.i=null;this.g=new Uint8Array(10);this.R=this.D=this.ba=this.ga=this.G=this.s=this.l=this.j=0;this.Z=1;this.L=this.C=0;this.rd=null;b?this.Kf(b):(this.bg(),this.u.A.Ed.fa[16]=64);w(this.B,1008,this,this.Qk);w(this.B,1010,this,this.Rk);w(this.B,1012,this,this.Tk);w(this.B,1013,this,this.Vk);w(this.B,1015,this,this.Xk);t(this.B,1010,this,this.Sk);t(this.B,1012,this,this.Uk);t(this.B,1013,this,this.Wk)}
n=nf.prototype;n.bg=function(){this.rd=null;this.$=this.N=this.o=0;this.L=128};
n.Kf=function(a){var b={[163840]:{type:1,Rb:40,Qb:8,Ib:1},[184320]:{type:1,Rb:40,Qb:9,Ib:1},[204800]:{type:1,Rb:40,Qb:10,Ib:1},[327680]:{type:1,Rb:40,Qb:8,Ib:2},[368640]:{type:1,Rb:40,Qb:9,Ib:2},[409600]:{type:1,Rb:40,Qb:10,Ib:2},[737280]:{type:3,Rb:80,Qb:9,Ib:2},[1228800]:{type:2,Rb:80,Qb:15,Ib:2},[1474560]:{type:4,Rb:80,Qb:18,Ib:2},[1763328]:{type:5,Rb:82,Qb:21,Ib:2},[2949120]:{type:5,Rb:80,Qb:36,Ib:2},512:{type:1,Rb:1,Qb:1,Ib:1}};let c=a.byteLength,d=b[c];d||(c=1474560<a.byteLength?2949120:1474560,
d=b[c],b=new Uint8Array(c),b.set(new Uint8Array(a.buffer)),a=new Da(b.buffer));this.o=d.Qb;this.N=d.Ib;this.$=d.Rb;this.rd=a;this.L=128;this.u.A.Ed.fa[16]=d.type<<4};n.ia=function(){var a=[];a[0]=this.h;a[1]=this.V;a[2]=this.X;a[4]=this.g;a[5]=this.j;a[6]=this.l;a[8]=this.s;a[9]=this.G;a[10]=this.ga;a[11]=this.ba;a[12]=this.D;a[13]=this.R;a[14]=this.Z;a[15]=this.C;a[16]=this.o;a[17]=this.N;a[18]=this.$;return a};
n.I=function(a){this.h=a[0];this.V=a[1];this.X=a[2];this.i=a[3];this.g=a[4];this.j=a[5];this.l=a[6];this.s=a[8];this.G=a[9];this.ga=a[10];this.ba=a[11];this.D=a[12];this.R=a[13];this.Z=a[14];this.C=a[15];this.o=a[16];this.N=a[17];this.$=a[18]};n.Qk=function(){return 0};n.Tk=function(){var a=128;this.j<this.l&&(a|=80);0===(this.C&8)&&(a|=32);return a};n.Xk=function(){return this.L};n.Vk=function(){return this.j<this.l?(Fb(this.u,6),this.g[this.j++]):255};n.Uk=function(a){a&128&&(this.s=192,this.u.ab(6))};
n.Wk=function(a){if(0<this.h)this.V[this.X++]=a,this.h--,0===this.h&&this.i.call(this,this.V);else{switch(a){case 3:this.i=this.Bj;this.h=2;break;case 19:this.i=this.fj;this.h=3;break;case 4:this.i=this.cj;this.h=1;break;case 5:case 69:case 197:this.i=function(b){of(this,!0,b)};this.h=8;break;case 6:case 70:case 198:case 230:this.i=function(b){of(this,!1,b)};this.h=8;break;case 7:this.i=this.aj;this.h=1;break;case 8:this.j=0;this.l=2;this.g[0]=this.s;this.g[1]=this.D;break;case 74:this.i=this.fl;
this.h=1;break;case 15:this.h=2;this.i=this.rh;break;case 14:case 16:this.s=128,this.g[0]=this.s,this.j=0,this.l=1,this.h=0}this.X=0}};n.Rk=function(){return this.C};n.Sk=function(a){4===(a&4)&&0===(this.C&4)&&(this.s=192,this.u.ab(6));this.C=a};n.cj=function(){this.G=this.rd?0:5;this.j=0;this.l=1;this.g[0]=0};n.rh=function(a){if(0===(a[0]&3)){var b=a[1];a=a[0]>>2&1;b!==this.D&&(this.L=0);this.G=this.rd?0:5;this.s=32;this.D=b;this.R=a}this.Ua()};n.aj=function(a){this.rh([a[0],0])};
function of(a,b,c){var d=c[2],e=c[1],f=c[3],h=128<<c[4],g=c[5]-c[3]+1,k=((d+a.N*e)*a.o+f-1)*h;a.rd?(a.G=0,b?a.Gb.rf(a.rd,k,g*h,2,a.done.bind(a,c,e,d,f)):Va(a.Gb,a.rd,k,a.done.bind(a,c,e,d,f))):a.G=5}n.done=function(a,b,c,d,e){e||(d++,d>this.o&&(d=1,c++,c>=this.N&&(c=0,b++)),b!==this.D&&(this.L=0),this.s=32,this.D=b,this.R=c,this.Z=d,this.j=0,this.l=7,this.g[0]=c<<2|32,this.g[1]=0,this.g[2]=0,this.g[3]=b,this.g[4]=c,this.g[5]=d,this.g[6]=a[4],this.Ua())};n.Bj=function(){};n.fj=function(){};
n.fl=function(){this.j=0;this.l=7;this.g[0]=0;this.g[1]=0;this.g[2]=0;this.g[3]=0;this.g[4]=0;this.g[5]=0;this.g[6]=0;this.Ua()};n.Ua=function(){this.C&8&&this.u.ab(6)};function pf(a,b,c,d,e,f){this.Oa=new qf(this,a,b,d,e,f);this.Za=new qf(this,a,c,!1,e,f);this.Ha=this.Oa;this.u=a;0===e?(this.g=496,this.la=14,this.Pa=240):1===e&&(this.g=368,this.la=15,this.Pa=248);this.i=this.g|516;this.h=46080;this.O=[134,128,16,112,5,0,160,2,0,128,1,1,0,0,0,0,this.g&255|1,this.g>>8,0,0,this.i&255|1,this.i>>8,0,0,0,0,0,0,0,0,0,0,this.h&255|1,this.h>>8,0,0,0,0,0,0,0,0,0,0,67,16,212,130,0,0,0,0,0,0,0,0,0,0,0,0,this.la,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.Pb=[{size:8},{size:4},void 0,void 0,{size:16}];this.name="ide"+e;this.l=2;w(a.B,this.g|7,this,function(){Fb(this.u,this.la);return this.ti()});w(a.B,this.i|2,this,this.ti);t(a.B,this.i|2,this,this.zl);w(a.B,this.g|0,this,function(){return rf(this.Ha,1)},function(){return rf(this.Ha,2)},function(){return rf(this.Ha,4)});w(a.B,this.g|1,this,function(){return this.Ha.error&
255});w(a.B,this.g|2,this,function(){return this.Ha.oa&255});w(a.B,this.g|3,this,function(){return this.Ha.Qa&255});w(a.B,this.g|4,this,function(){return this.Ha.za&255});w(a.B,this.g|5,this,function(){return this.Ha.Da&255});w(a.B,this.g|6,this,function(){return this.Ha.pd&255});t(a.B,this.g|0,this,function(h){sf(this.Ha,h,1)},function(h){sf(this.Ha,h,2)},function(h){sf(this.Ha,h,4)});t(a.B,this.g|1,this,function(h){this.Oa.ne=(this.Oa.ne<<8|h)&65535;this.Za.ne=(this.Za.ne<<8|h)&65535});t(a.B,this.g|
2,this,function(h){this.Oa.oa=(this.Oa.oa<<8|h)&65535;this.Za.oa=(this.Za.oa<<8|h)&65535});t(a.B,this.g|3,this,function(h){this.Oa.Qa=(this.Oa.Qa<<8|h)&65535;this.Za.Qa=(this.Za.Qa<<8|h)&65535});t(a.B,this.g|4,this,function(h){this.Oa.za=(this.Oa.za<<8|h)&65535;this.Za.za=(this.Za.za<<8|h)&65535});t(a.B,this.g|5,this,function(h){this.Oa.Da=(this.Oa.Da<<8|h)&65535;this.Za.Da=(this.Za.Da<<8|h)&65535});t(a.B,this.g|6,this,function(h){this.Ha=h&16?this.Za:this.Oa;this.Oa.pd=h;this.Za.pd=h;this.Oa.Xe=
this.Za.Xe=h>>6&1;this.Oa.head=this.Za.head=h&15});this.j=this.Ea=this.ye=0;t(a.B,this.g|7,this,function(h){Fb(this.u,this.la);var g=this.Ha;if(g.buffer)switch(g.s=h,g.error=0,h){case 8:g.i=0;g.g=0;g.h=0;tf(g);g.ca();break;case 16:g.status=80;g.za=0;g.ca();break;case 248:g.status=80;var k=g.j-1;g.Qa=k&255;g.za=k>>8&255;g.Da=k>>16&255;g.pd=g.pd&240|k>>24&15;g.ca();break;case 39:g.status=80;k=g.j-1;g.Qa=k&255;g.za=k>>8&255;g.Da=k>>16&255;g.Qa|=k>>24<<8&65280;g.ca();break;case 32:case 36:case 41:case 196:uf(g,
h);break;case 48:case 52:case 57:case 197:var l=52===h||57===h;k=vf(g,l);l=wf(g,l);h=48===h||52===h;k*=g.l;l*=g.l;l+k>g.buffer.byteLength?(g.status=255,g.ca()):(g.status=88,xf(g,k),g.g=h?512:Math.min(k,512*g.L),g.Z=l);break;case 144:g.ca();g.error=257;g.status=80;break;case 145:g.status=80;g.ca();break;case 160:g.G&&(g.status=88,yf(g,12),g.g=12,g.oa=1,g.ca());break;case 161:g.G?(zf(g),g.status=88,g.za=20,g.Da=235):g.status=65;g.ca();break;case 198:g.L=g.oa&255;g.status=80;g.ca();break;case 37:case 200:k=
37===h;l=vf(g,k);wf(g,k)*g.l+l*g.l>g.buffer.byteLength?(g.status=255,g.ca()):(g.status=88,g.Aa.Ea|=1);break;case 53:case 202:k=53===h;l=vf(g,k);wf(g,k)*g.l+l*g.l>g.buffer.byteLength?(g.status=255,g.ca()):(g.status=88,g.Aa.Ea|=1);break;case 64:g.status=80;g.ca();break;case 218:g.status=65;g.error=4;g.ca();break;case 224:g.status=80;g.ca();break;case 225:g.status=80;g.ca();break;case 231:g.status=80;g.ca();break;case 236:if(g.G){g.status=65;g.error=4;g.ca();break}zf(g);g.status=88;g.ca();break;case 234:g.status=
80;g.ca();break;case 239:g.status=80;g.ca();break;case 222:g.status=80;g.ca();break;case 245:g.status=80;g.ca();break;case 249:g.status=65;g.error=4;break;default:g.status=65,g.error=4}else g.error=4,g.status=65,g.ca()});w(a.B,this.h|4,this,void 0,void 0,this.oj);t(a.B,this.h|4,this,void 0,void 0,this.sj);w(a.B,this.h,this,this.qj,void 0,this.pj);t(a.B,this.h,this,this.yh,void 0,this.tj);w(a.B,this.h|2,this,this.rj);t(a.B,this.h|2,this,this.zh);w(a.B,this.h|8,this,function(){return 0});w(a.B,this.h|
10,this,function(){return 0});oe(a.A.eb,this)}n=pf.prototype;n.ti=function(){return this.Ha.buffer?this.Ha.status:0};n.zl=function(a){a&4&&(Fb(this.u,this.la),tf(this.Oa),tf(this.Za));this.l=a};n.oj=function(){return this.ye};n.sj=function(a){this.ye=a};n.rj=function(){return this.Ea};n.zh=function(a){this.Ea&=~(a&6)};n.pj=function(){return this.j|this.Ea<<16};n.qj=function(){return this.j};n.tj=function(a){this.yh(a&255);this.zh(a>>16&255)};
n.yh=function(a){const b=this.j;this.j=a&9;if((b&1)!==(a&1))if(0===(a&1))this.Ea&=-2;else switch(this.Ea|=1,this.Ha.s){case 37:case 200:Af(this.Ha);break;case 202:case 53:Bf(this.Ha);break;case 160:Cf(this.Ha)}};n.ca=function(){0===(this.l&2)&&(this.Ea|=4,this.u.ab(this.la))};n.ia=function(){var a=[];a[0]=this.Oa;a[1]=this.Za;a[2]=this.g;a[3]=this.la;a[4]=this.Pa;a[5]=this.i;a[6]=this.h;a[7]=this.name;a[8]=this.l;a[9]=this.ye;a[10]=this.Ea;a[11]=this.Ha===this.Oa;a[12]=this.j;return a};
n.I=function(a){this.Oa.I(a[0]);this.Za.I(a[1]);this.g=a[2];this.la=a[3];this.Pa=a[4];this.i=a[5];this.h=a[6];this.name=a[7];this.l=a[8];this.ye=a[9];this.Ea=a[10];this.Ha=a[11]?this.Oa:this.Za;this.j=a[12]};
function qf(a,b,c,d,e,f){this.Aa=a;this.v=f;this.$=e;this.u=b;this.buffer=c;this.l=d?2048:512;this.G=d;this.D=this.o=this.C=this.j=0;this.buffer&&(this.j=this.buffer.byteLength/this.l,this.j!==(this.j|0)&&(this.j=Math.ceil(this.j)),d?(this.C=1,this.o=0):(this.C=16,this.o=63),this.D=this.j/this.C/this.o,this.D!==(this.D|0)&&(this.D=Math.floor(this.D)),a=b.A.Ed,a.fa[57]|=1<<4*this.$,a.fa[18]=a.fa[18]&15|240,a.fa[27]=this.D&255,a.fa[28]=this.D>>8&255,a.fa[29]=this.C&255,a.fa[30]=255,a.fa[31]=255,a.fa[32]=
200,a.fa[33]=this.D&255,a.fa[34]=this.D>>8&255,a.fa[35]=this.o&255);this.buffer=c;this.pd=this.head=this.Da=this.za=this.ne=this.Qa=this.oa=this.Xe=0;this.status=80;this.L=128;this.i=this.error=0;this.data=new Uint8Array(65536);this.X=new Uint16Array(this.data.buffer);this.N=new Int32Array(this.data.buffer);this.g=this.h=0;this.V=this.s=-1;this.ga=this.Z=0;this.R=new Set;this.ba=new Set;Object.seal(this)}
function tf(a){a.G?(a.status=0,a.oa=1,a.error=1,a.Qa=1,a.za=20,a.Da=235):(a.status=81,a.oa=1,a.error=1,a.Qa=1,a.za=0,a.Da=0);for(const b of a.R)a.ba.add(b);a.R.clear()}n=qf.prototype;n.ca=function(){this.Aa.ca()};n.rf=function(){this.status=80;var a=this.data.subarray(0,this.h);Df(this,this.s,this.h/512);this.ca();this.buffer.set(this.Z,a,function(){});Ef(this,this.h)};
function Ff(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;a.h=0;var d=a.Da<<8&65280|a.za&255;a.za=a.Da=0;65535===d&&d--;d>c&&(d=c);b>=a.buffer.byteLength?(a.status=255,a.ca()):0===c?(a.status=80,a.i=0):(c=Math.min(c,a.buffer.byteLength-b),a.status=208,Gf(a),a.qa(b,c,e=>{Hf(a,e);a.status=88;a.oa=a.oa&-8|2;a.ca();d&=-4;a.g=d;a.g>a.h&&(a.g=a.h);a.za=a.g&255;a.Da=a.g>>8&255;If(a,c)}))}
function Jf(a,b){var c=(b[7]<<8|b[8])*a.l;b=(b[2]<<24|b[3]<<16|b[4]<<8|b[5])*a.l;b>=a.buffer.byteLength?(a.status=255,a.ca()):(a.status=208,Gf(a),a.qa(b,c,d=>{If(a,c);a.status=88;a.oa=a.oa&-8|2;Hf(a,d);Cf(a)}))}function Cf(a){if(0!==(a.Aa.Ea&1)&&0!==(a.status&8)){var b=a.Aa.ye,c=0,d=a.data;do{var e=a.u.h(b),f=a.u.hb(b+4),h=a.u.Be(b+7)&128;f||(f=65536);Xa(a.u,d.subarray(c,Math.min(c+f,a.h)),e);c+=f;b+=8;if(c>=a.h&&!h)break}while(!h);a.status=80;a.Aa.Ea&=-2;a.oa=a.oa&-8|3;a.ca()}}
function rf(a,b){if(a.i<a.g){var c=1===b?a.data[a.i]:2===b?a.X[a.i>>>1]:a.N[a.i>>>2];a.i+=b;a.i>=a.g&&(160===a.s?a.g===a.h?(a.status=80,a.oa=a.oa&-8|3,a.ca()):(a.status=88,a.oa=a.oa&-8|2,a.ca(),b=a.Da<<8&65280|a.za&255,a.g+b>a.h?(a.za=a.h-a.g&255,a.Da=a.h-a.g>>8&255,a.g=a.h):a.g+=b):(a.error=0,a.i>=a.h?a.status=80:(b=196===a.s||41===a.s?Math.min(a.L,(a.h-a.g)/512):1,Df(a,a.s,b),a.g+=512*b,a.status=88,a.ca())));return c}a.i+=b;return 0}
function sf(a,b,c){if(!(a.i>=a.g)&&(1===c?a.data[a.i++]=b:2===c?(a.X[a.i>>>1]=b,a.i+=2):(a.N[a.i>>>2]=b,a.i+=4),a.i===a.g))if(160===a.s){a.i=0;a.V=a.data[0];switch(a.V){case 0:yf(a,0);a.g=a.h;a.status=80;break;case 3:yf(a,a.data[4]);a.g=a.h;a.status=88;a.data[0]=240;a.data[2]=5;a.data[7]=8;break;case 18:b=a.data[4];a.status=88;a.data.set([5,128,1,49,31,0,0,0,83,79,78,89,32,32,32,32,67,68,45,82,79,77,32,67,68,85,45,49,48,48,48,32,49,46,49,97]);a.g=a.h=Math.min(36,b);break;case 26:yf(a,a.data[4]);a.g=
a.h;a.status=88;break;case 30:yf(a,0);a.g=a.h;a.status=80;break;case 37:b=a.j-1;Hf(a,new Uint8Array([b>>24&255,b>>16&255,b>>8&255,b&255,0,0,a.l>>8&255,a.l&255]));a.g=a.h;a.status=88;break;case 40:a.ne&1?Jf(a,a.data):Ff(a,a.data);break;case 66:b=a.data[8];yf(a,Math.min(8,b));a.g=a.h;a.status=88;break;case 67:b=a.data[8]|a.data[7]<<8;c=a.data[9]>>6;yf(a,b);a.g=a.h;0===c?(b=a.j,a.data.set(new Uint8Array([0,18,1,1,0,20,1,0,0,0,0,0,0,22,170,0,b>>24,b>>16&255,b>>8&255,b&255]))):1===c&&a.data.set(new Uint8Array([0,
10,1,1,0,0,0,0,0,0,0,0]));a.status=88;break;case 70:b=a.data[8]|a.data[7]<<8;b=Math.min(b,32);yf(a,b);a.g=a.h;a.data[0]=b-4>>24&255;a.data[1]=b-4>>16&255;a.data[2]=b-4>>8&255;a.data[3]=b-4&255;a.data[6]=8;a.data[10]=3;a.status=88;break;case 81:yf(a,0);a.g=a.h;a.status=80;break;case 82:a.status=81;a.h=0;a.error=80;break;case 90:b=a.data[8]|a.data[7]<<8;42===a.data[2]&&yf(a,Math.min(30,b));a.g=a.h;a.status=88;break;case 189:yf(a,a.data[9]|a.data[8]<<8);a.g=a.h;a.data[5]=1;a.status=88;break;case 74:a.status=
81;a.h=0;a.error=80;break;case 190:yf(a,0);a.g=a.h;a.status=80;break;default:a.status=81,a.h=0,a.error=80}a.oa=a.oa&-8|2;0===(a.status&128)&&a.ca();0===(a.status&128)&&0===a.h&&(a.oa|=1,a.status&=-9)}else a.i>=a.h?a.rf():(a.status=88,a.g+=512,a.ca())}
function Df(a,b,c){a.oa-=c;36===b||41===b||52===b||57===b||37===b||53===b?(b=c+Kf(a),a.Qa=b&255|b>>16&65280,a.za=b>>8&255,a.Da=b>>16&255):a.Xe?(b=c+Lf(a),a.Qa=b&255,a.za=b>>8&255,a.Da=b>>16&255,a.head=a.head&-16|b&15):(b=c+Mf(a),c=b/(a.C*a.o)|0,a.za=c&255,a.Da=c>>8&255,a.head=(b/a.o|0)%a.C&15,a.Qa=b%a.o+1&255,Mf(a))}
function uf(a,b){var c=36===b||41===b,d=vf(a,c);c=wf(a,c);var e=32===b||36===b,f=d*a.l;c*=a.l;c+f>a.buffer.byteLength?(a.status=255,a.ca()):(a.status=192,Gf(a),a.qa(c,f,h=>{Hf(a,h);a.status=88;a.g=e?512:Math.min(f,512*a.L);Df(a,b,e?1:Math.min(d,a.o));a.ca();If(a,f)}))}
function Af(a){var b=37===a.s,c=vf(a,b);b=wf(a,b);var d=c*a.l;b*=a.l;Gf(a);a.qa(b,d,e=>{var f=a.Aa.ye,h=0;do{var g=a.u.h(f),k=a.u.hb(f+4),l=a.u.Be(f+7)&128;k||(k=65536);Xa(a.u,e.subarray(h,h+k),g);h+=k;f+=8}while(!l);Df(a,a.s,c);a.status=80;a.Aa.Ea&=-2;a.s=-1;a.ca();If(a,d)})}
function Bf(a){var b=53===a.s,c=vf(a,b),d=wf(a,b);b=c*a.l;d*=a.l;var e=a.Aa.ye,f=0;const h=new Uint8Array(b);do{var g=a.u.h(e),k=a.u.hb(e+4),l=a.u.Be(e+7)&128;k||(k=65536);h.set(a.u.nb.subarray(g,g+k),f);f+=k;e+=8}while(!l);a.buffer.set(d,h,()=>{Df(a,a.s,c);a.status=80;a.ca();a.Aa.Ea&=-2;a.s=-1});Ef(a,b)}function Mf(a){return((a.za&255|a.Da<<8&65280)*a.C+a.head)*a.o+(a.Qa&255)-1}function Lf(a){return a.Qa&255|a.za<<8&65280|a.Da<<16&16711680|(a.head&15)<<24}
function Kf(a){return(a.Qa&255|a.za<<8&65280|a.Da<<16&16711680|a.Qa>>8<<24&4278190080)>>>0}function wf(a,b){return b?Kf(a):a.Xe?Lf(a):Mf(a)}function vf(a,b){b?(a=a.oa,0===a&&(a=65536)):(a=a.oa&255,0===a&&(a=256));return a}
function zf(a){if(a.pd&16)yf(a,0);else{for(var b=0;512>b;b++)a.data[b]=0;b=Math.min(16383,a.D);Hf(a,[64,a.G?133:0,b,b>>8,0,0,a.C,a.C>>8,a.o/512,a.o/512>>8,0,2,a.o,a.o>>8,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,3,0,0,2,4,0,0,0,0,0,0,0,0,0,56,118,32,54,68,72,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,32,128,0,1,0,0,2,0,0,0,2,0,2,7,0,b,b>>8,a.C,a.C>>8,a.o,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255,0,0,a.j&255,a.j>>8&255,a.j>>16&255,
a.j>>24&255,0,0,160===a.s?0:7,160===a.s?0:4,0,0,30,0,30,0,30,0,30,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,126,0,0,0,0,0,0,116,0,64,0,64,0,116,0,64,0,0,0,0,0,0,0,0,0,0,1,96,0,0,0,0,0,0,0,0,0,0,0,0,a.j&255,a.j>>8&255,a.j>>16&255,a.j>>24&255]);a.h=512;a.g=512}}function yf(a,b){xf(a,b);for(var c=0;c<b+3>>2;c++)a.N[c]=0}function xf(a,b){a.data.length<b&&(a.data=new Uint8Array(b+3&-4),a.X=new Uint16Array(a.data.buffer),a.N=new Int32Array(a.data.buffer));a.h=b;a.i=0}
function Hf(a,b){xf(a,b.length);a.data.set(b)}function Gf(a){a.v.send("ide-read-start")}function If(a,b){a.v.send("ide-read-end",[a.$,b,b/a.l|0])}function Ef(a,b){a.v.send("ide-write-end",[a.$,b,b/a.l|0])}n.qa=function(a,b,c){const d=this.ga++;this.R.add(d);this.buffer.get(a,b,e=>{this.ba.delete(d)?this.R.has(d):(this.R.delete(d),c(e))})};
n.ia=function(){var a=[];a[0]=this.oa;a[1]=this.D;a[2]=this.Da;a[3]=this.za;a[4]=this.i;a[5]=0;a[6]=0;a[7]=0;a[8]=0;a[9]=this.pd;a[10]=this.error;a[11]=this.head;a[12]=this.C;a[13]=this.G;a[14]=this.Xe;a[15]=this.ne;a[16]=this.data;a[17]=this.h;a[18]=this.Qa;a[19]=this.j;a[20]=this.l;a[21]=this.L;a[22]=this.o;a[23]=this.status;a[24]=this.Z;a[25]=this.s;a[26]=this.g;a[27]=this.V;a[28]=this.buffer;return a};
n.I=function(a){this.oa=a[0];this.D=a[1];this.Da=a[2];this.za=a[3];this.i=a[4];this.pd=a[9];this.error=a[10];this.head=a[11];this.C=a[12];this.G=a[13];this.Xe=a[14];this.ne=a[15];this.data=a[16];this.h=a[17];this.Qa=a[18];this.j=a[19];this.l=a[20];this.L=a[21];this.o=a[22];this.status=a[23];this.Z=a[24];this.s=a[25];this.g=a[26];this.V=a[27];this.X=new Uint16Array(this.data.buffer);this.N=new Int32Array(this.data.buffer);this.buffer&&this.buffer.I(a[28])};function Nf(a,b,c){this.v=b;this.id=a.A.da?1:0;this.status=1;this.ze=c;this.ka=new Uint8Array([0,34,21,255*Math.random()|0,255*Math.random()|0,255*Math.random()|0]);this.v.send("net"+this.id+"-mac",He(this.ka));b=[];for(c=0;1>c;++c)b.push({La:1024,Ya:0}),b.push({La:1024,Ya:1});b.push({La:16,Ya:2});this.M=new Oe(a,{name:"virtio-net",Pa:80,he:4161,Lf:1,fe:{Sa:51200,Y:b,features:[5,16,22,3,17,23,32],Qg:()=>{}},notification:{Sa:51456,tg:!1,eg:[()=>{},d=>{const e=this.M.Y[d];for(;Pe(e);){const f=Qe(e),
h=new Uint8Array(f.Mb);Re(f,h);this.v.send("net"+this.id+"-send",h.subarray(12));this.v.send("eth-transmit-end",[h.length-12]);Ye(this.M.Y[d],f)}Ze(this.M.Y[d])},d=>{if(2===d)for(var e=this.M.Y[d];Pe(e);){const f=Qe(e),h=new Uint8Array(f.Mb);Re(f,h);const g=N(["b","b"],h,{offset:0});switch(g[0]<<8|g[1]){case 1024:N(["h"],h,{offset:2});this.ld(d,f,new Uint8Array([0]));break;case 257:this.ka=h.subarray(2,8);this.ld(d,f,new Uint8Array([0]));this.v.send("net"+this.id+"-mac",He(this.ka));break;default:this.ld(d,
f,new Uint8Array([1]));return}}}]},Lb:{Sa:50944},pf:{Sa:50688,Fc:[0,1,2,3,4,5].map((d,e)=>({bytes:1,name:"mac_"+e,read:()=>this.ka[e],write:()=>{}})).concat([{bytes:2,name:"status",read:()=>this.status,write:()=>{}},{bytes:2,name:"max_pairs",read:()=>1,write:()=>{}},{bytes:2,name:"mtu",read:()=>1500,write:()=>{}}])}});this.v.register("net"+this.id+"-receive",d=>{this.v.send("eth-receive-end",[d.length]);const e=new Uint8Array(12+d.byteLength);(new DataView(e.buffer,e.byteOffset,e.byteLength)).setInt16(10,
1);e.set(d,12);d=this.M.Y[0];Pe(d)?(d=Qe(d),Xe(d,e),Ye(this.M.Y[0],d),Ze(this.M.Y[0])):console.log("No buffer to write into!")},this)}Nf.prototype.ia=function(){const a=[];a[0]=this.M;a[1]=this.id;a[2]=this.ka;return a};Nf.prototype.I=function(a){this.M.I(a[0]);this.id=a[1];this.ze&&(this.ka=a[2],this.v.send("net"+this.id+"-mac",He(this.ka)))};Nf.prototype.reset=function(){this.M.reset()};Nf.prototype.ld=function(a,b,c){Xe(b,c);Ye(this.M.Y[a],b);Ze(this.M.Y[a])};const Of=Uint32Array.from([655360,655360,720896,753664]),Pf=Uint32Array.from([131072,65536,32768,32768]);
function Qf(a,b,c,d){this.u=a;this.v=b;this.screen=c;this.ma=d;this.V=0;this.Vc=14;this.Qd=15;this.zb=80;this.fd=25;this.ae=this.l=this.Id=this.Cb=0;this.dd=[];this.$d=this.g=0;this.Rc=new Uint8Array(25);this.L=this.ba=this.Zd=this.Db=this.C=this.G=this.Zc=this.ad=this.o=0;this.h=!1;this.Z=new Int32Array(256);this.D=0;this.Sf=45253;this.X=this.s=0;this.j=!1;this.Ga=32;this.Pd=this.Od=this.Sb=this.wc=0;void 0===this.ma||262144>this.ma?this.ma=262144:268435456<this.ma?this.ma=268435456:this.ma=ra(this.ma);
this.O=[52,18,17,17,3,1,0,0,0,0,0,3,0,0,0,0,8,14680064,57344,224,0,0,0,0,0,0,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,0,17,0,0,190,254,0,0,0,0,0,0,0,0,0,0,0,0];this.Pa=144;this.Pb=[{size:this.ma}];this.Xh=65536;this.Pj=4272947200;this.name="vga";this.jc=this.Wc=this.ic=this.wa=0;this.jb=255;this.gb=new Uint8Array(16);this.R=-1;this.gd=32;this.hc=this.cd=this.Pc=this.i=0;this.Md=-1;this.Bb=15;this.Tb=this.Nd=0;this.Xc=-1;this.uc=this.Ab=this.Yd=this.fb=0;this.Wd=255;this.$=this.Vb=this.Ub=this.sc=
this.Xd=this.kd=0;this.N=this.Ke=255;this.lc=!1;b=a.B;t(b,960,this,this.xk);w(b,960,this,this.fi,this.wk);w(b,961,this,this.gi);t(b,962,this,this.yk);b.hd(964,this,this.Ak,this.Ck);w(b,964,this,this.zk);w(b,965,this,this.Bk);b.hd(974,this,this.Nk,this.Pk);w(b,974,this,this.Mk);w(b,975,this,this.Ok);w(b,966,this,this.Dk);t(b,966,this,this.Ek);t(b,967,this,this.Gk);w(b,967,this,this.Fk);t(b,968,this,this.Ik);w(b,968,this,this.Hk);t(b,969,this,this.Kk);w(b,969,this,this.Jk);w(b,972,this,this.Lk);t(b,
980,this,this.Tg,this.ii);t(b,981,this,this.pg,this.ki);w(b,980,this,this.hi);w(b,981,this,this.Ug,this.ji);t(b,948,this,this.Tg,this.ii);t(b,949,this,this.pg,this.ki);w(b,948,this,this.hi);w(b,949,this,this.Ug,this.ji);w(b,970,this,function(){return 0});w(b,986,this,this.li);w(b,954,this,this.li);this.Vd=-1;this.kb=0;t(b,462,this,void 0,this.Rj);t(b,463,this,void 0,this.Tj);w(b,463,this,void 0,this.Sj);c=a.Ui(this.ma)>>>0;this.Oe=q(Uint8Array,a.Ma,c,this.ma);this.Sd=this.ma;this.Rd=0;this.Ud=this.ma;
this.Td=0;this.yc=null;this.ga=new Uint8Array(262144);this.Le=new Uint8Array(this.ga.buffer,0,65536);this.Me=new Uint8Array(this.ga.buffer,65536,65536);this.Hd=new Uint8Array(this.ga.buffer,131072,65536);this.Ne=new Uint8Array(this.ga.buffer,196608,65536);this.jd=new Uint8Array(524288);$a(b,655360,131072,e=>Rf(this,e),(e,f)=>{if(this.j)this.u.Ag((e-655360|this.wc)+3758096384|0,f);else{var h=this.sc>>2&3;e-=Of[h];if(!(0>e||e>=Pf[h]))if(this.h){var g=f;f=Sf(this.Wd);var k=Tf(this.kd);h=Tf(this.Xd);
switch(this.Ab&3){case 0:g=(g|g<<8)>>>(this.uc&7)&255;var l=Sf(g);g=Tf(this.kd);l=Uf(this,(l|h&g)&(~h|g),this.D);l=f&l|~f&this.D;break;case 1:l=this.D;break;case 2:l=Tf(g);l=Uf(this,l,this.D);l=f&l|~f&this.D;break;case 3:g=(g|g<<8)>>>(this.uc&7)&255,f&=Sf(g),l=f&k|~f&this.D}f=15;switch(this.Nd&12){case 0:f=5<<(e&1);e&=-2;break;case 8:case 12:f=1<<(e&3),e&=-4}f&=this.Bb;f&1&&(this.Le[e]=l>>0&255);f&2&&(this.Me[e]=l>>8&255);f&4&&(this.Hd[e]=l>>16&255);f&8&&(this.Ne[e]=l>>24&255);l=Vf(this,e);f=l+7;
l<this.Ud&&(this.Ud=l);f>this.Td&&(this.Td=f);l<this.Sd&&(this.Sd=l);f>this.Rd&&(this.Rd=f)}else if(this.Bb&3){if(h=e,this.ga[h]=f,e=Math.max(this.zb,2*this.ba),h>>1>=this.g?(g=(h>>1)-this.g,l=g/e|0,e=g%e):(g=h>>1,l=(g/e|0)+Wf(this,this.L),e=g%e),!(e>=this.zb||l>=this.fd)){h&1?(g=f,f=this.ga[h&-2]):g=this.ga[h|1];var m=this.i&8;h=(m&&g&128?this.screen.o:0)|(!this.lc||g&8?0:this.screen.s);k=this.lc?7:15;m=m?7:15;this.v.send("screen-put-char",[l,e,f]);this.screen.j(l,e,f,h,this.Z[this.jb&this.gb[g>>
4&m]],this.Z[this.jb&this.gb[g&k]])}}else this.Bb&4&&(this.Hd[e]=f)}});oe(a.A.eb,this)}n=Qf.prototype;
n.ia=function(){var a=[];a[0]=this.ma;a[1]=this.V;a[2]=this.Vc;a[3]=this.Qd;a[4]=this.zb;a[5]=this.fd;a[6]=this.ga;a[7]=this.jc;a[8]=this.g;a[9]=this.h;a[10]=this.Z;a[11]=this.D;a[12]=this.Ub;a[13]=this.Vb;a[14]=this.sc;a[15]=this.s;a[16]=this.X;a[17]=this.o;a[18]=this.j;a[19]=this.Ga;a[20]=this.wc;a[21]=this.Sb;a[22]=this.wa;a[23]=this.ic;a[24]=this.Wc;a[25]=this.gb;a[26]=this.Md;a[27]=this.Bb;a[28]=this.Nd;a[29]=this.Xc;a[30]=this.Yd;a[31]=this.Ab;a[32]=this.uc;a[33]=this.Wd;a[34]=this.$;a[35]=
this.Ke;a[36]=this.N;a[37]=this.Vd;a[38]=this.kb;a[39]=this.Oe;a[41]=this.R;a[42]=this.ba;a[43]=this.kd;a[44]=this.Xd;a[45]=this.$d;a[46]=this.Rc;a[47]=this.ad;a[48]=this.Zc;a[49]=this.G;a[50]=this.C;a[51]=this.Db;a[52]=this.Zd;a[53]=this.ba;a[54]=this.gd;a[55]=this.i;a[56]=this.Pc;a[57]=this.cd;a[58]=this.hc;a[59]=this.Tb;a[60]=this.L;a[61]=this.jd;a[62]=this.jb;a[63]=this.fb;a[64]=this.lc;return a};
n.I=function(a){this.ma=a[0];this.V=a[1];this.Vc=a[2];this.Qd=a[3];this.zb=a[4];this.fd=a[5];a[6]&&this.ga.set(a[6]);this.jc=a[7];this.g=a[8];this.h=a[9];this.Z=a[10];this.D=a[11];this.Ub=a[12];this.Vb=a[13];this.sc=a[14];this.s=a[15];this.X=a[16];this.o=a[17];this.j=a[18];this.Ga=a[19];this.wc=a[20];this.Sb=a[21];this.wa=a[22];this.ic=a[23];this.Wc=a[24];this.gb=a[25];this.Md=a[26];this.Bb=a[27];this.Nd=a[28];this.Xc=a[29];this.Yd=a[30];this.Ab=a[31];this.uc=a[32];this.Wd=a[33];this.$=a[34];this.Ke=
a[35];this.N=a[36];this.Vd=a[37];this.kb=a[38];this.Oe.set(a[39]);this.R=a[41];this.ba=a[42];this.kd=a[43];this.Xd=a[44];this.$d=a[45];this.Rc.set(a[46]);this.ad=a[47];this.Zc=a[48];this.G=a[49];this.C=a[50];this.Db=a[51];this.Zd=a[52];this.ba=a[53];this.gd=a[54];this.i=a[55];this.Pc=a[56];this.cd=a[57];this.hc=a[58];this.Tb=a[59];this.L=a[60];a[61]&&this.jd.set(a[61]);this.jb=void 0===a[62]?255:a[62];this.fb=void 0===a[63]?0:a[63];this.lc=void 0===a[64]?0:a[64];this.screen.g(this.h);this.h?(this.Id=
this.Cb=0,this.j?(Xf(this,this.s,this.X,this.s,this.X,this.Ga),Yf(this)):(Zf(this),Yf(this),$f(this))):(ag(this,!0),bg(this,this.zb,this.fd),cg(this),dg(this),eg(this));fg(this)};
function Rf(a,b){if(a.j)return a.u.Be((b-655360|a.wc)+3758096384|0);var c=a.sc>>2&3;b-=Of[c];if(0>b||b>=Pf[c])return 0;a.D=a.Le[b];a.D|=a.Me[b]<<8;a.D|=a.Hd[b]<<16;a.D|=a.Ne[b]<<24;if(a.Ab&8)return c=255,a.Vb&1&&(c&=a.Le[b]^~(a.Ub&1?255:0)),a.Vb&2&&(c&=a.Me[b]^~(a.Ub&2?255:0)),a.Vb&4&&(c&=a.Hd[b]^~(a.Ub&4?255:0)),a.Vb&8&&(c&=a.Ne[b]^~(a.Ub&8?255:0)),c;c=a.Yd;a.h?a.Nd&8?(c=b&3,b&=-4):a.Ab&16&&(c=b&1,b&=-2):c&=3;return a.ga[c<<16|b]}function Sf(a){return a|a<<8|a<<16|a<<24}
function Tf(a){return(a&1?255:0)|(a&2?255:0)<<8|(a&4?255:0)<<16|(a&8?255:0)<<24}function Uf(a,b,c){switch(a.uc&24){case 8:return b&c;case 16:return b|c;case 24:return b^c}return b}
function gg(a){const b=Wf(a,a.L),c=Math.max(0,2*(2*a.ba-a.zb)),d=a.i&8,e=a.lc?7:15,f=d?7:15,h=a.screen.o,g=a.screen.s;let k=a.g<<1;for(let l=0;l<a.fd;l++){l===b&&(k=0);for(let m=0;m<a.zb;m++){const p=a.ga[k],r=a.ga[k|1],u=(d&&r&128?h:0)|(!a.lc||r&8?0:g);a.v.send("screen-put-char",[l,m,p]);a.screen.j(l,m,p,u,a.Z[a.jb&a.gb[r>>4&f]],a.Z[a.jb&a.gb[r&e]]);k+=2}k+=c}}
function eg(a){var b=Math.max(a.zb,2*a.ba);let c;a.V>=a.g?(c=(a.V-a.g)/b|0,b=(a.V-a.g)%b):(c=(a.V/b|0)+Wf(a,a.L),b=a.V%b);a.screen.G(c,b)}function fg(a){a.h?a.j?a.u.ad():(a.Sd=0,a.Rd=524288):gg(a)}function $f(a){a.h&&!a.j&&(a.Ud=0,a.Td=524288,fg(a))}n.sa=function(){};function hg(a){var b=128+(~a.Db&a.o&64);b-=a.Db&64;b-=a.i&64;return b>>>6}
function Vf(a,b){var c=hg(a);if(~a.o&3){var d=b-a.g;d&=a.o<<13|-24577;d<<=c;var e=d/a.l|0;d%=a.l;switch(a.o&3){case 2:e=e<<1|b>>13&1;break;case 1:e=e<<1|b>>14&1;break;case 0:e=e<<2|b>>13&3}return e*a.l+d+(a.g<<c)}return b<<c}function Wf(a,b){a.$&128&&(b>>>=1);b=Math.ceil(b/(1+(a.$&31)));a.o&1||(b<<=1);a.o&2||(b<<=1);return b}function bg(a,b,c){a.zb=b;a.fd=c;a.screen.i(b,c);a.v.send("screen-set-size",[b,c,0])}
function Xf(a,b,c,d,e,f){d=Math.max(d,1);e=Math.max(e,1);if(a.Cb!==b||a.Id!==c||a.l!==d||a.ae!==e){a.Cb=b;a.Id=c;a.l=d;a.ae=e;if("undefined"!==typeof ImageData){const h=d*e,g=a.u.Ti(h)>>>0;a.jf=g;a.yc=new ImageData(new Uint8ClampedArray(a.u.Ma.buffer,g,4*h),d,e);a.u.ad()}a.screen.h(b,c);a.v.send("screen-set-size",[b,c,f])}}
function Zf(a){if(!a.j){var b=Math.min(1+a.ad,a.Zc),c=Math.min(1+a.G,a.C);if(b&&c)if(a.h){b<<=3;var d=a.ba<<4,e=4;a.i&64?(b>>>=1,d>>>=1,e=8):a.i&2&&(e=1);c=Wf(a,c);var f=Pf[0];var h=a.ba<<2;a.Db&64?h<<=1:a.o&64&&(h>>>=1);Xf(a,b,c,d,h?Math.ceil(f/h):c,e);ig(a);Yf(a)}else a.$&128&&(c>>>=1),d=c/(1+(a.$&31))|0,b&&d&&bg(a,b,d)}}
function Yf(a){a.h||gg(a);if(a.j)a.dd=[];else if(a.l&&a.Cb)if(!a.gd||a.Tb&32)a.dd=[],a.screen.N();else{var b=a.$d,c=a.cd;a.i&64&&(c>>>=1);var d=a.Zd>>5&3,e=Vf(a,b+d);b=e/a.l|0;var f=e%a.l+c;e=Wf(a,1+a.L);e=Math.min(e,a.Id);var h=a.Id-e;a.dd=[];f=-f;for(var g=0;f<a.Cb;f+=a.l,g++)a.dd.push({yc:a.yc,ah:f,bh:0,Vf:0,Wf:b+g,Eg:a.l,Dg:e});b=0;a.i&32||(b=Vf(a,d)+c);f=-b;for(g=0;f<a.Cb;f+=a.l,g++)a.dd.push({yc:a.yc,ah:f,bh:e,Vf:0,Wf:g,Eg:a.l,Dg:h})}}function ig(a){a.N|=8;a.$d!==a.g&&(a.$d=a.g,Yf(a))}
function dg(a){var b=a.$&31;const c=Math.min(b,a.Vc&31);b=Math.min(b,a.Qd&31);a.screen.L(c,b,!(a.Vc&32)&&c<b)}
n.xk=function(a){if(-1===this.R)this.R=a&31,this.gd!==(a&32)&&(this.gd=a&32,Yf(this));else{if(16>this.R)this.gb[this.R]=a,this.i&64||fg(this);else switch(this.R){case 16:if(this.i!==a){var b=this.i;this.i=a;const c=0!==(a&1);this.j||this.h===c||(this.h=c,this.screen.g(this.h));(b^a)&64&&$f(this);Zf(this);fg(this);ag(this,!1)}break;case 18:this.Pc!==a&&(this.Pc=a,fg(this));break;case 19:this.cd!==a&&(this.cd=a&15,Yf(this));break;case 20:this.hc!==a&&(this.hc=a,fg(this))}this.R=-1}};
n.fi=function(){return(this.R|this.gd)&255};n.wk=function(){return this.fi()|this.gi()<<8&65280};n.gi=function(){if(16>this.R)return this.gb[this.R]&255;switch(this.R){case 16:return this.i;case 18:return this.Pc;case 19:return this.cd;case 20:return this.hc}return 255};n.yk=function(a){this.Ke=a};n.Ak=function(a){this.Md=a};n.zk=function(){return this.Md};
n.Ck=function(a){switch(this.Md){case 1:var b=this.Tb;this.Tb=a;(b^a)&32&&Yf(this);ag(this,!1);break;case 2:b=this.Bb;this.Bb=a;this.h||!(b&4)||this.Bb&4||ag(this,!0);break;case 3:b=this.fb;this.fb=a;this.h||b===a||cg(this);break;case 4:this.Nd=a}};n.Bk=function(){switch(this.Md){case 1:return this.Tb;case 2:return this.Bb;case 3:return this.fb;case 4:return this.Nd;case 6:return 18}return 0};n.Ek=function(a){this.jb!==a&&(this.jb=a,fg(this))};n.Dk=function(){return this.jb};
n.Gk=function(a){this.Wc=3*a;this.jc&=0};n.Fk=function(){return this.jc};n.Ik=function(a){this.ic=3*a;this.jc|=3};n.Hk=function(){return this.ic/3&255};n.Kk=function(a){var b=this.ic/3|0,c=this.ic%3,d=this.Z[b];if(0===(this.kb&32)){a&=63;const e=a&1;a=a<<2|e<<1|e}d=0===c?d&-16711681|a<<16:1===c?d&-65281|a<<8:d&-256|a;this.Z[b]!==d&&(this.Z[b]=d,fg(this));this.ic++};n.Jk=function(){var a=this.Z[this.Wc/3|0]>>8*(2-this.Wc%3)&255;this.Wc++;return this.kb&32?a:a>>2};n.Lk=function(){return this.Ke};
n.Nk=function(a){this.Xc=a};n.Mk=function(){return this.Xc};n.Pk=function(a){switch(this.Xc){case 0:this.kd=a;break;case 1:this.Xd=a;break;case 2:this.Ub=a;break;case 3:this.uc=a;break;case 4:this.Yd=a;break;case 5:var b=this.Ab;this.Ab=a;(b^a)&96&&$f(this);break;case 6:this.sc!==a&&(this.sc=a,Zf(this));break;case 7:this.Vb=a;break;case 8:this.Wd=a}};
n.Ok=function(){switch(this.Xc){case 0:return this.kd;case 1:return this.Xd;case 2:return this.Ub;case 3:return this.uc;case 4:return this.Yd;case 5:return this.Ab;case 6:return this.sc;case 7:return this.Vb;case 8:return this.Wd}return 0};n.Tg=function(a){this.wa=a};n.ii=function(a){this.Tg(a&255);this.pg(a>>8&255)};n.hi=function(){return this.wa};
n.pg=function(a){switch(this.wa){case 1:this.ad!==a&&(this.ad=a,Zf(this));break;case 2:this.Zc!==a&&(this.Zc=a,Zf(this));break;case 7:var b=this.G;this.G&=255;this.G=this.G|a<<3&512|a<<7&256;b!==this.G&&Zf(this);this.L=this.L&767|a<<4&256;b=this.C;this.C=this.C&767|a<<5&256;b!==this.C&&Zf(this);Yf(this);break;case 8:this.Zd=a;Yf(this);break;case 9:var c=this.$;this.$=a;this.L=this.L&511|a<<3&512;b=this.C;this.C=this.C&511|a<<4&512;((c^this.$)&159||b!==this.C)&&Zf(this);dg(this);Yf(this);ag(this,!1);
break;case 10:this.Vc=a;dg(this);break;case 11:this.Qd=a;dg(this);break;case 12:(this.g>>8&255)!==a&&(this.g=this.g&255|a<<8,Yf(this),~this.o&3&&$f(this));break;case 13:(this.g&255)!==a&&(this.g=this.g&65280|a,Yf(this),~this.o&3&&$f(this));break;case 14:this.V=this.V&255|a<<8;eg(this);break;case 15:this.V=this.V&65280|a;eg(this);break;case 18:(this.G&255)!==a&&(this.G=this.G&768|a,Zf(this));break;case 19:this.ba!==a&&(this.ba=a,Zf(this),~this.o&3&&$f(this));break;case 20:this.Db!==a&&(b=this.Db,this.Db=
a,Zf(this),(b^a)&64&&$f(this));break;case 21:(this.C&255)!==a&&(this.C=this.C&768|a,Zf(this));break;case 23:this.o!==a&&(b=this.o,this.o=a,Zf(this),(b^a)&67&&$f(this));break;case 24:this.L=this.L&768|a;Yf(this);break;default:this.wa<this.Rc.length&&(this.Rc[this.wa]=a)}};n.ki=function(a){this.pg(a&255)};
n.Ug=function(){switch(this.wa){case 1:return this.ad;case 2:return this.Zc;case 7:return this.G>>7&2|this.C>>5&8|this.L>>4&16|this.G>>3&64;case 8:return this.Zd;case 9:return this.$;case 10:return this.Vc;case 11:return this.Qd;case 12:return this.g&255;case 13:return this.g>>8;case 14:return this.V>>8;case 15:return this.V&255;case 18:return this.G&255;case 19:return this.ba;case 20:return this.Db;case 21:return this.C&255;case 23:return this.o;case 24:return this.L&255}return this.wa<this.Rc.length?
this.Rc[this.wa]:0};n.ji=function(){return this.Ug()};n.li=function(){var a=this.N;this.h?(this.N^=1,this.N&=1):(this.N&1&&(this.N^=8),this.N^=1);this.R=-1;return a};n.Rj=function(a){this.Vd=a};
n.Tj=function(a){const b=this.j;switch(this.Vd){case 0:45248<=a&&45253>=a&&(this.Sf=a);break;case 1:this.s=a;2560<this.s&&(this.s=2560);break;case 2:this.X=a;1600<this.X&&(this.X=1600);break;case 3:this.Ga=a;break;case 4:(this.j=1===(a&1))&&0===(a&128)&&this.Oe.fill(0);this.kb=a;break;case 5:this.wc=a<<16;break;case 8:this.Od!==a&&(this.Od=a,this.Sb=this.Pd*this.s+this.Od,fg(this));break;case 9:this.Pd!==a&&(this.Pd=a,this.Sb=this.Pd*this.s+this.Od,fg(this))}!this.j||this.s&&this.X||(this.j=!1);this.j&&
!b&&(this.Pd=this.Od=this.Sb=0,this.h=!0,this.screen.g(this.h),Xf(this,this.s,this.X,this.s,this.X,this.Ga));this.j||(this.wc=0);Yf(this)};n.Sj=function(){return jg(this,this.Vd)};function jg(a,b){switch(b){case 0:return a.Sf;case 1:return a.kb&2?2560:a.s;case 2:return a.kb&2?1600:a.X;case 3:return a.kb&2?32:a.Ga;case 4:return a.kb;case 5:return a.wc>>>16;case 6:return a.Cb?a.Cb:1;case 8:return a.Od;case 9:return a.Pd;case 10:return a.ma/65536|0}return 255}
n.$g=function(){if(this.h){if(0===this.yc.data.byteLength){var a=new Uint8ClampedArray(this.u.Ma.buffer,this.jf,4*this.l*this.ae);this.yc=new ImageData(a,this.l,this.ae);Yf(this)}if(this.j){a=0;var b=this.X;if(8===this.Ga)for(var c=new Int32Array(this.u.Ma.buffer,this.jf,this.Cb*this.Id),d=new Uint8Array(this.u.Ma.buffer,this.Oe.byteOffset,this.ma),e=0;e<c.length;e++){var f=this.Z[d[e]];c[e]=f&65280|f<<16|f>>16|4278190080}else this.u.Yi(this.Ga,this.Sb),e=15===this.Ga?2:this.Ga/8,a=((this.u.Vi[0]/
e|0)-this.Sb)/this.s|0,b=(((this.u.Li[0]/e|0)-this.Sb)/this.s|0)+1;a<b&&(a=Math.max(a,0),b=Math.min(b,this.X),this.screen.l([{yc:this.yc,ah:0,bh:a,Vf:0,Wf:a,Eg:this.s,Dg:b-a}]))}else{a=Math.min(this.Td|15,524287);e=hg(this);f=~this.o&3;b=this.Ab&96;c=this.i&64;for(d=this.Ud&-16;d<=a;){var h=d>>>e;if(f){var g=d/this.l|0,k=d-this.l*g;switch(f){case 1:h=(g&1)<<13;g>>>=1;break;case 2:h=(g&1)<<14;g>>>=1;break;case 3:h=(g&3)<<13,g>>>=2}h|=(g*this.l+k>>>e)+this.g}g=this.Le[h];k=this.Me[h];var l=this.Hd[h],
m=this.Ne[h];h=new Uint8Array(8);switch(b){case 0:g<<=0;k<<=1;l<<=2;m<<=3;for(var p=7;0<=p;p--)h[7-p]=g>>p&1|k>>p&2|l>>p&4|m>>p&8;break;case 32:h[0]=g>>6&3|l>>4&12;h[1]=g>>4&3|l>>2&12;h[2]=g>>2&3|l>>0&12;h[3]=g>>0&3|l<<2&12;h[4]=k>>6&3|m>>4&12;h[5]=k>>4&3|m>>2&12;h[6]=k>>2&3|m>>0&12;h[7]=k>>0&3|m<<2&12;break;case 64:case 96:h[0]=g>>4&15,h[1]=g>>0&15,h[2]=k>>4&15,h[3]=k>>0&15,h[4]=l>>4&15,h[5]=l>>0&15,h[6]=m>>4&15,h[7]=m>>0&15}if(c)for(g=p=0;4>p;p++,d++,g+=2)this.jd[d]=h[g]<<4|h[g+1];else for(p=0;8>
p;p++,d++)this.jd[d]=h[p]}c=this.Sd;a=Math.min(this.Rd,524287);b=new Int32Array(this.u.Ma.buffer,this.jf,this.l*this.ae);e=255;f=0;this.i&128&&(e&=207,f|=this.hc<<4&48);if(this.i&64)for(;c<=a;c++)d=this.jd[c]&e|f,d=this.Z[d],b[c]=d&65280|d<<16|d>>16|4278190080;else for(e&=63,f|=this.hc<<4&192;c<=a;c++)d=this.gb[this.jd[c]&this.Pc]&e|f,d=this.Z[d],b[c]=d&65280|d<<16|d>>16|4278190080;this.screen.l(this.dd)}this.Sd=this.ma;this.Rd=0;this.Ud=this.ma;this.Td=0}ig(this)};
function ag(a,b){const c=a.$&31;if(c&&!a.h){const d=!!(a.Tb&8);a.screen.C(c+1,!d&&!(a.Tb&1),d,!!(a.i&4),a.Hd,b)}}function cg(a){const b=[0,2,4,6,1,3,5,7],c=(a.fb&12)>>2|(a.fb&32)>>3,d=a.fb&3|(a.fb&16)>>2;a.lc=c!==d;a.screen.D(b[c],b[d]);fg(a)};const kg="SWAP_IN SWAP_OUT MAJFLT MINFLT MEMFREE MEMTOT AVAIL CACHES HTLB_PGALLOC HTLB_PGFAIL".split(" ");
function lg(a,b){this.v=b;this.j=this.h=this.g=this.i=0;this.M=new Oe(a,{name:"virtio-balloon",Pa:88,he:4165,Lf:5,fe:{Sa:55296,Y:[{La:32,Ya:0},{La:32,Ya:0},{La:2,Ya:1},{La:64,Ya:2}],features:[1,3,32],Qg:()=>{}},notification:{Sa:55552,tg:!1,eg:[c=>{const d=this.M.Y[c];for(;Pe(d);){var e=Qe(d);const f=new Uint8Array(e.Mb);Re(e,f);Ye(this.M.Y[c],e);e=f.byteLength/4;this.g+=0===c?e:-e}Ze(this.M.Y[c])},c=>{var d=this.M.Y[c];if(Pe(d)){d=Qe(d);const e=new Uint8Array(d.Mb);Re(d,e);let f={};for(let h=0;h<
d.Mb;h+=10){let [g,k]=N(["h","d"],e,{offset:h});f[kg[g]]=k}Ye(this.M.Y[c],d);this.o&&this.o(f)}},c=>{const d=this.M.Y[c];for(;Pe(d);){const f=Qe(d);if(0<f.Mb){var e=new Uint8Array(f.Mb);Re(f,e);[e]=N(["w"],e,{offset:0});0===e&&(this.l&&this.l(this.j),1<this.h&&(this.h=1),e=this.M,e.D=!0,e.i&4&&e.Ua(2))}if(0<f.j)for(new Uint8Array(0),e=0;e<f.i.length;++e){let h=f.i[e];this.j+=h.Yc;this.M.u.kd(h.Tf,h.Yc)}Ye(this.M.Y[c],f)}Ze(this.M.Y[c])}]},Lb:{Sa:55040},pf:{Sa:54784,Fc:[{bytes:4,name:"num_pages",read:()=>
this.i,write:()=>{}},{bytes:4,name:"actual",read:()=>this.g,write:()=>{}},{bytes:4,name:"free_page_hint_cmd_id",read:()=>this.h,write:()=>{}}]}})}lg.prototype.ia=function(){const a=[];a[0]=this.M;a[1]=this.i;a[2]=this.g;return a};lg.prototype.I=function(a){this.M.I(a[0]);this.i=a[1];this.g=a[2]};function mg(a,b,c,d){var e=new Uint8Array(b);const f=new Uint16Array(b);var h=new Uint32Array(b),g=e[497]||4;if(43605===f[255]&&1400005704===(f[257]|f[258]<<16)){var k=e[529];e[528]=255;e[529]=k&-97|128;f[274]=56832;f[253]=65535;d+="\x00";h[138]=581632;for(e=0;e<d.length;e++)a[581632+e]=d.charCodeAt(e);g=512*(g+1);d=new Uint8Array(b,0,g);b=new Uint8Array(b,g);e=g=0;c&&(g=67108864,e=c.byteLength,a.set(new Uint8Array(c),g));h[134]=g;h[135]=e;a.set(d,524288);a.set(b,1048576);a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=
43605;a[2]=1;c=3;a[c++]=250;a[c++]=184;a[c++]=32768;a[c++]=128;a[c++]=142;a[c++]=192;a[c++]=142;a[c++]=216;a[c++]=142;a[c++]=224;a[c++]=142;a[c++]=232;a[c++]=142;a[c++]=208;a[c++]=188;a[c++]=57344;a[c++]=224;a[c++]=234;a[c++]=0;a[c++]=0;a[c++]=32800;a[c++]=128;h=a[c]=0;for(b=0;b<a.length;b++)h+=a[b];a[c]=-h;return{name:"genroms/kernel.bin",data:a}}};function fe(a,b,c){this.Ri=c;this.Na=b;ng(this);b=Object.create(null);b.m=this.Na.exports.memory;for(var d of Object.keys(this.Na.exports))d.startsWith("_")||d.startsWith("zstd")||d.endsWith("_js")||(b[d]=this.Na.exports[d]);this.Ud=b;this.Ma=d=this.Na.exports.memory;this.F=q(Uint32Array,d,812,1);this.nb=new Uint8Array(0);new Int32Array(this.nb.buffer);this.C=q(Uint8Array,d,724,8);this.gb=q(Int32Array,d,736,8);this.fb=q(Uint32Array,d,768,8);this.s=q(Uint8Array,d,512,8);this.wa=q(Int32Array,d,800,
1);this.jc=q(Int32Array,d,564,1);this.ic=q(Int32Array,d,568,1);this.Vb=q(Int32Array,d,572,1);this.Ub=q(Int32Array,d,576,1);this.gd=q(Int32Array,d,1128,1);this.Pc=q(Uint32Array,d,540,8);this.lb=q(Int32Array,d,580,8);this.Ab=q(Uint8Array,d,612,1);this.ba=q(Int32Array,d,804,1);this.kb=q(Int32Array,d,808,1);this.lc=q(Uint8Array,d,616,1);this.wc=q(Int32Array,d,620,1);this.Cb=q(Int32Array,d,624,1);this.cd=q(Int32Array,d,636,1);this.fd=q(Int32Array,d,640,1);this.dd=q(Int32Array,d,644,1);this.Rc=q(Int32Array,
d,648,1);this.flags=q(Int32Array,d,120,1);this.Db=q(Int32Array,d,100,1);this.uc=q(Int32Array,d,96,1);this.sc=q(Int32Array,d,104,1);q(Int32Array,d,112,1);this.Md=q(Uint32Array,d,960,2);this.A={};this.$=q(Int32Array,d,556,1);this.Vc=q(Int32Array,d,560,1);q(Uint8Array,d,548,1);this.zb=q(Uint8Array,d,552,1);this.g=[];this.j=[];this.ga=[];this.i=[];this.pb={Mg:null,Jd:null};this.Jj=q(Uint32Array,d,664,1);this.o=q(Int32Array,d,64,8);this.Tb=q(Int32Array,d,1152,32);this.X=q(Uint8Array,d,816,1);this.X[0]=
255;this.Z=q(Uint8Array,d,1032,1);this.Z[0]=0;this.D=q(Uint16Array,d,1036,1);this.D[0]=895;this.Nd=q(Uint16Array,d,1040,1);this.Nd[0]=0;this.N=q(Int32Array,d,1048,1);this.N[0]=0;this.R=q(Int32Array,d,1052,1);this.R[0]=0;this.V=q(Int32Array,d,1044,1);this.V[0]=0;this.G=q(Int32Array,d,1056,1);this.G[0]=0;this.L=q(Int32Array,d,1060,1);this.L[0]=0;this.Xc=q(Int32Array,d,832,32);q(Int32Array,d,824,1);this.jb=q(Uint16Array,d,668,8);this.Bb=q(Int32Array,d,684,8);this.Wc=q(Int32Array,d,968,8);this.Vi=q(Uint32Array,
d,716,1);this.Li=q(Uint32Array,d,720,1);this.wb=[];this.Jg=0;this.wd=[];this.B=void 0;this.v=a;this.Zc(0,0);og(this)}function Xa(a,b,c){b.length&&(a.l(c),a.l(c+b.length-1),a.Td(c,c+b.length),a.nb.set(b,c))}
function ng(a){const b=c=>{const d=a.Na.exports[c];console.assert(d,"Missing import: "+c);return d};a.Ga=b("reset_cpu");b("getiopl");b("get_eflags");a.Qd=b("handle_irqs");a.Vd=b("main_loop");a.Qi=b("set_jit_config");a.Be=b("read8");a.hb=b("read16");a.h=b("read32s");a.Ag=b("write8");a.Rf=b("write16");a.Ba=b("write32");a.l=b("in_mapped_range");b("fpu_load_tag_word");b("fpu_load_status_word");b("fpu_get_sti_f64");b("translate_address_system_read_js");a.Pd=b("get_seg_cs");b("get_real_eip");b("clear_tlb");
a.Od=b("full_clear_tlb");a.jd=b("update_state_flags");a.Zc=b("set_tsc");a.Si=b("store_current_tsc");a.Pi=b("set_cpuid_level");a.Xd=b("pic_set_irq");a.Wd=b("pic_clear_irq");a.Sd=b("jit_clear_cache_js");a.Td=b("jit_dirty_cache");a.Id=b("codegen_finalize_finished");a.Hd=b("allocate_memory");a.kd=b("zero_memory");a.Rd=b("is_memory_zeroed");a.Ui=b("svga_allocate_memory");a.Ti=b("svga_allocate_dest_buffer");a.Yi=b("svga_fill_pixel_buffer");a.ad=b("svga_mark_dirty");a.Sb=b("get_pic_addr_master");a.hc=b("get_pic_addr_slave");
a.Hi=b("zstd_create_ctx");a.Ki=b("zstd_get_src_ptr");a.Ji=b("zstd_free_ctx");a.gf=b("zstd_read");a.hf=b("zstd_read_free");a.Yd=b("port20_read");a.$d=b("port21_read");a.Oe=b("portA0_read");a.Sf=b("portA1_read");a.Zd=b("port20_write");a.ae=b("port21_write");a.jf=b("portA0_write");a.Oi=b("portA1_write");a.Ke=b("port4D0_read");a.Me=b("port4D1_read");a.Le=b("port4D0_write");a.Ne=b("port4D1_write")}
fe.prototype.ia=function(){var a=[];a[0]=this.F[0];a[1]=new Uint8Array([...this.C,...this.s]);a[2]=this.gb;a[3]=this.fb;a[4]=this.wa[0];a[5]=this.ic[0];a[6]=this.jc[0];a[7]=this.Ub[0];a[8]=this.Vb[0];a[9]=this.Pc[0];a[10]=this.lb;a[11]=this.Ab[0];a[13]=this.ba[0];a[16]=this.kb[0];a[17]=this.lc[0];a[18]=this.wc[0];a[19]=this.Cb[0];a[22]=this.cd[0];a[23]=this.dd[0];a[24]=this.fd[0];a[25]=this.Rc[0];a[26]=this.flags[0];a[27]=this.Db[0];a[28]=this.sc[0];a[30]=this.uc[0];a[37]=this.$[0];a[38]=this.Vc[0];
a[39]=this.o;a[40]=this.jb;a[41]=this.Bb;a[42]=this.Wc;this.Si();a[43]=this.Md;a[45]=this.A.Qf;a[46]=this.A.Pe;a[47]=this.A.Ed;a[48]=this.A.eb;a[49]=this.A.Gb;a[50]=this.A.va;a[52]=this.A.Jd;a[53]=this.A.Ff;a[54]=this.A.kh;a[55]=this.A.le;a[56]=this.A.S;a[57]=this.A.J;a[58]=this.A.og;a[59]=this.A.da;var b=new Uint8Array(this.Ma.buffer,this.Sb(),13),c=new Uint8Array(this.Ma.buffer,this.hc(),13),d=[];const e=[];d[0]=b[0];d[1]=b[1];d[2]=b[2];d[3]=b[3];d[4]=b[4];d[5]=e;d[6]=b[6];d[7]=b[7];d[8]=b[8];d[9]=
b[9];d[10]=b[10];d[11]=b[11];d[12]=b[12];e[0]=c[0];e[1]=c[1];e[2]=c[2];e[3]=c[3];e[4]=c[4];e[5]=null;e[6]=c[6];e[7]=c[7];e[8]=c[8];e[9]=c[9];e[10]=c[10];e[11]=c[11];e[12]=c[12];a[60]=d;a[61]=this.A.Zg;a[62]=this.wb;a[63]=this.A.sd;a[64]=this.gd[0];a[66]=this.Xc;a[67]=this.Tb;a[68]=this.X[0];a[69]=this.Z[0];a[70]=this.D[0];a[71]=this.N[0];a[72]=this.R[0];a[73]=this.G[0];a[74]=this.L[0];a[75]=this.V[0];c=this.nb.length>>12;b=[];for(d=0;d<c;d++)this.Rd(d<<12,4096)||b.push(d);c=new za(c);d=new Uint8Array(b.length<<
12);for(const [g,k]of b.entries())c.set(k,1),b=k<<12,d.set(this.nb.subarray(b,b+4096),g<<12);const {Oj:f,Zi:h}={Zi:c,Oj:d};a[77]=f;a[78]=new Uint8Array(h.ac());a[79]=this.A.cf;a[80]=this.A.df;a[81]=this.A.ef;a[82]=this.A.Ld;a[83]=this.A.Ie;a[84]=this.A.ff;return a};
fe.prototype.I=function(a){this.F[0]=a[0];this.nb.length!==this.F[0]&&console.warn("Note: Memory size mismatch. we="+this.nb.length+" state="+this.F[0]);8===a[1].length?(this.C.set(a[1]),this.s.fill(242),this.s[1]=250):16===a[1].length&&(this.C.set(a[1].subarray(0,8)),this.s.set(a[1].subarray(8,16)));this.gb.set(a[2]);this.fb.set(a[3]);this.wa[0]=a[4];this.ic[0]=a[5];this.jc[0]=a[6];this.Ub[0]=a[7];this.Vb[0]=a[8];this.Pc[0]=a[9];this.lb.set(a[10]);this.Ab[0]=a[11];this.ba[0]=a[13];this.kb[0]=a[16];
this.lc[0]=a[17];this.wc[0]=a[18];this.Cb[0]=a[19];this.cd[0]=a[22];this.dd[0]=a[23];this.fd[0]=a[24];this.Rc[0]=a[25];this.flags[0]=a[26];this.Db[0]=a[27];this.sc[0]=a[28];this.uc[0]=a[30];this.$[0]=a[37];this.Vc[0]=a[38];this.o.set(a[39]);this.jb.set(a[40]);this.Bb.set(a[41]);a[42]&&this.Wc.set(a[42]);this.Zc(a[43][0],a[43][1]);this.A.Qf&&this.A.Qf.I(a[45]);this.A.Pe&&this.A.Pe.I(a[46]);this.A.Ed&&this.A.Ed.I(a[47]);this.A.eb&&this.A.eb.I(a[48]);this.A.Gb&&this.A.Gb.I(a[49]);this.A.va&&this.A.va.I(a[50]);
this.A.Jd&&this.A.Jd.I(a[52]);this.A.Ff&&this.A.Ff.I(a[53]);this.A.kh&&this.A.kh.I(a[54]);this.A.le&&this.A.le.I(a[55]);this.A.S&&this.A.S.I(a[56]);this.A.J&&this.A.J.I(a[57]);this.A.og&&this.A.og.I(a[58]);this.A.da&&this.A.da.I(a[59]);var b=a[60],c=new Uint8Array(this.Ma.buffer,this.Sb(),13),d=new Uint8Array(this.Ma.buffer,this.hc(),13);c[0]=b[0];c[1]=b[1];c[2]=b[2];c[3]=b[3];c[4]=b[4];var e=b[5];c[6]=b[6];c[7]=b[7];c[8]=b[8];c[9]=b[9];c[10]=b[10];c[11]=b[11];c[12]=b[12];d[0]=e[0];d[1]=e[1];d[2]=
e[2];d[3]=e[3];d[4]=e[4];d[6]=e[6];d[7]=e[7];d[8]=e[8];d[9]=e[9];d[10]=e[10];d[11]=e[11];d[12]=e[12];this.A.Zg&&this.A.Zg.I(a[61]);this.A.cf&&this.A.cf.I(a[79]);this.A.df&&this.A.df.I(a[80]);this.A.ef&&this.A.ef.I(a[81]);this.A.Ld&&this.A.Ld.I(a[82]);this.A.Ie&&this.A.Ie.I(a[83]);this.A.ff&&this.A.ff.I(a[84]);this.wb=a[62];this.A.sd&&this.A.sd.I(a[63]);this.gd[0]=a[64];this.Xc.set(a[66]);this.Tb.set(a[67]);this.X[0]=a[68];this.Z[0]=a[69];this.D[0]=a[70];this.N[0]=a[71];this.R[0]=a[72];this.G[0]=a[73];
this.L[0]=a[74];this.V[0]=a[75];b=new za(a[78].buffer);a=a[77];this.kd(0,this.F[0]);c=this.F[0]>>12;d=0;for(e=0;e<c;e++)if(b.get(e)){const f=d<<12;this.nb.set(a.subarray(f,f+4096),e<<12);d++}this.jd();this.Od();this.Sd()};function Ae(a){a.Ga();a.wb=[];a.A.Qf&&a.A.Qf.reset();a.A.Ld&&a.A.Ld.reset();a.A.Ie&&a.A.Ie.reset();a.A.Ff&&a.A.Ff.reset();ie(a)}
function pg(a,b,c){b<c?b=c:0>(b|0)&&(b=Math.pow(2,31)-131072);b=(b-1|131071)+1|0;console.assert(0===a.F[0],"Expected uninitialised memory");a.F[0]=b;c=a.Hd(b);a.nb=q(Uint8Array,a.Ma,c,b);q(Uint32Array,a.Ma,c,b>>2)}
fe.prototype.Jb=function(a,b){pg(this,a.F||67108864,a.Kb?67108864:1048576);a.qf&&this.Qi(0,1);a.od&&this.Pi(a.od);this.zb[0]=+a.va;this.Ga();var c=new Ya(this);this.B=c;this.pb.Mg=a.pb;this.pb.Jd=a.Kd;ie(this);if(a.vb){const e=mg(this.nb,a.vb,a.Kb,a.Fb||"");e&&this.wd.push(e)}w(c,179,this,function(){return 0});var d=0;w(c,146,this,function(){return d});t(c,146,this,function(e){d=e});w(c,1297,this,function(){return this.Jg<this.wb.length?this.wb[this.Jg++]:0});t(c,1296,this,void 0,function(e){function f(k){return new Uint8Array(Int32Array.of(k).buffer)}
function h(k){return k>>8|k<<8&65280}function g(k){return k<<24|k<<8&16711680|k>>8&65280|k>>>24}this.Jg=0;if(0===e)this.wb=f(1431127377);else if(1===e)this.wb=f(0);else if(3===e)this.wb=f(this.F[0]);else if(5===e)this.wb=f(1);else if(15===e)this.wb=f(1);else if(13===e)this.wb=new Uint8Array(16);else if(25===e){e=new Int32Array(4+64*this.wd.length);const k=new Uint8Array(e.buffer);e[0]=g(this.wd.length);for(let l=0;l<this.wd.length;l++){const {name:m,data:p}=this.wd[l],r=4+64*l;e[r>>2]=g(p.length);
e[r+4>>2]=h(49152+l);for(let u=0;u<m.length;u++)k[r+8+u]=m.charCodeAt(u)}this.wb=k}else this.wb=32768<=e&&49152>e?f(0):49152<=e&&e-49152<this.wd.length?this.wd[e-49152].data:f(0)});w(c,32,this,this.Yd);w(c,33,this,this.$d);w(c,160,this,this.Oe);w(c,161,this,this.Sf);t(c,32,this,this.Zd);t(c,33,this,this.ae);t(c,160,this,this.jf);t(c,161,this,this.Oi);w(c,1232,this,this.Ke);w(c,1233,this,this.Me);t(c,1232,this,this.Le);t(c,1233,this,this.Ne);this.A={};a.Kj&&(this.A.eb=new we(this),this.zb[0]&&(this.A.sd=
new me(this),this.A.Pe=new je(this),this.A.va=new ne(this)),this.A.Ed=new Mb(this),qg(this,this.A.Ed,a),this.A.Gb=new Oa(this),this.A.Jd=new Qf(this,b,a.screen,a.ma||8388608),this.A.Ff=new $e(this,b),this.A.kh=new qe(this,1016,b),a.cf&&(this.A.cf=new qe(this,760,b)),a.df&&(this.A.df=new qe(this,1E3,b)),a.ef&&(this.A.ef=new qe(this,744,b)),this.A.le=new nf(this,a.T),c=0,a.J&&(this.A.J=new pf(this,a.J,a.Qc,!1,c++,b)),a.S&&(this.A.S=new pf(this,a.S,void 0,!0,c++,b)),this.A.og=new Qb(this,b),"ne2k"===
a.bd.type?this.A.da=new Ie(this,b,a.ze,a.Nb):"virtio"===a.bd.type&&(this.A.Ie=new Nf(this,b,a.ze)),a.vc&&(this.A.Qf=new rg(a.vc,this,b)),a.Ld&&(this.A.Ld=new Ne(this,b)),a.ff&&(this.A.ff=new lg(this,b)),this.A.Zg=new kb(this,b));a.Ob&&(a=sg(this,a.Ob,a.Kb,a.Fb))&&(this.pb.Mg?this.wd.push(a):this.o[0]=bb(this.B,244))};
function sg(a,b,c,d){if(8192>b.byteLength){var e=new Int32Array(2048);(new Uint8Array(e.buffer)).set(new Uint8Array(b))}else e=new Int32Array(b,0,2048);for(var f=0;8192>f;f+=4){if(464367618===e[f>>2]){var h=e[f+4>>2];if(464367618+h+e[f+8>>2]|0)continue}else continue;var g=a;w(a.B,244,a,function(){return 0},function(){return 0},function(){var m=31860,p=0;if(d){p|=4;g.Ba(31760,m);d+="\x00";var r=(new TextEncoder).encode(d);Xa(g,r,m);m+=r.length}if(h&2){p|=64;r=0;g.Ba(31788,0);g.Ba(31792,m);var u=0;
var A=!1;for(let v=0;4294967296>v;v+=131072)A&&void 0!==g.g[v>>>17]?(g.Ba(m,20),g.Ba(m+4,u),g.Ba(m+8,0),g.Ba(m+12,v-u),g.Ba(m+16,0),g.Ba(m+20,1),m+=24,r+=24,A=!1):A||void 0!==g.g[v>>>17]||(u=v,A=!0);g.Ba(31788,r)}g.Ba(31744,p);r=p=0;if(h&65536){p=e[f+16>>2];var B=e[f+20>>2];r=e[f+24>>2];u=e[f+28>>2];A=new Uint8Array(b,f-(e[f+12>>2]-p),0===B?void 0:B-p);Xa(g,A,p);p=u|0;r=Math.max(B,r)}else if(1179403647===e[0]){u=new DataView(b);const [v,x]=lf(u,hf);console.assert(52===x);console.assert(1179403647===
v.Qh,"Bad magic");console.assert(1===v.de,"Unimplemented: 64 bit elf");console.assert(1===v.data,"Unimplemented: big endian");console.assert(1===v.wl,"Bad version0");console.assert(2===v.type,"Unimplemented type");console.assert(1===v.xl,"Bad version1");console.assert(52===v.wj,"Bad header size");console.assert(32===v.Zh,"Bad program header size");console.assert(40===v.yi,"Bad section header size");[p]=mf(new DataView(u.buffer,u.byteOffset+v.Qj,v.Zh*v.$h),jf,v.$h);mf(new DataView(u.buffer,u.byteOffset+
v.ol,v.yi*v.zi),kf,v.zi);u=v;A=p;p=u.Bh;for(B of A)0!==B.type&&1===B.type&&B.ng+B.Og<g.F[0]&&(B.Eh&&(A=new Uint8Array(b,B.offset,B.Eh),Xa(g,A,B.ng)),r=Math.max(r,B.ng+B.Og),p===u.Bh&&B.lh<=p&&B.lh+B.Og>p&&(p=p-B.lh+B.ng))}c&&(g.Ba(31764,1),g.Ba(31768,m),B=r,0!==(B&4095)&&(B=(B&-4096)+4096),r=B+c.byteLength,g.Ba(m,B),g.Ba(m+4,r),g.Ba(m+8,0),g.Ba(m+12,0),Xa(g,new Uint8Array(c),B));g.o[3]=31744;g.lb[0]=1;g.wa[0]=1;g.flags[0]=2;g.ba[0]=1;g.kb[0]=1;for(m=0;6>m;m++)g.C[m]=0,g.gb[m]=0,g.fb[m]=4294967295,
g.jb[m]=45058;g.$[0]=g.Pd()+p|0;g.jd();return 732803074});a.B.hd(244,a,function(m){console.log("Test exited with code "+ea(m,2));throw"HALT";},function(){},function(){},function(){});for(let m=0;15>=m;m++){function p(r){r?this.ab(m):Fb(this,m)}t(a.B,8192+m,a,p,p,p)}a=new Uint8Array(512);(new Uint16Array(a.buffer))[0]=43605;a[2]=1;var k=3;a[k++]=102;a[k++]=229;a[k++]=244;let l=a[k]=0;for(let m=0;m<a.length;m++)l+=a[m];a[k]=-l;return{name:"genroms/multiboot.bin",data:a}}}
function qg(a,b,c){var d=c.Eb||291;b.fa[56]=1|d>>4&240;b.fa[61]=d&255;b.fa[21]=128;b.fa[22]=2;d=0;1048576<=a.F[0]&&(d=a.F[0]-1048576>>10,d=Math.min(d,65535));b.fa[23]=d&255;b.fa[24]=d>>8&255;b.fa[48]=d&255;b.fa[49]=d>>8&255;d=0;16777216<=a.F[0]&&(d=a.F[0]-16777216>>16,d=Math.min(d,65535));b.fa[52]=d&255;b.fa[53]=d>>8&255;b.fa[91]=0;b.fa[92]=0;b.fa[93]=0;b.fa[20]=47;b.fa[95]=0;c.Dh&&(b.fa[63]=1)}
function ie(a){var b=a.pb.Mg,c=a.pb.Jd;if(b){var d=new Uint8Array(b);Xa(a,d,1048576-b.byteLength);if(c){var e=new Uint8Array(c);Xa(a,e,786432);$a(a.B,4272947200,1048576,function(f){f=f-4272947200|0;return f<e.length?e[f]:0},function(){})}$a(a.B,4293918720,1048576,function(f){return this.nb[f&1048575]}.bind(a),function(f,h){this.nb[f&1048575]=h}.bind(a))}}
function Xd(a,b,c,d,e,f){const h=new Uint8Array(a.Ma.buffer,e>>>0,f>>>0);WebAssembly.instantiate(h,{e:a.Ud}).then(g=>{a.Na.mh.set(b+1024,g.instance.exports.f);a.Id(b,c,d);a.bj&&a.bj(h)})}fe.prototype.ab=function(a){this.Xd(a);if(this.A.sd){var b=this.A.sd;if(!(24<=a)){var c=1<<a;0===(b.i&c)&&(b.i|=c,65536!==(b.g[a]&98304)&&(b.h|=c,ke(b,a)))}}};function Fb(a,b){a.Wd(b);if(a.A.sd&&(a=a.A.sd,!(24<=b))){var c=1<<b;(a.i&c)===c&&(a.i&=~c,a.g[b]&32768&&(a.h&=~c))}}
function og(a){var b={};a.debug=b;b.Jb=function(){};b.Xl=function(){};b.Pl=function(){};b.ia=function(){};b.Rl=function(){};b.Ql=function(){};b.Ol=function(){if(a.lb[4]&32)for(var f=0;4>f;f++)a.h(a.lb[3]+8*f)};b.Ml=function(){};b.Nl=function(){};b.Wl=function(){};b.bm=function(){};b.jm=function(){};b.Gl=function(){};let c,d;b.Ll=function(f,h,g){if(!d){if(void 0===c&&(c="function"===typeof require?require("./capstone-x86.min.js"):window.cs,void 0===c))return;d=[new c.Capstone(c.ARCH_X86,c.MODE_16),
new c.Capstone(c.ARCH_X86,c.MODE_32)]}try{d[f].disasm(h,g).forEach(function(k){aa(ea(k.Fl>>>0)+": "+ba(k.bytes.map(l=>ea(l,2).slice(-2)).join(" "),20)+" "+k.mnemonic+" "+k.op_str)})}catch(k){aa("Could not disassemble: "+Array.from(h).map(l=>ea(l,2)).join(" "))}};let e;b.Sl=function(f){if(void 0===e&&(e="function"===typeof require?require("./libwabt.cjs"):new window.WabtModule,void 0===e))return;f=f.slice();try{var h=e.readWasm(f,{gm:!1});h.generateNames();h.applyNames();h.toText({Vl:!0,Zl:!0})}catch(l){var g=
new Blob([f]),k=document.createElement("a");k.download="failed.wasm";k.href=window.URL.createObjectURL(g);k.dataset.downloadurl=["application/octet-stream",k.download,k.href].join(":");k.click();window.URL.revokeObjectURL(k.src);console.log(l.toString())}finally{h&&h.sa()}}};function Oe(a,b){this.u=a;this.eb=a.A.eb;this.he=b.he;this.O=[244,26,b.he&255,b.he>>8,7,5,16,0,1,0,2,0,0,0,0,0,1,168,0,0,0,16,191,254,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,244,26,b.Lf&255,b.Lf>>8,0,0,0,0,64,0,0,0,0,0,0,0,0,1,0,0];this.O=this.O.concat(Array(256-this.O.length).fill(0));this.Pa=b.Pa;this.Pb=[];this.name=b.name;this.j=this.s=0;this.o=new Uint32Array(4);this.h=new Uint32Array(4);for(var c of b.fe.features)this.o[c>>>5]|=1<<(c&31),this.h[c>>>5]|=1<<(c&31);b.fe.features.includes(32);this.C=
!0;this.i=0;this.D=!1;this.G=0;this.Y=[];for(var d of b.fe.Y)this.Y.push(new tg(a,this,d));this.l=0;this.g=this.Y[0];this.Lb=0;c=[];c.push(ug(this,b.fe));c.push(vg(b.notification));c.push(wg(this,b.Lb));b.pf&&(d=c.push,b=b.pf,b={type:4,Re:3,port:b.Sa,Pf:!1,offset:0,tf:new Uint8Array(0),Fc:b.Fc},d.call(c,b));xg(this,c);oe(a.A.eb,this);this.reset()}
function ug(a,b){return{type:1,Re:0,port:b.Sa,Pf:!1,offset:0,tf:new Uint8Array(0),Fc:[{bytes:4,name:"device_feature_select",read:()=>a.s,write:c=>{a.s=c}},{bytes:4,name:"device_feature",read:()=>a.o[a.s]||0,write:()=>{}},{bytes:4,name:"driver_feature_select",read:()=>a.j,write:c=>{a.j=c}},{bytes:4,name:"driver_feature",read:()=>a.h[a.j]||0,write:c=>{const d=a.o[a.j];a.j<a.h.length&&(a.h[a.j]=c&d);a.C=a.C&&!(c&~d)}},{bytes:2,name:"msix_config",read:()=>65535,write:()=>{}},{bytes:2,name:"num_queues",
read:()=>a.Y.length,write:()=>{}},{bytes:1,name:"device_status",read:()=>a.i,write:c=>{0===c&&a.reset();c&~a.i&4&&a.i&64&&(a.D=!0,a.i&4&&a.Ua(2));a.C||(c&=-9);a.i=c}},{bytes:1,name:"config_generation",read:()=>a.G,write:()=>{}},{bytes:2,name:"queue_select",read:()=>a.l,write:c=>{a.l=c;a.l<a.Y.length?a.g=a.Y[a.l]:a.g=null}},{bytes:2,name:"queue_size",read:()=>a.g?a.g.size:0,write:c=>{if(a.g){c&c-1&&(c=1<<ma(c-1)+1);c>a.g.La&&(c=a.g.La);var d=a.g;d.size=c;d.o=c-1}}},{bytes:2,name:"queue_msix_vector",
read:()=>65535,write:()=>{}},{bytes:2,name:"queue_enable",read:()=>a.g?a.g.enabled|0:0,write:c=>{a.g&&1===c&&We(a.g)&&(a.g.enabled=!0)}},{bytes:2,name:"queue_notify_off",read:()=>a.g?a.g.Ya:0,write:()=>{}},{bytes:4,name:"queue_desc (low dword)",read:()=>a.g?a.g.l:0,write:c=>{a.g&&(a.g.l=c)}},{bytes:4,name:"queue_desc (high dword)",read:()=>0,write:()=>{}},{bytes:4,name:"queue_avail (low dword)",read:()=>a.g?a.g.g:0,write:c=>{a.g&&(a.g.g=c)}},{bytes:4,name:"queue_avail (high dword)",read:()=>0,write:()=>
{}},{bytes:4,name:"queue_used (low dword)",read:()=>a.g?a.g.h:0,write:c=>{a.g&&(a.g.h=c)}},{bytes:4,name:"queue_used (high dword)",read:()=>0,write:()=>{}}]}}function vg(a){const b=[];let c;c=a.tg?0:2;for(const [d,e]of a.eg.entries())b.push({bytes:2,name:"notify"+d,read:()=>65535,write:e||(()=>{})});return{type:2,Re:1,port:a.Sa,Pf:!1,offset:0,tf:new Uint8Array([c&255,c>>8&255,c>>16&255,c>>24]),Fc:b}}
function wg(a,b){return{type:3,Re:2,port:b.Sa,Pf:!1,offset:0,tf:new Uint8Array(0),Fc:[{bytes:1,name:"isr_status",read:()=>{const c=a.Lb;a.Lb=0;Fe(a.eb,a.Pa);return c},write:()=>{}}]}}
function xg(a,b){let c=a.O[52]=64;var d=c;for(const f of b){b=16+f.tf.length;d=c;c=d+b;var e=f.Fc.reduce((h,g)=>h+g.bytes,0);e+=f.offset;e=16>e?16:1<<ma(e-1)+1;a.Pb[f.Re]={size:e};a.O[d]=9;a.O[d+1]=c;a.O[d+2]=b;a.O[d+3]=f.type;a.O[d+4]=f.Re;a.O[d+5]=0;a.O[d+6]=0;a.O[d+7]=0;a.O[d+8]=f.offset&255;a.O[d+9]=f.offset>>>8&255;a.O[d+10]=f.offset>>>16&255;a.O[d+11]=f.offset>>>24;a.O[d+12]=e&255;a.O[d+13]=e>>>8&255;a.O[d+14]=e>>>16&255;a.O[d+15]=e>>>24;for(const [h,g]of f.tf.entries())a.O[d+16+h]=g;d=16+4*
f.Re;a.O[d]=f.port&254|!f.Pf;a.O[d+1]=f.port>>>8&255;a.O[d+2]=f.port>>>16&255;a.O[d+3]=f.port>>>24&255;d=f.port+f.offset;for(const h of f.Fc){let g=h.read;b=h.write;if(!f.Pf){e=function(l){return g(l&-2)>>((l&1)<<3)&255};const k=function(l){return g(l&-4)>>((l&3)<<3)&255};switch(h.bytes){case 4:w(a.u.B,d,a,k,void 0,g);w(a.u.B,d+1,a,k);w(a.u.B,d+2,a,k);w(a.u.B,d+3,a,k);t(a.u.B,d,a,void 0,void 0,b);break;case 2:w(a.u.B,d,a,e,g);w(a.u.B,d+1,a,e);t(a.u.B,d,a,void 0,b);break;case 1:w(a.u.B,d,a,g),t(a.u.B,
d,a,b)}}d+=h.bytes}}a.O[c]=9;a.O[c+1]=0;a.O[c+2]=20;a.O[c+3]=5;a.O[c+4]=0;a.O[c+5]=0;a.O[c+6]=0;a.O[c+7]=0;a.O[c+8]=0;a.O[c+9]=0;a.O[c+10]=0;a.O[c+11]=0;a.O[c+12]=0;a.O[c+13]=0;a.O[c+14]=0;a.O[c+15]=0;a.O[c+16]=0;a.O[c+17]=0;a.O[c+18]=0;a.O[c+19]=0}Oe.prototype.ia=function(){let a=[];a[0]=this.s;a[1]=this.j;a[2]=this.o;a[3]=this.h;a[4]=this.C;a[5]=this.i;a[6]=this.D;a[7]=this.G;a[8]=this.Lb;a[9]=this.l;return a=a.concat(this.Y)};
Oe.prototype.I=function(a){this.s=a[0];this.j=a[1];this.o=a[2];this.h=a[3];this.C=a[4];this.i=a[5];this.D=a[6];this.G=a[7];this.Lb=a[8];this.l=a[9];let b=0;for(const c of a.slice(10))this.Y[b].I(c),b++;this.g=this.Y[this.l]||null};Oe.prototype.reset=function(){this.j=this.s=0;this.h.set(this.o);this.C=!0;this.l=this.i=0;this.g=this.Y[0];for(const a of this.Y)a.reset();this.D=!1;this.Lb=this.G=0;Fe(this.eb,this.Pa)};Oe.prototype.Ua=function(a){this.Lb|=a;this.eb.Ua(this.Pa)};
function tg(a,b,c){this.u=a;this.M=b;this.La=this.size=c.La;this.o=this.size-1;this.enabled=!1;this.Ya=c.Ya;this.j=this.h=this.i=this.g=this.l=0;this.reset()}tg.prototype.ia=function(){const a=[];a[0]=this.size;a[1]=this.La;a[2]=this.enabled;a[3]=this.Ya;a[4]=this.l;a[5]=this.g;a[6]=this.i;a[7]=this.h;a[8]=this.j;a[9]=1;return a};
tg.prototype.I=function(a){this.size=a[0];this.La=a[1];this.enabled=a[2];this.Ya=a[3];this.l=a[4];this.g=a[5];this.i=a[6];this.h=a[7];this.j=a[8];this.o=this.size-1;this.s=1!==a[9]};tg.prototype.reset=function(){this.enabled=!1;this.j=this.h=this.i=this.g=this.l=0;var a=this.La;this.size=a;this.o=a-1};function We(a){return a.l&&a.g&&a.h}function Te(a){a.s&&(a.s=!1,a.i=(a.u.hb(a.g+2)&~a.o)+(a.i&a.o));return a.u.hb(a.g+2)-a.i&65535}function Pe(a){return 0!==Te(a)}
function Qe(a){Pe(a);var b=a.u.hb(a.g+4+2*(a.i&a.o));b=new yg(a,b);a.i=a.i+1&65535;return b}function Ye(a,b){const c=a.u.hb(a.h+2)+a.j&a.o;var d=b.l;a.u.Ba(a.h+4+8*c,b.D);a.u.Ba(a.h+8+8*c,d);a.j++}function Ze(a){if(0!==a.j){var b=a.u.hb(a.h+2)+a.j&65535;a.u.Rf(a.h+2,b);a.j=0;0<(a.M.h[0]&536870912)?(a.u.hb(a.g+4+2*a.size),a.M.Ua(1)):~a.u.hb(a.g)&1&&a.M.Ua(1)}}
function yg(a,b){this.u=a.u;this.M=a.M;this.D=b;this.s=[];this.Mb=this.g=this.o=0;this.i=[];this.j=this.l=this.h=this.C=0;let c=a.l;var d=b;b=0;let e=a.size,f=!1;const h=0<(this.M.h[0]&268435456);do{var g=a,k=c;g={Tf:g.u.h(k+16*d),Dl:g.u.h(k+16*d+4),Yc:g.u.h(k+16*d+8),flags:g.u.hb(k+16*d+12),next:g.u.hb(k+16*d+14)};if(h&&g.flags&4)c=g.Tf,b=d=0,e=g.Yc/16;else{if(g.flags&2)f=!0,this.i.push(g),this.j+=g.Yc;else{if(f)break;this.s.push(g);this.Mb+=g.Yc}b++;if(b>e)break;if(g.flags&1)d=g.next;else break}}while(1)}
function Re(a,b){let c=0,d=b.length;for(;d&&a.o!==a.s.length;){var e=a.s[a.o],f=e.Tf+a.g;let l=e.Yc-a.g;l>d?(l=d,a.g+=d):(a.o++,a.g=0);e=b;var h=e.set,g=a.u,k=l;k&&(g.l(f),g.l(f+k-1));h.call(e,g.nb.subarray(f,f+k),c);c+=l;d-=l}}function Xe(a,b){let c=0,d=b.length;for(;d&&a.C!==a.i.length;){var e=a.i[a.C];const f=e.Tf+a.h;e=e.Yc-a.h;e>d?(e=d,a.h+=d):(a.C++,a.h=0);Xa(a.u,b.subarray(c,c+e),f);c+=e;d-=e}a.l+=c};function rg(a,b,c){this.h=a;this.v=c;this.s=[104,111,115,116,57,112];this.G=this.s.length;this.D="9P2000.L";this.j=this.o=8192;this.i=new Uint8Array(2*this.j);this.C=0;this.g=[];this.M=new Oe(b,{name:"virtio-9p",Pa:48,he:4169,Lf:9,fe:{Sa:43008,Y:[{La:32,Ya:0}],features:[0,32,29,28],Qg:()=>{}},notification:{Sa:43264,tg:!1,eg:[d=>{if(0===d){for(;Pe(this.l);)d=Qe(this.l),zg(this,d);d=this.l;const e=d.u.hb(d.g+2)+0&65535;d.u.Rf(d.h+4+8*d.size,e)}}]},Lb:{Sa:42752},pf:{Sa:42496,Fc:[{bytes:2,name:"mount tag length",
read:()=>this.G,write:()=>{}}].concat(Array.from(Array(254).keys()).map(d=>({bytes:1,name:"mount tag name "+d,read:()=>this.s[d]||0,write:()=>{}})))}});this.l=this.M.Y[0]}rg.prototype.ia=function(){var a=[];a[0]=this.s;a[1]=this.G;a[2]=this.M;a[3]=this.D;a[4]=this.o;a[5]=this.j;a[6]=this.i;a[7]=this.C;a[8]=this.g.map(function(b){return[b.ja,b.type,b.uid,b.Lc]});a[9]=this.h;return a};
rg.prototype.I=function(a){this.s=a[0];this.G=a[1];this.M.I(a[2]);this.l=this.M.Y[0];this.D=a[3];this.o=a[4];this.j=a[5];this.i=a[6];this.C=a[7];this.g=a[8].map(function(b){return{ja:b[0],type:b[1],uid:b[2],Lc:b[3]}});this.h.I(a[9])};rg.prototype.reset=function(){this.g=[];this.M.reset()};function V(a,b,c,d){M(["w","b","h"],[d+7,b+1,c],a.i,0);a.C=d+7}function Ag(a,b,c){c=M(["w"],[c],a.i,7);V(a,6,b,c)}function X(a,b){Xe(b,a.i.subarray(0,a.C));Ye(a.l,b);Ze(a.l)}
async function zg(a,b){var c=new Uint8Array(b.Mb);Re(b,c);var d={offset:0},e=N(["w","b","h"],c,d),f=e[0],h=e[1],g=e[2];switch(h){case 8:f=Gd(a.h);var k=Hd(a.h);e=[16914839];e[1]=a.o;e[2]=Math.floor(k/e[1]);e[3]=e[2]-Math.floor(f/e[1]);e[4]=e[2]-Math.floor(f/e[1]);e[5]=Ed(a.h);e[6]=Fd(a.h);e[7]=0;e[8]=256;f=M("wwddddddw".split(""),e,a.i,7);V(a,h,g,f);X(a,b);break;case 112:case 12:e=N(["w","w"],c,d);f=e[0];d=e[1];c=a.g[f].ja;var l=R(a.h,c);k=pd(a.h,c,d);Yc(a.h,a.g[f].ja,function(){var u=[];u[0]=l.Ta;
u[1]=this.j-24;M(["Q","w"],u,this.i,7);V(this,h,g,17);X(this,b)}.bind(a));break;case 70:e=N(["w","w","s"],c,d);c=e[0];f=e[1];k=e[2];k=Id(a.h,a.g[c].ja,a.g[f].ja,k);if(0>k){Ag(a,g,-k);X(a,b);break}V(a,h,g,0);X(a,b);break;case 16:e=N(["w","s","s","w"],c,d);f=e[0];k=e[1];var m=e[3];c=md(a.h,k,a.g[f].ja,e[2]);l=R(a.h,c);l.uid=a.g[f].uid;l.bb=m;M(["Q"],[l.Ta],a.i,7);V(a,h,g,13);X(a,b);break;case 18:e=N("wswwww".split(""),c,d);f=e[0];k=e[1];d=e[2];c=e[3];var p=e[4];m=e[5];c=ld(a.h,k,a.g[f].ja,c,p);l=R(a.h,
c);l.mode=d;l.uid=a.g[f].uid;l.bb=m;M(["Q"],[l.Ta],a.i,7);V(a,h,g,13);X(a,b);break;case 22:e=N(["w"],c,d);f=e[0];l=R(a.h,a.g[f].ja);f=M(["s"],[l.Mf],a.i,7);V(a,h,g,f);X(a,b);break;case 72:e=N(["w","s","w","w"],c,d);f=e[0];k=e[1];d=e[2];m=e[3];c=Wc(a.h,k,a.g[f].ja);l=R(a.h,c);l.mode=d|16384;l.uid=a.g[f].uid;l.bb=m;M(["Q"],[l.Ta],a.i,7);V(a,h,g,13);X(a,b);break;case 14:e=N(["w","s","w","w","w"],c,d);f=e[0];k=e[1];c=e[2];d=e[3];m=e[4];a.v.send("9p-create",[k,a.g[f].ja]);c=kd(a.h,k,a.g[f].ja);a.g[f].ja=
c;a.g[f].type=1;a.g[f].Lc=k;l=R(a.h,c);l.uid=a.g[f].uid;l.bb=m;l.mode=d|32768;M(["Q","w"],[l.Ta,a.j-24],a.i,7);V(a,h,g,17);X(a,b);break;case 52:e=N("wbwddws".split(""),c,d);f=e[0];c=e[2];k=0===e[4]?Infinity:e[4];e=Od(e[1],e[3],k,e[5],e[6]);k=Qd(a.h,a.g[f].ja,e,c);M(["b"],[k],a.i,7);V(a,h,g,1);X(a,b);break;case 54:e=N("wbddws".split(""),c,d);f=e[0];k=0===e[3]?Infinity:e[3];e=Od(e[1],e[2],k,e[4],e[5]);k=Pd(a.h,a.g[f].ja,e);k||(k=e,k.type=2);f=M(["b","d","d","w","s"],[k.type,k.start,Infinity===k.length?
0:k.length,k.h,k.g],a.i,7);V(a,h,g,f);X(a,b);break;case 24:e=N(["w","d"],c,d);f=e[0];l=R(a.h,a.g[f].ja);if(!l||4===l.status){Ag(a,g,2);X(a,b);break}e[0]=e[1];e[1]=l.Ta;e[2]=l.mode;e[3]=l.uid;e[4]=l.bb;e[5]=l.rb;e[6]=l.hg<<8|l.ig;e[7]=l.size;e[8]=a.o;e[9]=Math.floor(l.size/512+1);e[10]=l.ce;e[11]=0;e[12]=l.$c;e[13]=0;e[14]=l.Se;e[15]=0;e[16]=0;e[17]=0;e[18]=0;e[19]=0;M("dQwwwddddddddddddddd".split(""),e,a.i,7);V(a,h,g,153);X(a,b);break;case 26:e=N("wwwwwddddd".split(""),c,d);f=e[0];l=R(a.h,a.g[f].ja);
e[1]&1&&(l.mode=e[2]);e[1]&2&&(l.uid=e[3]);e[1]&4&&(l.bb=e[4]);e[1]&16&&(l.ce=Math.floor((new Date).getTime()/1E3));e[1]&32&&(l.$c=Math.floor((new Date).getTime()/1E3));e[1]&64&&(l.Se=Math.floor((new Date).getTime()/1E3));e[1]&128&&(l.ce=e[6]);e[1]&256&&(l.$c=e[8]);e[1]&8&&await zd(a.h,a.g[f].ja,e[5]);V(a,h,g,0);X(a,b);break;case 50:e=N(["w","d"],c,d);f=e[0];V(a,h,g,0);X(a,b);break;case 40:case 116:e=N(["w","d","w"],c,d);f=e[0];k=e[1];m=e[2];l=R(a.h,a.g[f].ja);if(!l||4===l.status){Ag(a,g,2);X(a,b);
break}if(2===a.g[f].type){(void 0).length<k+m&&(m=(void 0).length-k);for(e=0;e<m;e++)a.i[11+e]=(void 0)[k+e];M(["w"],[m],a.i,7);V(a,h,g,4+m)}else pd(a.h,a.g[f].ja,void 0),e=a.g[f].ja,m=Math.min(m,a.i.length-11),l.size<k+m?m=l.size-k:40===h&&(m=Kd(a.h,e,k+m)-k),k>l.size&&(m=0),a.v.send("9p-read-start",[a.g[f].Lc]),e=await xd(a.h,e,k,m),a.v.send("9p-read-end",[a.g[f].Lc,m]),e&&a.i.set(e,11),M(["w"],[m],a.i,7),V(a,h,g,4+m);X(a,b);break;case 118:e=N(["w","d","w"],c,d);f=e[0];k=e[1];m=e[2];e=a.g[f].Lc;
if(2===a.g[f].type){Ag(a,g,95);X(a,b);break}else await Ad(a.h,a.g[f].ja,k,m,c.subarray(d.offset));a.v.send("9p-write-end",[e,m]);M(["w"],[m],a.i,7);V(a,h,g,4);X(a,b);break;case 74:e=N(["w","s","w","s"],c,d);k=await td(a.h,a.g[e[0]].ja,e[1],a.g[e[2]].ja,e[3]);if(0>k){Ag(a,g,-k);X(a,b);break}V(a,h,g,0);X(a,b);break;case 76:e=N(["w","s","w"],c,d);d=e[0];k=e[1];c=e[2];f=gd(a.h,a.g[d].ja,k);if(-1===f){Ag(a,g,2);X(a,b);break}k=wd(a.h,a.g[d].ja,k);if(0>k){Ag(a,g,-k);X(a,b);break}V(a,h,g,0);X(a,b);break;
case 100:f=N(["w","s"],c,d);a.j!==f[0]&&(a.j=f[0],a.i=new Uint8Array(Math.min(16777216,2*a.j)));f=M(["w","s"],[a.j,a.D],a.i,7);V(a,h,g,f);X(a,b);break;case 104:e=N(["w","w","s","s","w"],c,d);f=e[0];a.g[f]={ja:0,type:1,uid:e[4],Lc:""};l=R(a.h,a.g[f].ja);M(["Q"],[l.Ta],a.i,7);V(a,h,g,13);X(a,b);a.v.send("9p-attach");break;case 108:e=N(["h"],c,d);V(a,h,g,0);X(a,b);break;case 110:e=N(["w","w","h"],c,d);f=e[0];m=e[1];p=e[2];if(0===p){a.g[m]={ja:a.g[f].ja,type:1,uid:a.g[f].uid,Lc:a.g[f].Lc};M(["h"],[0],
a.i,7);V(a,h,g,2);X(a,b);break}k=[];for(e=0;e<p;e++)k.push("s");d=N(k,c,d);c=a.g[f].ja;k=9;var r=0;for(e=0;e<p;e++){c=gd(a.h,c,d[e]);if(-1===c)break;k+=M(["Q"],[R(a.h,c).Ta],a.i,k);r++;a.g[m]={ja:c,type:1,uid:a.g[f].uid,Lc:d[e]}}M(["h"],[r],a.i,7);V(a,h,g,k-7);X(a,b);break;case 120:e=N(["w"],c,d);a.g[e[0]]&&0<=a.g[e[0]].ja&&(await rd(a.h,a.g[e[0]].ja),a.g[e[0]].ja=-1,a.g[e[0]].type=-1);V(a,h,g,0);X(a,b);break;case 32:e=N(["w","s","d","w"],c,d);f=e[0];k=e[1];c=e[3];a.g[f].type=2;V(a,h,g,0);X(a,b);
break;case 30:e=N(["w","w","s"],c,d),f=e[0],k=e[2],Ag(a,g,95),X(a,b)}};const Bg=!location.hostname.endsWith("copy.sh"),Cg=["wss://relay.widgetry.org/","ws://localhost:8080/"];function Dg(){const a=Y("version");return a?"?"+a.textContent:""}function Eg(a){document.title=a+" - v86";const b=document.querySelector("meta[name=description]");b&&(b.content="Running "+a)}function Fg(a){return!!a&&"0"!==a}let Gg=0;function Y(a){return document.getElementById(a)}const Hg="memory_size video_memory_size networking_proxy disable_audio enable_acpi boot_order".split(" ");for(const a of Hg)try{window.localStorage.removeItem(a)}catch(b){}
function Ig(){function a(){const k=[];for(const l of g){const m=l.filter(p=>p.element.checked);m.length&&k.push(m)}for(const l of h)l.element.style.display=k.every(m=>m.some(p=>p.ya(l)))?"":"none"}function b(k,l){if(k=Y(k))k.onclick=()=>Y("relay_url").value=l}if(window.WebAssembly){Y("start_emulation").onclick=function(k){Jg(null,null);Y("start_emulation").blur();k.preventDefault()};var c=new URLSearchParams(location.search),d=c.get("cdn")||(Bg?"images/":"//i.copy.sh/");d=[{id:"archlinux",name:"Arch Linux",
F:536870912,ma:8388608,state:{url:d+"arch_state-v2.bin.zst"},filesystem:{Uf:d+"arch/"},re:"virtio"},{id:"archlinux-boot",name:"Arch Linux",F:536870912,ma:8388608,filesystem:{Uf:d+"arch/",Xi:{url:d+"fs.json"}},Fb:"rw apm=off vga=0x344 video=vesafb:ypan,vremap:8 root=host9p rootfstype=9p rootflags=trans=virtio,cache=loose mitigations=off audit=0 init_on_free=on tsc=reliable random.trust_cpu=on nowatchdog init=/usr/bin/init-openrc net.ifnames=0 biosdevname=0",lf:!0,re:"virtio"},{id:"copy/skiffos",name:"SkiffOS",
S:{url:d+"skiffos/.iso",size:124672E3,async:!0,K:1048576,ea:!0},F:536870912},{id:"serenity",name:"SerenityOS",J:{url:d+"serenity-v3/.img.zst",size:734003200,async:!0,K:1048576,ea:!0},F:536870912,state:{url:d+"serenity_state-v4.bin.zst"},H:"https://serenityos.org/",Nb:!0},{id:"serenity-boot",name:"SerenityOS",J:{url:d+"serenity-v3/.img.zst",size:734003200,async:!0,K:1048576,ea:!0},F:536870912,H:"https://serenityos.org/"},{id:"redox",name:"Redox",J:{url:d+"redox_demo_i686_2024-09-07_1225_harddrive/.img",
size:671088640,async:!0,K:1048576,ea:!0},F:1073741824,state:{url:d+"redox_state-v2.bin.zst"},H:"https://www.redox-os.org/",va:!0},{id:"redox-boot",name:"Redox",J:{url:d+"redox_demo_i686_2024-09-07_1225_harddrive/.img",size:671088640,async:!0,K:1048576,ea:!0},F:1073741824,H:"https://www.redox-os.org/",va:!0},{id:"helenos",F:268435456,S:{url:d+"HelenOS-0.14.1-ia32.iso",size:25792512,async:!1},name:"HelenOS",H:"http://www.helenos.org/"},{id:"fiwix",F:268435456,J:{url:d+"FiwixOS-3.4-i386/.img",size:1073741824,
async:!0,K:1048576,ea:!0},name:"FiwixOS",H:"https://www.fiwix.org/"},{id:"haiku",F:536870912,J:{url:d+"haiku-v4/.img",size:1073741824,async:!0,K:1048576,ea:!0},state:{url:d+"haiku_state-v4.bin.zst"},name:"Haiku",H:"https://www.haiku-os.org/"},{id:"haiku-boot",F:536870912,J:{url:d+"haiku-v4/.img",size:1073741824,async:!0,K:1048576,ea:!0},name:"Haiku",H:"https://www.haiku-os.org/"},{id:"beos",F:536870912,J:{url:d+"beos5/.img",size:536870912,async:!0,K:1048576,ea:!0},name:"BeOS 5"},{id:"msdos",J:{url:d+
"msdos622/.img",size:67108864,async:!0,K:262144,ea:!0},name:"MS-DOS 6.22"},{id:"msdos4",T:{url:d+"msdos4.img",size:1474560},name:"MS-DOS 4"},{id:"freedos",T:{url:d+"freedos722.img",size:737280},name:"FreeDOS"},{id:"freegem",J:{url:d+"freegem/.bin",size:209715200,async:!0,K:262144,ea:!0},name:"Freedos with FreeGEM"},{id:"xcom",T:{url:d+"xcom144.img",size:1474560},name:"Freedos with Xcom",H:"http://xcom.infora.hu/index.html"},{id:"psychdos",J:{url:d+"psychdos/.img",size:549453824,async:!0,K:262144,
ea:!0},name:"PsychDOS",H:"https://psychoslinux.gitlab.io/DOS/INDEX.HTM"},{id:"86dos",T:{url:d+"pc86dos.img",size:163840},name:"86-DOS",H:"https://www.os2museum.com/wp/pc-86-dos/"},{id:"oberon",J:{url:d+"oberon.img",size:25165824,async:!1},name:"Oberon"},{id:"windows1",T:{url:d+"windows101.img",size:1474560},name:"Windows 1.01"},{id:"windows2",J:{url:d+"windows2.img",size:4177920,async:!1},name:"Windows 2.03"},{id:"linux26",S:{url:d+"linux.iso",size:6547456,async:!1},name:"Linux"},{id:"linux3",S:{url:d+
"linux3.iso",size:8638464,async:!1},name:"Linux"},{id:"linux4",S:{url:d+"linux4.iso",size:7731200,async:!1},name:"Linux",filesystem:{}},{id:"buildroot",vb:{url:d+"buildroot-bzimage.bin",size:5166352,async:!1},name:"Buildroot Linux",filesystem:{},Fb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"buildroot6",vb:{url:d+"buildroot-bzimage68.bin",size:10068480,async:!1},name:"Buildroot Linux 6.8",filesystem:{},Fb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"basiclinux",J:{url:d+"bl3-5.img",
size:104857600,async:!1},name:"BasicLinux"},{id:"xpud",S:{url:d+"xpud-0.9.2.iso",size:67108864,async:!1},name:"xPUD",F:268435456},{id:"elks",J:{url:d+"elks-hd32-fat.img",size:32514048,async:!1},name:"ELKS",H:"https://github.com/ghaerr/elks"},{id:"nodeos",vb:{url:d+"nodeos-kernel.bin",size:14452E3,async:!1},name:"NodeOS",Fb:"tsc=reliable mitigations=off random.trust_cpu=on"},{id:"dsl",F:268435456,S:{url:d+"dsl-4.11.rc2.iso",size:52824064,async:!1},name:"Damn Small Linux",H:"http://www.damnsmalllinux.org/"},
{id:"xwoaf",F:268435456,S:{url:d+"xwoaf_rebuild4.iso",size:2205696,async:!1},name:"xwoaf",H:"https://pupngo.dk/xwinflpy/xwoaf_rebuild.html"},{id:"minix",name:"Minix",F:268435456,S:{url:d+"minix-3.3.0/.iso",size:605581312,async:!0,K:1048576,ea:!0},H:"https://www.minix3.org/"},{id:"unix-v7",name:"Unix V7",J:{url:d+"unix-v7x86-0.8a/.img",size:152764416,async:!0,K:262144,ea:!0}},{id:"kolibrios",T:{url:Bg?d+"kolibri.img":"//builds.kolibrios.org/en_US/data/data/kolibri.img",size:1474560},name:"KolibriOS",
H:"https://kolibrios.org/en/"},{id:"kolibrios-fallback",T:{url:d+"kolibri.img",size:1474560},name:"KolibriOS"},{id:"mu",J:{url:d+"mu-shell.img",size:10321920,async:!1},F:268435456,name:"Mu",H:"https://github.com/akkartik/mu"},{id:"openbsd",J:{url:d+"openbsd/.img",size:1073741824,async:!0,K:1048576,ea:!0},state:{url:d+"openbsd_state.bin.zst"},F:268435456,name:"OpenBSD"},{id:"sortix",S:{url:d+"sortix-1.0-i686.iso",size:71075840,async:!1},F:536870912,name:"Sortix"},{id:"openbsd-boot",J:{url:d+"openbsd/.img",
size:1073741824,async:!0,K:1048576,ea:!0},F:268435456,name:"OpenBSD"},{id:"netbsd",J:{url:d+"netbsd/.img",size:511000064,async:!0,K:1048576,ea:!0},F:268435456,name:"NetBSD"},{id:"crazierl",Ob:{url:d+"crazierl-elf.img",size:896592,async:!1},Kb:{url:d+"crazierl-initrd.img",size:18448316,async:!1},va:!0,Fb:"kernel /libexec/ld-elf32.so.1",F:134217728,name:"Crazierl"},{id:"solos",T:{url:d+"os8.img",size:1474560},name:"Sol OS",H:"http://oby.ro/os/"},{id:"bootchess",T:{url:d+"bootchess.img",size:1474560},
name:"BootChess",H:"http://www.pouet.net/prod.php?which=64962"},{id:"bootbasic",T:{url:d+"bootbasic.img",size:512},name:"bootBASIC",H:"https://github.com/nanochess/bootBASIC"},{id:"bootlogo",T:{url:d+"bootlogo.img",size:512},name:"bootLogo",H:"https://github.com/nanochess/bootLogo"},{id:"pillman",T:{url:d+"pillman.img",size:512},name:"Pillman",H:"https://github.com/nanochess/Pillman"},{id:"invaders",T:{url:d+"invaders.img",size:512},name:"Invaders",H:"https://github.com/nanochess/Invaders"},{id:"sectorlisp",
T:{url:d+"sectorlisp-friendly.bin",size:512},name:"SectorLISP",H:"https://justine.lol/sectorlisp2/"},{id:"sectorforth",T:{url:d+"sectorforth.img",size:512},name:"sectorforth",H:"https://github.com/cesarblum/sectorforth"},{id:"floppybird",T:{url:d+"floppybird.img",size:1474560},name:"Floppy Bird",H:"http://mihail.co/floppybird"},{id:"stillalive",T:{url:d+"stillalive-os.img",size:368640},name:"Still Alive",H:"https://github.com/maniekx86/stillalive-os"},{id:"hello-v86",T:{url:d+"hello-v86.img",size:512},
name:"Hello v86"},{id:"tetros",T:{url:d+"tetros.img",size:512},name:"TetrOS",H:"https://github.com/daniel-e/tetros"},{id:"dino",T:{url:d+"bootdino.img",size:512},name:"dino",H:"https://github.com/franeklubi/dino"},{id:"bootrogue",T:{url:d+"bootrogue.img",size:512},name:"bootRogue",H:"https://github.com/nanochess/bootRogue"},{id:"duskos",J:{url:d+"duskos.img",async:!1,size:8388608},name:"Dusk OS",H:"http://duskos.org/"},{id:"windows2000",F:536870912,J:{url:d+"windows2k-v2/.img",size:2147483648,async:!0,
K:262144,ea:!0},name:"Windows 2000",state:{url:d+"windows2k_state-v3.bin.zst"},Nb:!0},{id:"windows2000-boot",F:536870912,J:{url:d+"windows2k-v2/.img",size:2147483648,async:!0,K:262144,ea:!0},name:"Windows 2000"},{id:"windows-me",F:268435456,J:{url:d+"windowsme-v2/.img",size:834666496,async:!0,K:262144,ea:!0},state:{url:d+"windows-me_state-v2.bin.zst"},name:"Windows ME"},{id:"windowsnt4",F:536870912,J:{url:d+"winnt4_noacpi/.img",size:523837440,async:!0,K:262144,ea:!0},name:"Windows NT 4.0",od:2},{id:"windowsnt35",
F:268435456,J:{url:d+"windowsnt351/.img",size:163577856,async:!0,K:262144,ea:!0},name:"Windows NT 3.51"},{id:"windowsnt3",F:268435456,J:{url:d+"winnt31/.img",size:91226112,async:!0,K:262144,ea:!0},name:"Windows NT 3.1"},{id:"windows98",F:134217728,J:{url:d+"windows98/.img",size:314572800,async:!0,K:262144,ea:!0},name:"Windows 98",state:{url:d+"windows98_state.bin.zst"},Nb:!0},{id:"windows98-boot",F:134217728,J:{url:d+"windows98/.img",size:314572800,async:!0,K:262144,ea:!0},name:"Windows 98"},{id:"windows95",
F:67108864,J:{url:d+"windows95-v2/.img",size:471859200,async:!0,K:262144,ea:!0},name:"Windows 95"},{id:"windows95-boot",F:67108864,J:{url:d+"windows95-v2/.img",size:471859200,async:!0,K:262144,ea:!0},name:"Windows 95"},{id:"windows30",F:67108864,S:{url:d+"Win30.iso",size:7774208,async:!1},name:"Windows 3.0"},{id:"windows31",F:67108864,J:{url:d+"win31.img",async:!1,size:34463744},name:"Windows 3.1"},{id:"tilck",F:134217728,J:{url:d+"tilck.img",async:!1,size:37748736},name:"Tilck",H:"https://github.com/vvaltchev/tilck"},
{id:"littlekernel",Ob:{url:d+"littlekernel-multiboot.img",async:!1,size:969580},name:"Little Kernel",H:"https://github.com/littlekernel/lk"},{id:"sanos",F:134217728,J:{url:d+"sanos-flp.img",async:!1,size:1474560},name:"Sanos",H:"http://www.jbox.dk/sanos/"},{id:"freebsd",F:268435456,J:{url:d+"freebsd/.img",size:2147483648,async:!0,K:1048576,ea:!0},state:{url:d+"freebsd_state.bin.zst"},name:"FreeBSD"},{id:"freebsd-boot",F:268435456,J:{url:d+"freebsd/.img",size:2147483648,async:!0,K:1048576,ea:!0},name:"FreeBSD"},
{id:"reactos",F:536870912,J:{url:d+"reactos-v2/.img",size:681574400,async:!0,K:1048576,ea:!0},state:{url:d+"reactos_state-v2.bin.zst"},Nb:!0,name:"ReactOS",va:!0,H:"https://reactos.org/"},{id:"reactos-boot",F:536870912,J:{url:d+"reactos-v2/.img",size:681574400,async:!0,K:1048576,ea:!0},name:"ReactOS",va:!0,H:"https://reactos.org/"},{id:"skift",S:{url:d+"skift-20200910.iso",size:64452608,async:!1},name:"Skift",H:"https://skiftos.org/"},{id:"snowdrop",T:{url:d+"snowdrop.img",size:1474560},name:"Snowdrop",
H:"http://www.sebastianmihai.com/snowdrop/"},{id:"openwrt",J:{url:d+"openwrt-18.06.1-x86-legacy-combined-squashfs.img",size:19846474,async:!1},name:"OpenWrt"},{id:"qnx",T:{url:d+"qnx-demo-network-4.05.img",size:1474560},name:"QNX 4.05"},{id:"9front",F:134217728,J:{url:d+"9front-10931.386/.iso",size:489453568,async:!0,K:1048576,ea:!0},state:{url:d+"9front_state-v3.bin.zst"},va:!0,name:"9front",H:"https://9front.org/"},{id:"9front-boot",F:134217728,J:{url:d+"9front-10931.386/.iso",size:489453568,async:!0,
K:1048576,ea:!0},va:!0,name:"9front",H:"https://9front.org/"},{id:"9legacy",F:536870912,J:{url:d+"9legacy.img",async:!1,size:16E6},name:"9legacy",H:"http://www.9legacy.org/"},{id:"mobius",T:{url:d+"mobius-fd-release5.img",size:1474560},name:"Mobius"},{id:"android",F:536870912,S:{url:d+"android-x86-1.6-r2/.iso",size:54661120,async:!0,K:1048576,ea:!0},name:"Android"},{id:"android4",F:536870912,S:{url:d+"android_x86_nonsse3_4.4r1_20140904/.iso",size:247463936,async:!0,K:1048576,ea:!0},name:"Android 4"},
{id:"tinycore",F:268435456,J:{url:d+"TinyCore-11.0.iso",size:19922944,async:!1},name:"Tinycore",H:"http://www.tinycorelinux.net/"},{id:"slitaz",F:536870912,J:{url:d+"slitaz-rolling-2024.iso",size:56573952,async:!1},name:"SliTaz",H:"https://slitaz.org/"},{id:"freenos",F:268435456,S:{url:d+"FreeNOS-1.0.3.iso",async:!1,size:11014144},name:"FreeNOS",va:!0,H:"http://www.freenos.org/"},{id:"syllable",F:536870912,J:{url:d+"syllable-destop-0.6.7/.img",async:!0,size:524288E3,K:524288,ea:!0},name:"Syllable",
H:"http://syllable.metaproject.frl/"},{id:"toaruos",F:536870912,S:{url:d+"toaruos-1.6.1-core.iso",size:67567616,async:!1},name:"ToaruOS",va:!0,H:"https://toaruos.org/"},{id:"nopeos",S:{url:d+"nopeos-0.1.iso",size:532480,async:!1},name:"Nope OS",H:"https://github.com/d99kris/nopeos"},{id:"soso",S:{url:d+"soso.iso",size:22546432,async:!1},name:"Soso",H:"https://github.com/ozkl/soso"},{id:"pcmos",T:{url:d+"PCMOS386-9-user-patched.img",size:1474560},name:"PC-MOS/386",H:"https://github.com/roelandjansen/pcmos386v501"},
{id:"jx",T:{url:d+"jx-demo.img",size:1474560},name:"JX",H:"https://www4.cs.fau.de/Projects/JX/index.html"},{id:"house",T:{url:d+"hOp-0.8.img",size:1474560},name:"House",H:"https://programatica.cs.pdx.edu/House/"},{id:"bleskos",name:"BleskOS",S:{url:d+"bleskos_2024u32.iso",size:1835008,async:!1},H:"https://github.com/VendelinSlezak/BleskOS"},{id:"boneos",name:"BoneOS",S:{url:d+"BoneOS.iso",size:11429888,async:!1},H:"https://amanuel.io/projects/BoneOS/"},{id:"mikeos",name:"MikeOS",S:{url:d+"mikeos.iso",
size:3311616,async:!1},H:"https://mikeos.sourceforge.net/"},{id:"bluejay",name:"Blue Jay",T:{url:d+"bj050.img",size:1474560},H:"https://archiveos.org/blue-jay/"},{id:"t3xforth",name:"T3XFORTH",T:{url:d+"t3xforth.img",size:1474560},H:"https://t3x.org/t3xforth/"},{id:"nanoshell",name:"NanoShell",S:{url:d+"nanoshell.iso",size:6785024,async:!1},H:"https://github.com/iProgramMC/NanoShellOS"},{id:"catk",name:"CatK",S:{url:d+"catkernel.iso",size:11968512,async:!1},H:"https://catk.neocities.org/"},{id:"mcp",
name:"M/CP",T:{url:d+"mcp2.img",size:512},H:"https://github.com/ybuzoku/MCP"},{id:"ibm-exploring",name:"Exploring The IBM Personal Computer",T:{url:d+"ibm-exploring.img",size:368640}},{id:"leetos",name:"lEEt/OS",T:{url:d+"leetos.img",size:1474560},H:"http://sininenankka.dy.fi/leetos/index.php"},{id:"newos",name:"NewOS",T:{url:d+"newos-flp.img",size:1474560,async:!1},H:"https://newos.org/"},{id:"aros-broadway",name:"AROS Broadway",F:536870912,S:{url:d+"broadway10/.iso",size:742051840,async:!0,K:524288,
ea:!0},H:"https://web.archive.org/web/20231109224346/http://www.aros-broadway.de/"},{id:"icaros",name:"Icaros Desktop",F:536870912,S:{url:d+"icaros-pc-i386-2.3/.iso",size:726511616,async:!0,K:524288,ea:!0},H:"http://vmwaros.blogspot.com/"},{id:"tinyaros",name:"Tiny Aros",F:536870912,S:{url:d+"tinyaros-pc-i386/.iso",size:111175680,async:!0,K:524288,ea:!0},H:"https://www.tinyaros.it/"},{id:"dancy",name:"Dancy",S:{url:d+"dancy.iso",size:10485760,async:!1},H:"https://github.com/Tiihala/Dancy"},{id:"curios",
name:"CuriOS",J:{url:d+"curios.img",size:83886080,async:!1},H:"https://github.com/h5n1xp/CuriOS"},{id:"os64",name:"OS64",S:{url:d+"os64boot.iso",size:5580800,async:!1},H:"https://os64.blogspot.com/"},{id:"ipxe",name:"iPXE",S:{url:d+"ipxe.iso",size:4194304,async:!1},H:"https://ipxe.org/"},{id:"netboot.xyz",name:"iPXE",S:{url:d+"netboot.xyz.iso",size:2398208,async:!1},H:"https://netboot.xyz/",re:"virtio"}];var e=c.get("profile");if(!e){var f=document.createElement("link");f.rel="prefetch";f.href="build/v86.wasm"+
Dg();document.head.appendChild(f)}f=document.createElement("link");f.rel="prefetch";f.href="build/xterm.js";document.head.appendChild(f);for(const k of d){if(e===k.id){Jg(k,c);return}const l=Y("start_"+k.id);l&&(l.onclick=m=>{m.ctrlKey||(m.preventDefault(),l.blur(),Jg(k,null))})}if("custom"===e)c.has("hda.url")||c.has("cdrom.url")||c.has("fda.url")?Jg(null,c):(c.has("m")&&(Y("memory_size").value=c.get("m")),c.has("vram")&&(Y("vga_memory_size").value=c.get("vram")),c.has("relay_url")&&(Y("relay_url").value=
c.get("relay_url")),c.has("mute")&&(Y("disable_audio").checked=Fg(c.get("mute"))),c.has("acpi")&&(Y("acpi").checked=Fg(c.get("acpi"))),c.has("boot_order")&&(Y("boot_order").value=c.get("boot_order")));else if(/^[a-zA-Z0-9\-_]+\/[a-zA-Z0-9\-_]+$/g.test(e)){const k="https://v86-user-images.b-cdn.net/"+e;fetch(k+"/profile.json").catch(()=>alert("Profile not found: "+e)).then(l=>l.json()).then(l=>{function m(p){return p&&{url:k+"/"+p.url,async:p.async,size:p.size}}l={id:l.id,name:l.name,F:l.memory_size,
ma:l.vga_memory_size,va:l.acpi,Eb:l.boot_order,J:m(l.hda),S:m(l.cdrom),T:m(l.fda),Ob:m(l.multiboot),vb:m(l.bzimage),Kb:m(l.initrd)};Jg(l,c)})}var h=Array.from(document.querySelectorAll("#oses tbody tr")).map(k=>{const [,l,m]=k.children[1].textContent.match(/([\d\.]+)\+? (\w+)/);let p=+l;"MB"===m?p*=1048576:"KB"===m&&(p*=1024);return{element:k,size:p,Mh:"gui_icon"===k.children[2].firstChild.className,family:k.children[3].textContent.replace(/-like/,""),sh:k.children[4].textContent,status:k.children[5].textContent,
source:k.children[6].textContent,languages:new Set(k.children[7].textContent.split(", ")),Ng:k.children[8].textContent}});d=[[{id:"linux",ya:k=>"Linux"===k.family},{id:"bsd",ya:k=>"BSD"===k.family},{id:"windows",ya:k=>"Windows"===k.family},{id:"unix",ya:k=>"Unix"===k.family},{id:"dos",ya:k=>"DOS"===k.family},{id:"custom",ya:k=>"Custom"===k.family}],[{id:"graphical",ya:k=>k.Mh},{id:"text",ya:k=>!k.Mh}],[{id:"floppy",ya:k=>"Floppy"===k.Ng},{id:"cd",ya:k=>"CD"===k.Ng},{id:"hd",ya:k=>"HD"===k.Ng}],[{id:"bootsector",
ya:k=>512>=k.size},{id:"lt5mb",ya:k=>5242880>=k.size},{id:"gt5mb",ya:k=>5242880<k.size}],[{id:"modern",ya:k=>"Modern"===k.status},{id:"historic",ya:k=>"Historic"===k.status}],[{id:"opensource",ya:k=>"Open-source"===k.source},{id:"proprietary",ya:k=>"Proprietary"===k.source}],[{id:"16bit",ya:k=>"16-bit"===k.sh},{id:"32bit",ya:k=>"32-bit"===k.sh}],[{id:"asm",ya:k=>k.languages.has("ASM")},{id:"c",ya:k=>k.languages.has("C")},{id:"cpp",ya:k=>k.languages.has("C++")},{id:"other_lang",ya:k=>["ASM","C","C++"].every(l=>
!k.languages.has(l))}]];var g=[];for(const k of d)d=k.filter(l=>{const m=document.getElementById(`filter_${l.id}`);m&&(m.onchange=a,l.element=m);return m}),d.length&&g.push(d);b("network_none","");b("network_inbrowser","inbrowser");b("network_fetch","fetch");b("network_relay","wss://relay.widgetry.org/");b("network_wisp","wisps://wisp.mercurywork.shop/v86/")}else alert("Your browser is not supported because it doesn't support WebAssembly")}window.addEventListener("load",Ig,!1);
window.addEventListener("load",function(){setTimeout(function(){window.addEventListener("popstate",Kg)},0)});"complete"===document.readyState&&Ig();
function Jg(a,b){Y("boot_options").style.display="none";const c=new Map;c.set("profile",a?.id||"custom");const d={};if(a&&(a.state&&(Y("reset").style.display="none"),Eg(a.name),d.zc=a.state,d.filesystem=a.filesystem,d.T=a.T,d.S=a.S,d.J=a.J,d.Ob=a.Ob,d.vb=a.vb,d.Kb=a.Kb,d.Fb=a.Fb,d.lf=a.lf,d.Nb=a.Nb,d.od=a.od,d.va=a.va,d.F=a.F,d.ma=a.ma,d.Eb=a.Eb,d.re=a.re,a.H)){Y("description").style.display="block";var e=document.createElement("a");e.href=a.H;e.textContent=a.name;e.target="_blank";Y("description").append(document.createTextNode("Running "),
e)}b&&(d.zc||(e=parseInt(b.get("chunk_size"),10),0<=e?(e=Math.min(4194304,Math.max(512,e)),e=ra(e)):e=262144,b.has("hda.url")&&(d.J={size:parseInt(b.get("hda.size"),10)||void 0,url:b.get("hda.url"),K:e,async:!0}),b.has("cdrom.url")&&(d.S={size:parseInt(b.get("cdrom.size"),10)||void 0,url:b.get("cdrom.url"),K:e,async:!0}),b.has("fda.url")&&(d.T={size:parseInt(b.get("fda.size"),10)||void 0,url:b.get("fda.url"),async:!1}),e=parseInt(b.get("m"),10),0<e&&(d.F=1048576*Math.max(16,e)),e=parseInt(b.get("vram"),
10),0<e&&(d.ma=1048576*e),d.va=b.has("acpi")?Fg(b.get("acpi")):d.va,d.ul="bochs"===b.get("bios"),d.re=b.get("net_device_type")||d.re),d.Ec=b.get("relay_url"),d.qf=Fg(b.get("disable_jit")),d.Zf=Fg(b.get("mute")));d.Ec||(d.Ec=Y("relay_url").value,Cg.includes(d.Ec)||c.set("relay_url",d.Ec));d.Ec.startsWith("fetch:")&&(d.Kc=d.Ec.slice(6),d.Ec="fetch");d.Zf=Y("disable_audio").checked||d.Zf;d.Zf&&c.set("mute","1");if(!d.zc){if(e=Y("bios").files[0])d.pb={buffer:e};var f=Y("vga_bios").files[0];f&&(d.Kd={buffer:f});
if(f=Y("floppy_image").files[0])d.T={buffer:f};const k=Y("cdrom_image").files[0];k&&(d.S={buffer:k});const l=Y("hda_image").files[0];l&&(d.J={buffer:l});const m=Y("hdb_image")?.files[0];m&&(d.Qc={buffer:m});const p=Y("multiboot_image")?.files[0];p&&(d.Ob={buffer:p});var h=Y("bzimage").files[0];h&&(d.vb={buffer:h});if(h=Y("initrd").files[0])d.Kb={buffer:h};(e=p?.name||l?.name||k?.name||m?.name||f?.name||e?.name)&&Eg(e);e=parseInt(Y("memory_size").value,10)||128;d.F&&128===e||(d.F=1048576*e);128!==
e&&c.set("m",String(e));e=parseInt(Y("vga_memory_size").value,10)||8;d.ma&&8===e||(d.ma=1048576*e);8!==e&&c.set("vram",String(e));e=parseInt(Y("boot_order").value,16)||0;d.Eb&&0===e||(d.Eb=e);0!==d.Eb&&c.set("boot_order",String(d.Eb));void 0===d.va&&(d.va=Y("acpi").checked,d.va&&c.set("acpi","1"));d.pb||(d.pb={url:"bios/seabios.bin"});d.Kd||(d.Kd={url:"bios/vgabios.bin"});d.ul&&(d.pb={url:"bios/bochs-bios.bin"},d.Kd={url:"bios/bochs-vgabios.bin"})}b||Lg(c);const g=new Sd({Fi:"build/v86.wasm"+Dg(),
screen:{Xf:Y("screen_container"),vl:!1},bd:{type:d.re||"ne2k",Ec:d.Ec,Kc:d.Kc},Wi:!0,F:d.F,ma:d.ma,Eb:d.Eb,pb:d.pb,Kd:d.Kd,T:d.T,J:d.J,Qc:d.Qc,S:d.S,Ob:d.Ob,vb:d.vb,Kb:d.Kb,Fb:d.Fb,lf:d.lf,va:d.va,qf:d.qf,zc:d.zc,filesystem:d.filesystem||{},nj:d.Zf,Nb:d.Nb,od:d.od});ae(g,"emulator-ready",function(){if(g.Ra.u.Na.exports.profiler_is_enabled()){const k=document.createElement("pre");document.body.appendChild(k);setInterval(function(){if(g.td()){var l=g.Ra.u,m="",p="COMPILE COMPILE_SKIPPED_NO_NEW_ENTRY_POINTS COMPILE_WRONG_ADDRESS_SPACE COMPILE_CUT_OFF_AT_END_OF_PAGE COMPILE_WITH_LOOP_SAFETY COMPILE_PAGE COMPILE_PAGE/COMPILE COMPILE_BASIC_BLOCK COMPILE_DUPLICATED_BASIC_BLOCK COMPILE_WASM_BLOCK COMPILE_WASM_LOOP COMPILE_DISPATCHER COMPILE_ENTRY_POINT COMPILE_WASM_TOTAL_BYTES COMPILE_WASM_TOTAL_BYTES/COMPILE_PAGE RUN_INTERPRETED RUN_INTERPRETED_NEW_PAGE RUN_INTERPRETED_PAGE_HAS_CODE RUN_INTERPRETED_PAGE_HAS_ENTRY_AFTER_PAGE_WALK RUN_INTERPRETED_NEAR_END_OF_PAGE RUN_INTERPRETED_DIFFERENT_STATE RUN_INTERPRETED_DIFFERENT_STATE_CPL3 RUN_INTERPRETED_DIFFERENT_STATE_FLAT RUN_INTERPRETED_DIFFERENT_STATE_IS32 RUN_INTERPRETED_DIFFERENT_STATE_SS32 RUN_INTERPRETED_MISSED_COMPILED_ENTRY_RUN_INTERPRETED RUN_INTERPRETED_STEPS RUN_FROM_CACHE RUN_FROM_CACHE_STEPS RUN_FROM_CACHE_STEPS/RUN_FROM_CACHE RUN_FROM_CACHE_STEPS/RUN_INTERPRETED_STEPS DIRECT_EXIT INDIRECT_JUMP INDIRECT_JUMP_NO_ENTRY NORMAL_PAGE_CHANGE NORMAL_FALLTHRU NORMAL_FALLTHRU_WITH_TARGET_BLOCK NORMAL_BRANCH NORMAL_BRANCH_WITH_TARGET_BLOCK CONDITIONAL_JUMP CONDITIONAL_JUMP_PAGE_CHANGE CONDITIONAL_JUMP_EXIT CONDITIONAL_JUMP_FALLTHRU CONDITIONAL_JUMP_FALLTHRU_WITH_TARGET_BLOCK CONDITIONAL_JUMP_BRANCH CONDITIONAL_JUMP_BRANCH_WITH_TARGET_BLOCK DISPATCHER_SMALL DISPATCHER_LARGE LOOP LOOP_SAFETY CONDITION_OPTIMISED CONDITION_UNOPTIMISED CONDITION_UNOPTIMISED_PF CONDITION_UNOPTIMISED_UNHANDLED_L CONDITION_UNOPTIMISED_UNHANDLED_LE FAILED_PAGE_CHANGE SAFE_READ_FAST SAFE_READ_SLOW_PAGE_CROSSED SAFE_READ_SLOW_NOT_VALID SAFE_READ_SLOW_NOT_USER SAFE_READ_SLOW_IN_MAPPED_RANGE SAFE_WRITE_FAST SAFE_WRITE_SLOW_PAGE_CROSSED SAFE_WRITE_SLOW_NOT_VALID SAFE_WRITE_SLOW_NOT_USER SAFE_WRITE_SLOW_IN_MAPPED_RANGE SAFE_WRITE_SLOW_READ_ONLY SAFE_WRITE_SLOW_HAS_CODE SAFE_READ_WRITE_FAST SAFE_READ_WRITE_SLOW_PAGE_CROSSED SAFE_READ_WRITE_SLOW_NOT_VALID SAFE_READ_WRITE_SLOW_NOT_USER SAFE_READ_WRITE_SLOW_IN_MAPPED_RANGE SAFE_READ_WRITE_SLOW_READ_ONLY SAFE_READ_WRITE_SLOW_HAS_CODE PAGE_FAULT TLB_MISS MAIN_LOOP MAIN_LOOP_IDLE DO_MANY_CYCLES CYCLE_INTERNAL INVALIDATE_ALL_MODULES_NO_FREE_WASM_INDICES INVALIDATE_MODULE_WRITTEN_WHILE_COMPILED INVALIDATE_MODULE_UNUSED_AFTER_OVERWRITE INVALIDATE_MODULE_DIRTY_PAGE INVALIDATE_PAGE_HAD_CODE INVALIDATE_PAGE_HAD_ENTRY_POINTS DIRTY_PAGE_DID_NOT_HAVE_CODE RUN_FROM_CACHE_EXIT_SAME_PAGE RUN_FROM_CACHE_EXIT_NEAR_END_OF_PAGE RUN_FROM_CACHE_EXIT_DIFFERENT_PAGE CLEAR_TLB FULL_CLEAR_TLB TLB_FULL TLB_GLOBAL_FULL MODRM_SIMPLE_REG MODRM_SIMPLE_REG_WITH_OFFSET MODRM_SIMPLE_CONST_OFFSET MODRM_COMPLEX SEG_OFFSET_OPTIMISED SEG_OFFSET_NOT_OPTIMISED SEG_OFFSET_NOT_OPTIMISED_ES SEG_OFFSET_NOT_OPTIMISED_FS SEG_OFFSET_NOT_OPTIMISED_GS SEG_OFFSET_NOT_OPTIMISED_NOT_FLAT".split(" "),
r=0;const A={};for(let B=0;B<p.length;B++){const v=p[B];var u=void 0;if(v.includes("/")){r++;const [x,E]=v.split("/");u=A[x]/A[E]}else u=A[v]=l.Na.exports.profiler_stat_get(B-r),u=1E8<=u?Math.round(u/1E6)+"m":1E5<=u?Math.round(u/1E3)+"k":u;m+=v+"="+u+"\n"}m+="\n";p=l.Na.exports.get_valid_tlb_entries_count();r=l.Na.exports.get_valid_global_tlb_entries_count();m=m+("TLB_ENTRIES="+p+" ("+r+" global, "+(p-r)+" non-global)\nWASM_TABLE_FREE=")+(l.Na.exports.jit_get_wasm_table_index_free_list_count()+"\n");
m+="JIT_CACHE_SIZE="+l.Na.exports.jit_get_cache_size()+"\n";m+="FLAT_SEGMENTS="+l.Na.exports.has_flat_segmentation()+"\n";m+="wasm memory size: "+(l.Ma.buffer.byteLength>>20)+"m\n";m+="Config:\n";m+="JIT_DISABLED="+l.Na.exports.get_jit_config(0)+"\n";m+="MAX_PAGES="+l.Na.exports.get_jit_config(1)+"\n";m+="JIT_USE_LOOP_SAFETY="+!!l.Na.exports.get_jit_config(2)+"\n";m+="MAX_EXTRA_BASIC_BLOCKS="+l.Na.exports.get_jit_config(3)+"\n";l=[Lb(l,!1,!1,!1,!1),Lb(l,!0,!1,!1,!1),Lb(l,!1,!0,!1,!1),Lb(l,!1,!1,!0,
!1),Lb(l,!1,!1,!1,!0)].join("\n\n");k.textContent=m+l}},1E3)}"dsl helenos android android4 redox beos 9legacy".split(" ").includes(a?.id)&&setTimeout(()=>{ce(g,"9legacy"===a.id?"1\n":"\n")},3E3);Mg(a,d,g);b?.has("c")&&setTimeout(function(){ce(g,b.get("c")+"\n")},25);b?.has("s")&&setTimeout(function(){for(var k=b.get("s")+"\n",l=0;l<k.length;l++)g.v.send("serial0-input",k.charCodeAt(l))},25)});ae(g,"download-progress",function(k){const l=Y("loading");l.style.display="block";if(k.xf.endsWith(".wasm")){var m=
k.xf.split("/");l.textContent="Fetching "+m[m.length-1]+" ..."}else if(k.wf===k.vf-1&&k.loaded>=k.total-2048)l.textContent="Done downloading. Starting now ...";else{m="Downloading images ";"number"===typeof k.wf&&k.vf&&(m+="["+(k.wf+1)+"/"+k.vf+"] ");if(k.total&&"number"===typeof k.loaded){k=Math.floor(k.loaded/k.total*100);k=Math.min(100,Math.max(0,k));var p=Math.floor(k/2);m=m+(k+"% [")+"#".repeat(p);m+=" ".repeat(50-p)+"]"}else m+=".".repeat(Gg++%50);l.textContent=m}});ae(g,"download-error",function(k){const l=
Y("loading");l.style.display="block";l.textContent=`Loading ${k.xf} failed. Check your connection and reload the page to try again.`})}
function Mg(a,b,c){function d(){var z=Date.now(),K=c.Ra?c.Ra.u.Jj[0]>>>0:0;K<l&&(l-=4294967296);var H=K-l;l=K;r+=H;if(K=z-g)k+=K,g=z,Y("speed").textContent=(H/1E3/K).toFixed(1),Y("avg_speed").textContent=(r/1E3/k).toFixed(1),z=k/1E3|0,Y("running_time").textContent=60>z?z+"s":3600>z?(z/60|0)+"m "+ca(z%60,2)+"s":(z/3600|0)+"h "+ca((z/60|0)%60,2)+"m "+ca(z%60,2)+"s"}function e(z,K,H){var L=Y("get_"+H+"_image");!z||z.async?L.style.display="none":L.onclick=function(){const ja=K.file&&K.file.name||(a?.id||
"v86")+("cdrom"===H?".iso":".img");if(K.Kh){var Ga=K.Kh(ja);ya(Ga,ja)}else K.ac(function(Ua){Ua?xa(Ua,ja):alert("The file could not be loaded. Maybe it's too big?")});L.blur()}}function f(z){z.ctrlKey?window.onbeforeunload=function(){window.onbeforeunload=null;return"CTRL-W cannot be sent to the emulator."}:window.onbeforeunload=null}Y("loading").style.display="none";Y("runtime_options").style.display="block";Y("runtime_infos").style.display="block";Y("screen_container").style.display="block";b.filesystem?
Ng(c):ae(c,"9p-attach",function(){Ng(c)});Y("run").onclick=function(){c.td()?(Y("run").value="Run",c.stop()):(Y("run").value="Pause",c.Jf());Y("run").blur()};Y("exit").onclick=function(){c.sa();location.href=location.pathname};Y("lock_mouse").onclick=function(){if(!h)Y("toggle_mouse").onclick();de();Y("lock_mouse").blur()};var h=!0;Y("toggle_mouse").onclick=function(){h=!h;c.j&&(c.j.cg=h);Y("toggle_mouse").value=(h?"Dis":"En")+"able mouse";Y("toggle_mouse").blur()};var g=0,k=0,l=0,m=null,p=!1,r=0;
ae(c,"emulator-started",function(){g=Date.now();m=setInterval(d,1E3)});ae(c,"emulator-stopped",function(){d();null!==m&&clearInterval(m)});var u=0,A=0,B=[];ae(c,"9p-read-start",function(z){z=z[0];B.push(z);Y("info_filesystem").style.display="block";Y("info_filesystem_status").textContent="Loading ...";Y("info_filesystem_last_file").textContent=z});ae(c,"9p-read-end",function(z){u+=z[1];Y("info_filesystem_bytes_read").textContent=u;const K=z[0];B=B.filter(H=>H!==K);B[0]?Y("info_filesystem_last_file").textContent=
B[0]:Y("info_filesystem_status").textContent="Idle"});ae(c,"9p-write-end",function(z){A+=z[1];Y("info_filesystem_bytes_written").textContent=A;B[0]||(Y("info_filesystem_last_file").textContent=z[0])});var v=0,x=0,E=0,J=0;Y("ide_type").textContent=c.qb.S?" (CD-ROM)":" (hard disk)";ae(c,"ide-read-start",function(){Y("info_storage").style.display="block";Y("info_storage_status").textContent="Loading ..."});ae(c,"ide-read-end",function(z){v+=z[1];x+=z[2];Y("info_storage_status").textContent="Idle";Y("info_storage_bytes_read").textContent=
v;Y("info_storage_sectors_read").textContent=x});ae(c,"ide-write-end",function(z){E+=z[1];J+=z[2];Y("info_storage_bytes_written").textContent=E;Y("info_storage_sectors_written").textContent=J});var Z=0,da=0;ae(c,"eth-receive-end",function(z){da+=z[0];Y("info_network").style.display="block";Y("info_network_bytes_received").textContent=da});ae(c,"eth-transmit-end",function(z){Z+=z[0];Y("info_network").style.display="block";Y("info_network_bytes_transmitted").textContent=Z});ae(c,"mouse-enable",function(z){p=
z;Y("info_mouse_enabled").textContent=z?"Yes":"No"});ae(c,"screen-set-size",function(z){const [K,H,L]=z;Y("info_res").textContent=K+"x"+H+(L?"x"+L:"");Y("info_vga_mode").textContent=L?"Graphical":"Text"});Y("reset").onclick=function(){c.Xg();Y("reset").blur()};e(b.J,c.qb.J,"hda");e(b.Qc,c.qb.Qc,"hdb");e(b.T,c.qb.T,"fda");e(b.Ve,c.qb.Ve,"fdb");e(b.S,c.qb.S,"cdrom");Y("change_fda_image").value=b.T?"Eject floppy image":"Insert floppy image";Y("change_fda_image").onclick=function(){if(c.Ra.u.A.le.rd)c.bg(),
Y("change_fda_image").value="Insert floppy image";else{const z=document.createElement("input");z.type="file";z.onchange=async function(){const K=z.files[0];K&&(await c.Kf({buffer:K}),Y("change_fda_image").value="Eject floppy image")};z.click()}Y("change_fda_image").blur()};Y("memory_dump").onclick=function(){const z=c.Ra.u.nb;xa(new Uint8Array(z.buffer,z.byteOffset,z.length),"v86memory.bin");Y("memory_dump").blur()};Y("capture_network_traffic").onclick=function(){function z(H,L){var ja=K,Ga=ja.push,
Ua=performance.now()/1E3;const ab=[];let ka=0;for(;ka+15<L.length;ka+=16){var la=ca(ka.toString(16).toUpperCase(),5)+"   ";for(var ta=0;16>ta;ta++)la+=ca(L[ka+ta].toString(16).toUpperCase(),2)+" ";la+="  ";for(ta=0;16>ta;ta++){var pa=L[ka+ta];la+=33<=pa&&34!==pa&&92!==pa&&126>=pa?String.fromCharCode(pa):"."}ab.push(la)}for(la=ca(ka.toString(16).toUpperCase(),5)+"   ";ka<L.length;ka++)la+=ca(L[ka].toString(16).toUpperCase(),2)+" ";ta=ka&15;la+="   ".repeat(16-ta);la+="  ";for(pa=0;pa<ta;pa++){const Ja=
L[ka+pa];la+=33<=Ja&&34!==Ja&&92!==Ja&&126>=Ja?String.fromCharCode(Ja):"."}ab.push(la);Ga.call(ja,{direction:H,time:Ua,Hj:"\n"+ab.join("\n")+"\n"});Y("capture_network_traffic").value=K.length+" packets"}this.value="0 packets";let K=[];c.ke.register("net0-receive",z.bind(this,"I"));ae(c,"net0-send",z.bind(this,"O"));this.onclick=function(){const H=K.map(({direction:L,time:ja,Hj:Ga})=>L+" "+ja.toFixed(6)+Ga+"\n").join("");xa(H,"traffic.hex");K=[];this.value="0 packets"}};Y("save_state").onclick=async function(){const z=
await c.Yg();xa(z,"v86state.bin");Y("save_state").blur()};Y("load_state").onclick=function(){Y("load_state_input").click();Y("load_state").blur()};Y("load_state_input").onchange=async function(){var z=this.files[0];if(z){var K=c.td();K&&await c.stop();var H=new FileReader;H.onload=async function(L){try{await c.qg(L.target.result)}catch(ja){throw alert("Something bad happened while restoring the state:\n"+ja+"\n\nNote that the current configuration must be the same as the original"),ja;}K&&c.Jf()};
H.readAsArrayBuffer(z);this.value=""}};Y("ctrlaltdel").onclick=function(){be(c,[29,56,83,157,184,211]);Y("ctrlaltdel").blur()};Y("alttab").onclick=function(){be(c,[56,15]);setTimeout(function(){be(c,[184,143])},100);Y("alttab").blur()};Y("scale").onchange=function(){var z=parseFloat(this.value);(z||0<z)&&c.dc&&c.dc.dh(z,z)};Y("fullscreen").onclick=function(){if(c.dc){var z=document.getElementById("screen_container");if(z){var K=z.requestFullScreen||z.webkitRequestFullscreen||z.mozRequestFullScreen||
z.msRequestFullScreen;K&&(K.call(z),(z=document.getElementsByClassName("phone_keyboard")[0])&&z.focus());try{navigator.keyboard.lock()}catch(H){}de()}}};Y("screen_container").onclick=function(){c.td()&&c.g&&"suspended"===c.g.aa.state&&c.g.aa.resume();if(h&&p)de();else if(window.getSelection().isCollapsed){const z=document.getElementsByClassName("phone_keyboard")[0];z.style.top=document.body.scrollTop+100+"px";z.style.left=document.body.scrollLeft+100+"px";z.focus()}};const sa=document.getElementsByClassName("phone_keyboard")[0];
sa.setAttribute("autocorrect","off");sa.setAttribute("autocapitalize","off");sa.setAttribute("spellcheck","false");sa.tabIndex=0;Y("screen_container").addEventListener("mousedown",()=>{sa.focus()},!1);Y("take_screenshot").onclick=function(){const z=c.dc?c.dc.Lj():null;try{window.open("").document.write(z.outerHTML)}catch(K){}Y("take_screenshot").blur()};if(c.g){let z=!1;Y("mute").onclick=function(){z?(c.g.jg.sg(1,void 0),z=!1,Y("mute").value="Mute"):(c.g.jg.sg(0,void 0),z=!0,Y("mute").value="Unmute");
Y("mute").blur()}}else Y("mute").remove();window.addEventListener("keydown",f,!1);window.addEventListener("keyup",f,!1);window.addEventListener("blur",f,!1);b=document.createElement("script");b.src="build/xterm.js";b.async=!0;b.onload=function(){var z=Y("terminal");c.ec&&c.ec.sa&&c.ec.sa();c.ec=new Nc(z,c.v);c.ec.show()};document.body.appendChild(b)}
function Ng(a){Y("filesystem_panel").style.display="block";Y("filesystem_send_file").onchange=function(){Array.prototype.forEach.call(this.files,function(b){var c=new Ka(b);c.onload=function(){c.ac(async function(d){await a.gj("/"+b.name,new Uint8Array(d))})};c.load()},this);this.value="";this.blur()};Y("filesystem_get_file").onkeypress=async function(b){if(13===b.which){this.disabled=!0;try{var c=await a.If(this.value)}catch(d){console.log(d)}this.disabled=!1;c?(b=this.value.replace(/\/$/,"").split("/"),
b=b[b.length-1]||"root",xa(c,b),this.value=""):alert("Can't read file")}}}function Kg(){location.reload()}function Lg(a){window.history.pushState&&(a="?"+Array.from(a.entries()).map(([b,c])=>b+"="+c.replace(/[?&=#+]/g,encodeURIComponent)).join("&"),window.history.pushState({search:a},"",a))};
